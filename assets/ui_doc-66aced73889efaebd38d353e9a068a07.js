!function(e,f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define(f):e.moment=f()}(this,function(){function e(){return ab.apply(null,arguments)}function f(a){return"[object Array]"===Object.prototype.toString.call(a)}function v(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function s(a,b){var h,c=[];for(h=0;h<a.length;++h)c.push(b(a[h],h));return c}function k(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function m(a,b){for(var h in b)k(b,h)&&(a[h]=b[h]);return k(b,"toString")&&(a.toString=b.toString),k(b,"valueOf")&&(a.valueOf=b.valueOf),a}function q(a,b,h,c){return bb(a,b,h,c,!0).utc()}function u(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),a._pf}function c(a){if(null==a._isValid){var b=u(a);a._isValid=!(isNaN(a._d.getTime())||!(0>b.overflow)||b.empty||b.invalidMonth||
b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated);a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function X(a){var b=q(NaN);return null!=a?m(u(b),a):u(b).userInvalidated=!0,b}function Y(a,b){var h,c,g;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=u(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),0<Ja.length)for(h in Ja)c=Ja[h],g=b[c],"undefined"!=typeof g&&(a[c]=g);return a}function Q(a){Y(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);!1===Ka&&(Ka=!0,e.updateOffset(this),Ka=!1)}function K(a){return a instanceof
Q||null!=a&&null!=a._isAMomentObject}function D(a){return 0>a?Math.ceil(a):Math.floor(a)}function y(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=D(a)),b}function C(a,b,h){var c,g=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),d=0;for(c=0;g>c;c++)(h&&a[c]!==b[c]||!h&&y(a[c])!==y(b[c]))&&d++;return d+e}function L(){}function T(a){return a?a.toLowerCase().replace("_","-"):a}function U(a){var b=null;if(!la[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=ya._abbr,require("./locale/"+
a),A(b)}catch(h){}return la[a]}function A(a,b){var h;return a&&(h="undefined"==typeof b?O(a):R(a,b),h&&(ya=h)),ya._abbr}function R(a,b){return null!==b?(b.abbr=a,la[a]=la[a]||new L,la[a].set(b),A(a),la[a]):(delete la[a],null)}function O(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return ya;if(!f(a)){if(b=U(a))return b;a=[a]}a:{for(var h,c,g,e=0;e<a.length;){g=T(a[e]).split("-");b=g.length;for(h=(h=T(a[e+1]))?h.split("-"):null;0<b;){if(c=U(g.slice(0,b).join("-"))){a=c;break a}if(h&&
h.length>=b&&C(g,h,!0)>=b-1)break;b--}e++}a=null}return a}function B(a,b){var h=a.toLowerCase();va[h]=va[h+"s"]=va[b]=a}function S(a){return"string"==typeof a?va[a]||va[a.toLowerCase()]:void 0}function d(a){var b,h,c={};for(h in a)k(a,h)&&(b=S(h),b&&(c[b]=a[h]));return c}function a(a,h){return function(c){return null!=c?(this._d["set"+(this._isUTC?"UTC":"")+a](c),e.updateOffset(this,h),this):b(this,a)}}function b(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function g(a,b){var h;if("object"==typeof a)for(h in a)this.set(h,
a[h]);else if(a=S(a),"function"==typeof this[a])return this[a](b);return this}function p(a,b,h){var c=""+Math.abs(a);return(0<=a?h?"+":"":"-")+Math.pow(10,Math.max(0,b-c.length)).toString().substr(1)+c}function l(a,b,h,c){var g=c;"string"==typeof c&&(g=function(){return this[c]()});a&&(sa[a]=g);b&&(sa[b[0]]=function(){return p(g.apply(this,arguments),b[1],b[2])});h&&(sa[h]=function(){return this.localeData().ordinal(g.apply(this,arguments),a)})}function n(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function r(a){var b,h,c=a.match(cb);b=0;for(h=c.length;h>b;b++)sa[c[b]]?c[b]=sa[c[b]]:c[b]=n(c[b]);return function(g){var e="";for(b=0;h>b;b++)e+=c[b]instanceof Function?c[b].call(g,a):c[b];return e}}function V(a,b){return a.isValid()?(b=ea(b,a.localeData()),La[b]=La[b]||r(b),La[b](a)):a.localeData().invalidDate()}function ea(a,b){function h(a){return b.longDateFormat(a)||a}var c=5;for(za.lastIndex=0;0<=c&&za.test(a);)a=a.replace(za,h),za.lastIndex=0,c-=1;return a}function t(a,
b,h){Ma[a]="function"==typeof b&&"[object Function]"===Object.prototype.toString.call(b)?b:function(a){return a&&h?h:b}}function w(a,b){return k(Ma,a)?Ma[a](b._strict,b._locale):new RegExp(aa(a))}function aa(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,h,c,Ia){return b||h||c||Ia}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(a,b){var h,c=b;"string"==typeof a&&(a=[a]);"number"==typeof b&&(c=function(a,h){h[b]=y(a)});for(h=0;h<a.length;h++)Na[a[h]]=
c}function h(a,b){J(a,function(a,h,c,Ia){c._w=c._w||{};b(a,c._w,c,Ia)})}function z(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function M(a,b){var h;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(h=Math.min(a.date(),z(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,h),a)}function P(a){return null!=a?(M(this,a),e.updateOffset(this,!0),this):b(this,"Month")}function G(a){var b,h=a._a;return h&&-2===u(a).overflow&&(b=0>h[fa]||11<h[fa]?fa:1>h[ba]||h[ba]>
z(h[ca],h[fa])?ba:0>h[W]||24<h[W]||24===h[W]&&(0!==h[ma]||0!==h[na]||0!==h[oa])?W:0>h[ma]||59<h[ma]?ma:0>h[na]||59<h[na]?na:0>h[oa]||999<h[oa]?oa:-1,u(a)._overflowDayOfYear&&(ca>b||b>ba)&&(b=ba),u(a).overflow=b),a}function ga(a){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function H(a,b){var h=!0;return m(function(){return h&&(ga(a+"\n"+Error().stack),h=!1),b.apply(this,arguments)},b)}function db(a){var b,h,c=a._i,g=Bb.exec(c);
if(g){u(a).iso=!0;b=0;for(h=Oa.length;h>b;b++)if(Oa[b][1].exec(c)){a._f=Oa[b][0];break}b=0;for(h=Pa.length;h>b;b++)if(Pa[b][1].exec(c)){a._f+=(g[6]||" ")+Pa[b][0];break}c.match(Aa)&&(a._f+="Z");Qa(a)}else a._isValid=!1}function Cb(a){var b=Db.exec(a._i);return null!==b?void(a._d=new Date(+b[1])):(db(a),void(!1===a._isValid&&(delete a._isValid,e.createFromInputFallback(a))))}function Eb(a,b,h,c,g,e,d){b=new Date(a,b,h,c,g,e,d);return 1970>a&&b.setFullYear(a),b}function Ra(a){var b=new Date(Date.UTC.apply(null,
arguments));return 1970>a&&b.setUTCFullYear(a),b}function Sa(a){return 0===a%4&&0!==a%100||0===a%400}function pa(a,b,h){var c;b=h-b;h-=a.day();return h>b&&(h-=7),b-7>h&&(h+=7),c=I(a).add(h,"d"),{week:Math.ceil(c.dayOfYear()/7),year:c.year()}}function ta(a,b,h){return null!=a?a:null!=b?b:h}function Ta(a){var b,h,c,g=[];if(!a._d){h=new Date;h=a._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()];if(a._w&&null==a._a[ba]&&null==a._a[fa]){var e,d,p,l,
H,z;e=a._w;null!=e.GG||null!=e.W||null!=e.E?(H=1,z=4,d=ta(e.GG,a._a[ca],pa(I(),1,4).year),p=ta(e.W,1),l=ta(e.E,1)):(H=a._locale._week.dow,z=a._locale._week.doy,d=ta(e.gg,a._a[ca],pa(I(),H,z).year),p=ta(e.w,1),null!=e.d?(l=e.d,H>l&&++p):l=null!=e.e?e.e+H:H);var n;e=6+H-z;z=Ra(d,0,1+e).getUTCDay();H=(H>z&&(z+=7),l=null!=l?1*l:H,n=1+e+7*(p-1)-z+l,{year:0<n?d:d-1,dayOfYear:0<n?n:(Sa(d-1)?366:365)+n});a._a[ca]=H.year;a._dayOfYear=H.dayOfYear}a._dayOfYear&&(c=ta(a._a[ca],h[ca]),a._dayOfYear>(Sa(c)?366:
365)&&(u(a)._overflowDayOfYear=!0),b=Ra(c,0,a._dayOfYear),a._a[fa]=b.getUTCMonth(),a._a[ba]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=g[b]=h[b];for(;7>b;b++)a._a[b]=g[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[W]&&0===a._a[ma]&&0===a._a[na]&&0===a._a[oa]&&(a._nextDay=!0,a._a[W]=0);a._d=(a._useUTC?Ra:Eb).apply(null,g);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[W]=24)}}function Qa(a){if(a._f===e.ISO_8601)return void db(a);a._a=[];u(a).empty=!0;var b,
h,c,g,d,p=""+a._i,l=p.length,H=0;c=ea(a._f,a._locale).match(cb)||[];for(b=0;b<c.length;b++)if(g=c[b],(h=(p.match(w(g,a))||[])[0])&&(d=p.substr(0,p.indexOf(h)),0<d.length&&u(a).unusedInput.push(d),p=p.slice(p.indexOf(h)+h.length),H+=h.length),sa[g]){h?u(a).empty=!1:u(a).unusedTokens.push(g);var z=a;null!=h&&k(Na,g)&&Na[g](h,z._a,z,g)}else a._strict&&!h&&u(a).unusedTokens.push(g);u(a).charsLeftOver=l-H;0<p.length&&u(a).unusedInput.push(p);!0===u(a).bigHour&&12>=a._a[W]&&0<a._a[W]&&(u(a).bigHour=void 0);
b=a._a;c=W;p=a._locale;d=a._a[W];var l=a._meridiem,n,p=null==l?d:null!=p.meridiemHour?p.meridiemHour(d,l):null!=p.isPM?(n=p.isPM(l),n&&12>d&&(d+=12),n||12!==d||(d=0),d):d;b[c]=p;Ta(a);G(a)}function Fb(a){if(!a._d){var b=d(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond];Ta(a)}}function eb(a){var b=a._i,h=a._f;a._locale=a._locale||O(a._l);if(null===b||void 0===h&&""===b)a=X({nullInput:!0});else if("string"==typeof b&&(a._i=b=a._locale.preparse(b)),K(b))a=new Q(G(b));
else if(f(h)){var g,e,d;if(0===a._f.length)u(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)h=0,g=Y({},a),null!=a._useUTC&&(g._useUTC=a._useUTC),g._f=a._f[b],Qa(g),c(g)&&(h+=u(g).charsLeftOver,h+=10*u(g).unusedTokens.length,u(g).score=h,(null==d||d>h)&&(d=h,e=g));m(a,e||g)}}else h?Qa(a):v(b)?a._d=b:Gb(a);return a}function Gb(a){var b=a._i;void 0===b?a._d=new Date:v(b)?a._d=new Date(+b):"string"==typeof b?Cb(a):f(b)?(a._a=s(b.slice(0),function(a){return parseInt(a,10)}),Ta(a)):
"object"==typeof b?Fb(a):"number"==typeof b?a._d=new Date(b):e.createFromInputFallback(a)}function bb(a,b,h,c,g){var e={};"boolean"==typeof h&&(c=h,h=void 0);e._isAMomentObject=!0;e._useUTC=e._isUTC=g;e._l=h;e._i=a;e._f=b;e._strict=c;a=new Q(G(eb(e)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function I(a,b,h,c){return bb(a,b,h,c,!1)}function fb(a,b){var h,c;if(1===b.length&&f(b[0])&&(b=b[0]),!b.length)return I();h=b[0];for(c=1;c<b.length;++c)b[c].isValid()&&!b[c][a](h)||(h=b[c]);return h}
function Ba(a){a=d(a);var b=a.year||0,h=a.quarter||0,c=a.month||0,g=a.week||0,e=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+e+7*g;this._months=+c+3*h+12*b;this._data={};this._locale=O();this._bubble()}function Ua(a){return a instanceof Ba}function gb(a,b){l(a,0,0,function(){var a=this.utcOffset(),h="+";return 0>a&&(a=-a,h="-"),h+p(~~(a/60),2)+b+p(~~a%60,2)})}function Va(a){a=(a||"").match(Aa)||[];a=((a[a.length-1]||[])+"").match(Hb)||
["-",0,0];var b=+(60*a[1])+y(a[2]);return"+"===a[0]?b:-b}function Wa(a,b){var h,c;return b._isUTC?(h=b.clone(),c=(K(a)||v(a)?+a:+I(a))-+h,h._d.setTime(+h._d+c),e.updateOffset(h,!1),h):I(a).local()}function Xa(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function hb(){return this._isUTC&&0===this._offset}function ia(a,b){var h,c,g,e=a;g=null;Ua(a)?e={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(e={},b?e[b]=a:e.milliseconds=a):(g=Ib.exec(a))?(h="-"===g[1]?-1:1,e={y:0,d:y(g[ba])*
h,h:y(g[W])*h,m:y(g[ma])*h,s:y(g[na])*h,ms:y(g[oa])*h}):(g=Jb.exec(a))?(h="-"===g[1]?-1:1,e={y:qa(g[2],h),M:qa(g[3],h),d:qa(g[4],h),h:qa(g[5],h),m:qa(g[6],h),s:qa(g[7],h),w:qa(g[8],h)}):null==e?e={}:"object"==typeof e&&("from"in e||"to"in e)&&(g=I(e.from),e=I(e.to),g=(e=Wa(e,g),g.isBefore(e)?h=ib(g,e):(h=ib(e,g),h.milliseconds=-h.milliseconds,h.months=-h.months),h),e={},e.ms=g.milliseconds,e.M=g.months);return c=new Ba(e),Ua(a)&&k(a,"_locale")&&(c._locale=a._locale),c}function qa(a,b){var h=a&&parseFloat(a.replace(",",
"."));return(isNaN(h)?0:h)*b}function ib(a,b){var h={milliseconds:0,months:0};return h.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(h.months,"M").isAfter(b)&&--h.months,h.milliseconds=+b-+a.clone().add(h.months,"M"),h}function jb(a,b){return function(h,c){var g,e;null===c||isNaN(+c)||(kb[b]||(ga("moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),kb[b]=!0),e=h,h=c,c=e);return h="string"==typeof h?+h:h,g=ia(h,c),lb(this,g,a),this}}function lb(a,
h,c,g){var d=h._milliseconds,p=h._days;h=h._months;g=null==g?!0:g;d&&a._d.setTime(+a._d+d*c);p&&(d=b(a,"Date")+p*c,a._d["set"+(a._isUTC?"UTC":"")+"Date"](d));h&&M(a,b(a,"Month")+h*c);g&&e.updateOffset(a,p||h)}function mb(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():V(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function nb(a){var b;return void 0===a?this._locale._abbr:(b=O(a),null!=
b&&(this._locale=b),this)}function ob(){return this._locale}function Ca(a,b){l(0,[a,a.length],0,b)}function pb(a,b,h){return pa(I([a,11,31+b-h]),b,h).week}function qb(a,b){l(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function rb(a,b){return b._meridiemParse}function Kb(a,b){b[oa]=y(1E3*("0."+a))}function sb(a){return a}function tb(a,b,h,c){var g=O();b=q().set(c,b);return g[h](b,a)}function wa(a,b,h,c,g){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return tb(a,
b,h,g);var e=[];for(b=0;c>b;b++)e[b]=tb(a,b,h,g);return e}function ub(a,b,h,c){b=ia(b,h);return a._milliseconds+=c*b._milliseconds,a._days+=c*b._days,a._months+=c*b._months,a._bubble()}function vb(a){return 0>a?Math.floor(a):Math.ceil(a)}function ja(a){return function(){return this.as(a)}}function ra(a){return function(){return this._data[a]}}function Lb(a,b,h,c,g){return g.relativeTime(b||1,!!h,a,c)}function Da(){var a,b,h,c=Ya(this._milliseconds)/1E3,g=Ya(this._days),e=Ya(this._months);a=D(c/60);
b=D(a/60);c%=60;a%=60;h=D(e/12);var e=e%12,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(h?h+"Y":"")+(e?e+"M":"")+(g?g+"D":"")+(b||a||c?"T":"")+(b?b+"H":"")+(a?a+"M":"")+(c?c+"S":""):"P0D"}var ab,ya,Ja=e.momentProperties=[],Ka=!1,la={},va={},cb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,za=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,La={},sa={},wb=/\d/,Z=/\d\d/,xb=/\d{3}/,Za=
/\d{4}/,Ea=/[+-]?\d{6}/,N=/\d\d?/,Fa=/\d{1,3}/,$a=/\d{1,4}/,Ga=/[+-]?\d{1,6}/,Mb=/\d+/,Ha=/[+-]?\d+/,Aa=/Z|[+-]\d\d:?\d\d/gi,xa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ma={},Na={},ca=0,fa=1,ba=2,W=3,ma=4,na=5,oa=6;l("M",["MM",2],"Mo",function(){return this.month()+1});l("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});l("MMMM",0,0,function(a){return this.localeData().months(this,a)});B("month","M");t("M",
N);t("MM",N,Z);t("MMM",xa);t("MMMM",xa);J(["M","MM"],function(a,b){b[fa]=y(a)-1});J(["MMM","MMMM"],function(a,b,h,c){c=h._locale.monthsParse(a,c,h._strict);null!=c?b[fa]=c:u(h).invalidMonth=a});var kb={};e.suppressDeprecationWarnings=!1;var Bb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",
/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Pa=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Db=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=H("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});l(0,["YY",2],0,function(){return this.year()%
100});l(0,["YYYY",4],0,"year");l(0,["YYYYY",5],0,"year");l(0,["YYYYYY",6,!0],0,"year");B("year","y");t("Y",Ha);t("YY",N,Z);t("YYYY",$a,Za);t("YYYYY",Ga,Ea);t("YYYYYY",Ga,Ea);J(["YYYYY","YYYYYY"],ca);J("YYYY",function(a,b){b[ca]=2===a.length?e.parseTwoDigitYear(a):y(a)});J("YY",function(a,b){b[ca]=e.parseTwoDigitYear(a)});e.parseTwoDigitYear=function(a){return y(a)+(68<y(a)?1900:2E3)};var yb=a("FullYear",!1);l("w",["ww",2],"wo","week");l("W",["WW",2],"Wo","isoWeek");B("week","w");B("isoWeek","W");
t("w",N);t("ww",N,Z);t("W",N);t("WW",N,Z);h(["w","ww","W","WW"],function(a,b,h,c){b[c.substr(0,1)]=y(a)});l("DDD",["DDDD",3],"DDDo","dayOfYear");B("dayOfYear","DDD");t("DDD",Fa);t("DDDD",xb);J(["DDD","DDDD"],function(a,b,h){h._dayOfYear=y(a)});e.ISO_8601=function(){};var Nb=H("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=I.apply(null,arguments);return this>a?this:a}),Ob=H("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(){var a=I.apply(null,arguments);return a>this?this:a});gb("Z",":");gb("ZZ","");t("Z",Aa);t("ZZ",Aa);J(["Z","ZZ"],function(a,b,h){h._useUTC=!0;h._tzm=Va(a)});var Hb=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ib=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Jb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;ia.fn=Ba.prototype;var Pb=jb(1,"add"),Qb=jb(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";
var zb=H("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});l(0,["gg",2],0,function(){return this.weekYear()%100});l(0,["GG",2],0,function(){return this.isoWeekYear()%100});Ca("gggg","weekYear");Ca("ggggg","weekYear");Ca("GGGG","isoWeekYear");Ca("GGGGG","isoWeekYear");B("weekYear","gg");B("isoWeekYear","GG");t("G",Ha);t("g",Ha);t("GG",N,Z);
t("gg",N,Z);t("GGGG",$a,Za);t("gggg",$a,Za);t("GGGGG",Ga,Ea);t("ggggg",Ga,Ea);h(["gggg","ggggg","GGGG","GGGGG"],function(a,b,h,c){b[c.substr(0,2)]=y(a)});h(["gg","GG"],function(a,b,h,c){b[c]=e.parseTwoDigitYear(a)});l("Q",0,0,"quarter");B("quarter","Q");t("Q",wb);J("Q",function(a,b){b[fa]=3*(y(a)-1)});l("D",["DD",2],"Do","date");B("date","D");t("D",N);t("DD",N,Z);t("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});J(["D","DD"],ba);J("Do",function(a,b){b[ba]=y(a.match(N)[0],10)});
var Ab=a("Date",!0);l("d",0,"do","day");l("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});l("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});l("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});l("e",0,0,"weekday");l("E",0,0,"isoWeekday");B("day","d");B("weekday","e");B("isoWeekday","E");t("d",N);t("e",N);t("E",N);t("dd",xa);t("ddd",xa);t("dddd",xa);h(["dd","ddd","dddd"],function(a,b,h){var c=h._locale.weekdaysParse(a);null!=c?b.d=c:u(h).invalidWeekday=
a});h(["d","e","E"],function(a,b,h,c){b[c]=y(a)});l("H",["HH",2],0,"hour");l("h",["hh",2],0,function(){return this.hours()%12||12});qb("a",!0);qb("A",!1);B("hour","h");t("a",rb);t("A",rb);t("H",N);t("h",N);t("HH",N,Z);t("hh",N,Z);J(["H","HH"],W);J(["a","A"],function(a,b,h){h._isPm=h._locale.isPM(a);h._meridiem=a});J(["h","hh"],function(a,b,h){b[W]=y(a);u(h).bigHour=!0});var Rb=a("Hours",!0);l("m",["mm",2],0,"minute");B("minute","m");t("m",N);t("mm",N,Z);J(["m","mm"],ma);var Sb=a("Minutes",!1);l("s",
["ss",2],0,"second");B("second","s");t("s",N);t("ss",N,Z);J(["s","ss"],na);var Tb=a("Seconds",!1);l("S",0,0,function(){return~~(this.millisecond()/100)});l(0,["SS",2],0,function(){return~~(this.millisecond()/10)});l(0,["SSS",3],0,"millisecond");l(0,["SSSS",4],0,function(){return 10*this.millisecond()});l(0,["SSSSS",5],0,function(){return 100*this.millisecond()});l(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});l(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});l(0,["SSSSSSSS",
8],0,function(){return 1E5*this.millisecond()});l(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});B("millisecond","ms");t("S",Fa,wb);t("SS",Fa,Z);t("SSS",Fa,xb);var da;for(da="SSSS";9>=da.length;da+="S")t(da,Mb);for(da="S";9>=da.length;da+="S")J(da,Kb);var Ub=a("Milliseconds",!1);l("z",0,0,"zoneAbbr");l("zz",0,0,"zoneName");var x=Q.prototype;x.add=Pb;x.calendar=function(a,b){var h=a||I(),c=Wa(h,this).startOf("day"),c=this.diff(c,"days",!0),c=-6>c?"sameElse":-1>c?"lastWeek":0>c?"lastDay":
1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse";return this.format(b&&b[c]||this.localeData().calendar(c,this,I(h)))};x.clone=function(){return new Q(this)};x.diff=function(a,b,h){var c;a=Wa(a,this);var g=6E4*(a.utcOffset()-this.utcOffset());b=S(b);if("year"===b||"month"===b||"quarter"===b){var e,g=12*(a.year()-this.year())+(a.month()-this.month()),d=this.clone().add(g,"months");a=(0>a-d?(c=this.clone().add(g-1,"months"),e=(a-d)/(d-c)):(c=this.clone().add(g+1,"months"),e=(a-d)/(c-d)),-(g+e));
"quarter"===b?a/=3:"year"===b&&(a/=12)}else c=this-a,a="second"===b?c/1E3:"minute"===b?c/6E4:"hour"===b?c/36E5:"day"===b?(c-g)/864E5:"week"===b?(c-g)/6048E5:c;return h?a:D(a)};x.endOf=function(a){return a=S(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};x.format=function(a){a=V(this,a||e.defaultFormat);return this.localeData().postformat(a)};x.from=function(a,b){return this.isValid()?ia({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};
x.fromNow=function(a){return this.from(I(),a)};x.to=function(a,b){return this.isValid()?ia({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};x.toNow=function(a){return this.to(I(),a)};x.get=g;x.invalidAt=function(){return u(this).overflow};x.isAfter=function(a,b){var h;return b=S("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=K(a)?a:I(a),+this>+a):(h=K(a)?+a:+I(a),h<+this.clone().startOf(b))};x.isBefore=function(a,b){var h;return b=S("undefined"!=typeof b?
b:"millisecond"),"millisecond"===b?(a=K(a)?a:I(a),+a>+this):(h=K(a)?+a:+I(a),+this.clone().endOf(b)<h)};x.isBetween=function(a,b,h){return this.isAfter(a,h)&&this.isBefore(b,h)};x.isSame=function(a,b){var h;return b=S(b||"millisecond"),"millisecond"===b?(a=K(a)?a:I(a),+this===+a):(h=+I(a),+this.clone().startOf(b)<=h&&h<=+this.clone().endOf(b))};x.isValid=function(){return c(this)};x.lang=zb;x.locale=nb;x.localeData=ob;x.max=Ob;x.min=Nb;x.parsingFlags=function(){return m({},u(this))};x.set=g;x.startOf=
function(a){switch(a=S(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this};x.subtract=Qb;x.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};
x.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};x.toDate=function(){return this._offset?new Date(+this):this._d};x.toISOString=mb;x.toJSON=mb;x.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};x.unix=function(){return Math.floor(+this/1E3)};x.valueOf=function(){return+this._d-6E4*(this._offset||0)};x.year=yb;x.isLeapYear=
function(){return Sa(this.year())};x.weekYear=function(a){var b=pa(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")};x.isoWeekYear=function(a){var b=pa(this,1,4).year;return null==a?b:this.add(a-b,"y")};x.quarter=x.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};x.month=P;x.daysInMonth=function(){return z(this.year(),this.month())};x.week=x.weeks=function(a){var b=this.localeData().week(this);
return null==a?b:this.add(7*(a-b),"d")};x.isoWeek=x.isoWeeks=function(a){var b=pa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};x.weeksInYear=function(){var a=this.localeData()._week;return pb(this.year(),a.dow,a.doy)};x.isoWeeksInYear=function(){return pb(this.year(),1,4)};x.date=Ab;x.day=x.days=function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a)var h=a,c=this.localeData(),b=(a="string"!=typeof h?h:isNaN(h)?(h=c.weekdaysParse(h),"number"==typeof h?h:null):parseInt(h,
10),this.add(a-b,"d"));return b};x.weekday=function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};x.isoWeekday=function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)};x.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};x.hour=x.hours=Rb;x.minute=x.minutes=Sb;x.second=x.seconds=Tb;x.millisecond=x.milliseconds=Ub;x.utcOffset=function(a,b){var h,c=this._offset||
0;return null!=a?("string"==typeof a&&(a=Va(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&b&&(h=Xa(this)),this._offset=a,this._isUTC=!0,null!=h&&this.add(h,"m"),c!==a&&(!b||this._changeInProgress?lb(this,ia(a-c,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?c:Xa(this)};x.utc=function(a){return this.utcOffset(0,a)};x.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Xa(this),
"m")),this};x.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Va(this._i)),this};x.hasAlignedHourOffset=function(a){return a=a?I(a).utcOffset():0,0===(this.utcOffset()-a)%60};x.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};x.isDSTShifted=function(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(Y(a,this),a=eb(a),a._a){var b=a._isUTC?
q(a._a):I(a._a);this._isDSTShifted=this.isValid()&&0<C(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted};x.isLocal=function(){return!this._isUTC};x.isUtcOffset=function(){return this._isUTC};x.isUtc=hb;x.isUTC=hb;x.zoneAbbr=function(){return this._isUTC?"UTC":""};x.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};x.dates=H("dates accessor is deprecated. Use date instead.",Ab);x.months=H("months accessor is deprecated. Use month instead",P);x.years=H("years accessor is deprecated. Use year instead",
yb);x.zone=H("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});var E=L.prototype;E._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};E.calendar=function(a,b,h){a=this._calendar[a];return"function"==typeof a?a.call(b,h):a};E._longDateFormat=
{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};E.longDateFormat=function(a){var b=this._longDateFormat[a],h=this._longDateFormat[a.toUpperCase()];return b||!h?b:(this._longDateFormat[a]=h.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])};E._invalidDate="Invalid date";E.invalidDate=function(){return this._invalidDate};E._ordinal="%d";E.ordinal=function(a){return this._ordinal.replace("%d",
a)};E._ordinalParse=/\d{1,2}/;E.preparse=sb;E.postformat=sb;E._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};E.relativeTime=function(a,b,h,c){var g=this._relativeTime[h];return"function"==typeof g?g(a,b,h,c):g.replace(/%d/i,a)};E.pastFuture=function(a,b){var h=this._relativeTime[0<a?"future":"past"];return"function"==typeof h?h(b):h.replace(/%s/i,b)};E.set=
function(a){var b,h;for(h in a)b=a[h],"function"==typeof b?this[h]=b:this["_"+h]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};E.months=function(a){return this._months[a.month()]};E._months="January February March April May June July August September October November December".split(" ");E.monthsShort=function(a){return this._monthsShort[a.month()]};E._monthsShort="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");E.monthsParse=function(a,b,h){var c,
g,e;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(c=0;12>c;c++)if((g=q([2E3,c]),h&&!this._longMonthsParse[c]&&(this._longMonthsParse[c]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[c]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),h||this._monthsParse[c]||(e="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[c]=new RegExp(e.replace(".",""),"i")),h&&"MMMM"===b&&this._longMonthsParse[c].test(a))||
h&&"MMM"===b&&this._shortMonthsParse[c].test(a)||!h&&this._monthsParse[c].test(a))return c};E.week=function(a){return pa(a,this._week.dow,this._week.doy).week};E._week={dow:0,doy:6};E.firstDayOfYear=function(){return this._week.doy};E.firstDayOfWeek=function(){return this._week.dow};E.weekdays=function(a){return this._weekdays[a.day()]};E._weekdays="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");E.weekdaysMin=function(a){return this._weekdaysMin[a.day()]};E._weekdaysMin="Su Mo Tu We Th Fr Sa".split(" ");
E.weekdaysShort=function(a){return this._weekdaysShort[a.day()]};E._weekdaysShort="Sun Mon Tue Wed Thu Fri Sat".split(" ");E.weekdaysParse=function(a){var b,h,c;this._weekdaysParse=this._weekdaysParse||[];for(b=0;7>b;b++)if(this._weekdaysParse[b]||(h=I([2E3,1]).day(b),c="^"+this.weekdays(h,"")+"|^"+this.weekdaysShort(h,"")+"|^"+this.weekdaysMin(h,""),this._weekdaysParse[b]=new RegExp(c.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b};E.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};
E._meridiemParse=/[ap]\.?m?\.?/i;E.meridiem=function(a,b,h){return 11<a?h?"pm":"PM":h?"am":"AM"};A("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===y(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});e.lang=H("moment.lang is deprecated. Use moment.locale instead.",A);e.langData=H("moment.langData is deprecated. Use moment.localeData instead.",O);var ha=Math.abs,Vb=ja("ms"),Wb=ja("s"),Xb=ja("m"),Yb=ja("h"),Zb=ja("d"),$b=ja("w"),ac=ja("M"),bc=ja("y"),cc=
ra("milliseconds"),dc=ra("seconds"),ec=ra("minutes"),fc=ra("hours"),gc=ra("days"),hc=ra("months"),ic=ra("years"),ua=Math.round,ka={s:45,m:45,h:22,d:26,M:11},Ya=Math.abs,F=Ba.prototype;F.abs=function(){var a=this._data;return this._milliseconds=ha(this._milliseconds),this._days=ha(this._days),this._months=ha(this._months),a.milliseconds=ha(a.milliseconds),a.seconds=ha(a.seconds),a.minutes=ha(a.minutes),a.hours=ha(a.hours),a.months=ha(a.months),a.years=ha(a.years),this};F.add=function(a,b){return ub(this,
a,b,1)};F.subtract=function(a,b){return ub(this,a,b,-1)};F.as=function(a){var b,h,c=this._milliseconds;if(a=S(a),"month"===a||"year"===a)return b=this._days+c/864E5,h=this._months+4800*b/146097,"month"===a?h:h/12;switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*b)+c;default:throw Error("Unknown unit "+
a);}};F.asMilliseconds=Vb;F.asSeconds=Wb;F.asMinutes=Xb;F.asHours=Yb;F.asDays=Zb;F.asWeeks=$b;F.asMonths=ac;F.asYears=bc;F.valueOf=function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*y(this._months/12)};F._bubble=function(){var a,b,h,c,g,e=this._milliseconds,d=this._days,p=this._months,l=this._data;return 0<=e&&0<=d&&0<=p||0>=e&&0>=d&&0>=p||(e+=864E5*vb(146097*p/4800+d),d=0,p=0),l.milliseconds=e%1E3,a=D(e/1E3),l.seconds=a%60,b=D(a/60),l.minutes=b%60,h=D(b/60),l.hours=
h%24,d+=D(h/24),g=D(4800*d/146097),p+=g,d-=vb(146097*g/4800),c=D(p/12),p%=12,l.days=d,l.months=p,l.years=c,this};F.get=function(a){return a=S(a),this[a+"s"]()};F.milliseconds=cc;F.seconds=dc;F.minutes=ec;F.hours=fc;F.days=gc;F.weeks=function(){return D(this.days()/7)};F.months=hc;F.years=ic;F.humanize=function(a){var b=this.localeData(),h;h=!a;var c=ia(this).abs(),g=ua(c.as("s")),e=ua(c.as("m")),d=ua(c.as("h")),p=ua(c.as("d")),l=ua(c.as("M")),c=ua(c.as("y")),g=g<ka.s&&["s",g]||1===e&&["m"]||e<ka.m&&
["mm",e]||1===d&&["h"]||d<ka.h&&["hh",d]||1===p&&["d"]||p<ka.d&&["dd",p]||1===l&&["M"]||l<ka.M&&["MM",l]||1===c&&["y"]||["yy",c];h=(g[2]=h,g[3]=0<+this,g[4]=b,Lb.apply(null,g));return a&&(h=b.pastFuture(+this,h)),b.postformat(h)};F.toISOString=Da;F.toString=Da;F.toJSON=Da;F.locale=nb;F.localeData=ob;F.toIsoString=H("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Da);F.lang=zb;l("X",0,0,"unix");l("x",0,0,"valueOf");t("x",Ha);t("X",/[+-]?\d+(\.\d{1,3})?/);J("X",
function(a,b,h){h._d=new Date(1E3*parseFloat(a,10))});J("x",function(a,b,h){h._d=new Date(y(a))});e.version="2.10.6";ab=I;e.fn=x;e.min=function(){var a=[].slice.call(arguments,0);return fb("isBefore",a)};e.max=function(){var a=[].slice.call(arguments,0);return fb("isAfter",a)};e.utc=q;e.unix=function(a){return I(1E3*a)};e.months=function(a,b){return wa(a,b,"months",12,"month")};e.isDate=v;e.locale=A;e.invalid=X;e.duration=ia;e.isMoment=K;e.weekdays=function(a,b){return wa(a,b,"weekdays",7,"day")};
e.parseZone=function(){return I.apply(null,arguments).parseZone()};e.localeData=O;e.isDuration=Ua;e.monthsShort=function(a,b){return wa(a,b,"monthsShort",12,"month")};e.weekdaysMin=function(a,b){return wa(a,b,"weekdaysMin",7,"day")};e.defineLocale=R;e.weekdaysShort=function(a,b){return wa(a,b,"weekdaysShort",7,"day")};e.normalizeUnits=S;e.relativeTimeThreshold=function(a,b){return void 0===ka[a]?!1:void 0===b?ka[a]:(ka[a]=b,!0)};return e});
(function(e,f){"object"===typeof exports&&"undefined"!==typeof module?f(require("../moment")):"function"===typeof define&&define.amd?define(["moment"],f):f(e.moment)})(this,function(e){return e.defineLocale("zh-cn",{months:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),monthsShort:"1\u6708 2\u6708 3\u6708 4\u6708 5\u6708 6\u6708 7\u6708 8\u6708 9\u6708 10\u6708 11\u6708 12\u6708".split(" "),
weekdays:"\u661f\u671f\u65e5 \u661f\u671f\u4e00 \u661f\u671f\u4e8c \u661f\u671f\u4e09 \u661f\u671f\u56db \u661f\u671f\u4e94 \u661f\u671f\u516d".split(" "),weekdaysShort:"\u5468\u65e5 \u5468\u4e00 \u5468\u4e8c \u5468\u4e09 \u5468\u56db \u5468\u4e94 \u5468\u516d".split(" "),weekdaysMin:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),longDateFormat:{LT:"Ah\u70b9mm\u5206",LTS:"Ah\u70b9m\u5206s\u79d2",L:"YYYY-MM-DD",LL:"YYYY\u5e74MMMD\u65e5",LLL:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206",
l:"YYYY-MM-DD",ll:"YYYY\u5e74MMMD\u65e5",lll:"YYYY\u5e74MMMD\u65e5Ah\u70b9mm\u5206",llll:"YYYY\u5e74MMMD\u65e5ddddAh\u70b9mm\u5206"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,v){12===e&&(e=0);return"\u51cc\u6668"===v||"\u65e9\u4e0a"===v||"\u4e0a\u5348"===v?e:"\u4e0b\u5348"===v||"\u665a\u4e0a"===v?e+12:11<=e?e:e+12},meridiem:function(e,v,s){e=100*e+v;return 600>e?"\u51cc\u6668":900>e?"\u65e9\u4e0a":1130>e?"\u4e0a\u5348":1230>
e?"\u4e2d\u5348":1800>e?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:function(){return 0===this.minutes()?"[\u4eca\u5929]Ah[\u70b9\u6574]":"[\u4eca\u5929]LT"},nextDay:function(){return 0===this.minutes()?"[\u660e\u5929]Ah[\u70b9\u6574]":"[\u660e\u5929]LT"},lastDay:function(){return 0===this.minutes()?"[\u6628\u5929]Ah[\u70b9\u6574]":"[\u6628\u5929]LT"},nextWeek:function(){var f;f=e().startOf("week");f=604800<=this.unix()-f.unix()?"[\u4e0b]":"[\u672c]";return 0===this.minutes()?f+"dddAh\u70b9\u6574":
f+"dddAh\u70b9mm"},lastWeek:function(){var f;f=e().startOf("week");f=this.unix()<f.unix()?"[\u4e0a]":"[\u672c]";return 0===this.minutes()?f+"dddAh\u70b9\u6574":f+"dddAh\u70b9mm"},sameElse:"LL"},ordinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,v){switch(v){case "d":case "D":case "DDD":return e+"\u65e5";case "M":return e+"\u6708";case "w":case "W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",
h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})});
(function(e,f){if("function"===typeof define&&define.amd)define(["jquery","moment"],f);else if("object"===typeof exports)f(require("jquery"),require("moment"));else{if(!jQuery)throw Error("bootstrap-datetimepicker requires jQuery to be loaded first");if(!moment)throw Error("bootstrap-datetimepicker requires moment.js to be loaded first");f(e.jQuery,moment)}})(this,function(e,f){if("undefined"===typeof f)throw Error("momentjs is required");var v=0,s=function(s,m){var q=e.fn.datetimepicker.defaults,
u={time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down"},c=this,X=!1,Y,Q=function(){var a;if(c.isInput)return c.element;a=c.element.find(".datepickerinput");if(0===a.size())a=c.element.find("input");else if(!a.is("input"))throw Error('CSS class "datepickerinput" cannot be applied to non input element');return a},K=function(){var a;a=c.element.is("input")?c.element.data():c.element.find("input").data();void 0!==
a.dateFormat&&(c.options.format=a.dateFormat);void 0!==a.datePickdate&&(c.options.pickDate=a.datePickdate);void 0!==a.datePicktime&&(c.options.pickTime=a.datePicktime);void 0!==a.dateUseminutes&&(c.options.useMinutes=a.dateUseminutes);void 0!==a.dateUseseconds&&(c.options.useSeconds=a.dateUseseconds);void 0!==a.dateUsecurrent&&(c.options.useCurrent=a.dateUsecurrent);void 0!==a.calendarWeeks&&(c.options.calendarWeeks=a.calendarWeeks);void 0!==a.dateMinutestepping&&(c.options.minuteStepping=a.dateMinutestepping);
void 0!==a.dateMindate&&(c.options.minDate=a.dateMindate);void 0!==a.dateMaxdate&&(c.options.maxDate=a.dateMaxdate);void 0!==a.dateShowtoday&&(c.options.showToday=a.dateShowtoday);void 0!==a.dateCollapse&&(c.options.collapse=a.dateCollapse);void 0!==a.dateLanguage&&(c.options.language=a.dateLanguage);void 0!==a.dateDefaultdate&&(c.options.defaultDate=a.dateDefaultdate);void 0!==a.dateDisableddates&&(c.options.disabledDates=a.dateDisableddates);void 0!==a.dateEnableddates&&(c.options.enabledDates=
a.dateEnableddates);void 0!==a.dateIcons&&(c.options.icons=a.dateIcons);void 0!==a.dateUsestrict&&(c.options.useStrict=a.dateUsestrict);void 0!==a.dateDirection&&(c.options.direction=a.dateDirection);void 0!==a.dateSidebyside&&(c.options.sideBySide=a.dateSidebyside);void 0!==a.dateDaysofweekdisabled&&(c.options.daysOfWeekDisabled=a.dateDaysofweekdisabled)},D=function(){var a="absolute",b=c.component?c.component.offset():c.element.offset(),h=e(window),g;c.width=c.component?c.component.outerWidth():
c.element.outerWidth();b.top+=c.element.outerHeight();"up"===c.options.direction?g="top":"bottom"===c.options.direction?g="bottom":"auto"===c.options.direction&&(g=b.top+c.widget.height()>h.height()+h.scrollTop()&&c.widget.height()+c.element.outerHeight()<b.top?"top":"bottom");"top"===g?(b.bottom=h.height()-b.top+c.element.outerHeight()+3,c.widget.addClass("top").removeClass("bottom")):(b.top+=1,c.widget.addClass("bottom").removeClass("top"));void 0!==c.options.width&&c.widget.width(c.options.width);
"left"===c.options.orientation&&(c.widget.addClass("left-oriented"),b.left=b.left-c.widget.width()+20);var d;if(c.element){d=c.element.parents();var p=!1,l;for(l=0;l<d.length;l++)if("fixed"===e(d[l]).css("position")){p=!0;break}d=p}else d=!1;d&&(a="fixed",b.top-=h.scrollTop(),b.left-=h.scrollLeft());h.width()<b.left+c.widget.outerWidth()?(b.right=h.width()-b.left-c.width,b.left="auto",c.widget.addClass("pull-right")):(b.right="auto",c.widget.removeClass("pull-right"));"top"===g?c.widget.css({position:a,
bottom:b.bottom,top:"auto",left:b.left,right:b.right}):c.widget.css({position:a,top:b.top,bottom:"auto",left:b.left,right:b.right})},y=function(a,b){if(!f(c.date).isSame(f(a))||X)X=!1,c.element.trigger({type:"dp.change",date:f(c.date),oldDate:f(a)}),"change"!==b&&c.element.change()},C=function(a){X=!0;c.element.trigger({type:"dp.error",date:f(a,c.format,c.options.useStrict)})},L=function(a){f.locale(c.options.language);if(!a){if(a=Q().val())c.date=f(a,c.format,c.options.useStrict);c.date||(c.date=
f())}c.viewDate=f(c.date).startOf("month");A();S()},T=function(){f.locale(c.options.language);var a=e("<tr>"),b=f.weekdaysMin(),h;!0===c.options.calendarWeeks&&a.append('<th class="cw">#</th>');if(0===f().localeData()._week.dow)for(h=0;7>h;h++)a.append('<th class="dow">'+b[h]+"</th>");else for(h=1;8>h;h++)7===h?a.append('<th class="dow">'+b[0]+"</th>"):a.append('<th class="dow">'+b[h]+"</th>");c.widget.find(".datepicker-days thead").append(a)},U=function(){f.locale(c.options.language);var a="",b,
h=f.monthsShort();for(b=0;12>b;b++)a+='<span class="month">'+h[b]+"</span>";c.widget.find(".datepicker-months td").append(a)},A=function(){if(c.options.pickDate){f.locale(c.options.language);var a=c.viewDate.year(),b=c.viewDate.month(),g=c.options.minDate.year(),d=c.options.minDate.month(),p=c.options.maxDate.year(),l=c.options.maxDate.month(),z,n,M,P=[],r,G;n=f.months();c.widget.find(".datepicker-days").find(".disabled").removeClass("disabled");c.widget.find(".datepicker-months").find(".disabled").removeClass("disabled");
c.widget.find(".datepicker-years").find(".disabled").removeClass("disabled");c.widget.find(".datepicker-days th:eq(1)").text(n[b]+" "+a);n=f(c.viewDate,c.format,c.options.useStrict).subtract(1,"months");z=n.daysInMonth();n.date(z).startOf("week");(a===g&&b<=d||a<g)&&c.widget.find(".datepicker-days th:eq(0)").addClass("disabled");(a===p&&b>=l||a>p)&&c.widget.find(".datepicker-days th:eq(2)").addClass("disabled");for(M=f(n).add(42,"d");n.isBefore(M);){n.weekday()===f().startOf("week").weekday()&&(r=
e("<tr>"),P.push(r),!0===c.options.calendarWeeks&&r.append('<td class="cw">'+n.week()+"</td>"));G="";if(n.year()<a||n.year()===a&&n.month()<b)G+=" old";else if(n.year()>a||n.year()===a&&n.month()>b)G+=" new";n.isSame(f({y:c.date.year(),M:c.date.month(),d:c.date.date()}))&&(G+=" active");if(J(n,"day")||!h(n))G+=" disabled";!0===c.options.showToday&&n.isSame(f(),"day")&&(G+=" today");if(c.options.daysOfWeekDisabled)for(z=0;z<c.options.daysOfWeekDisabled.length;z++)if(n.day()===c.options.daysOfWeekDisabled[z]){G+=
" disabled";break}r.append('<td class="day'+G+'">'+n.date()+"</td>");z=n.date();n.add(1,"d");z===n.date()&&n.add(1,"d")}c.widget.find(".datepicker-days tbody").empty().append(P);b=c.date.year();n=c.widget.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");b===a&&n.eq(c.date.month()).addClass("active");a-1<g&&c.widget.find(".datepicker-months th:eq(0)").addClass("disabled");a+1>p&&c.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(z=0;12>
z;z++)a===g&&d>z||a<g?e(n[z]).addClass("disabled"):(a===p&&l<z||a>p)&&e(n[z]).addClass("disabled");P="";a=10*parseInt(a/10,10);d=c.widget.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).parents("table").find("td");c.widget.find(".datepicker-years").find("th").removeClass("disabled");g>a&&c.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled");p<a+9&&c.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled");a-=1;for(z=-1;11>z;z++)P+='<span class="year'+
(-1===z||10===z?" old":"")+(b===a?" active":"")+(a<g||a>p?" disabled":"")+'">'+a+"</span>",a+=1;d.html(P)}},R=function(){f.locale(c.options.language);var a=c.widget.find(".timepicker .timepicker-hours table"),b="",h,g,e;a.parent().hide();if(c.use24hours)for(g=h=0;6>g;g+=1){b+="<tr>";for(e=0;4>e;e+=1)b+='<td class="hour">'+M(h.toString())+"</td>",h++;b+="</tr>"}else for(h=1,g=0;3>g;g+=1){b+="<tr>";for(e=0;4>e;e+=1)b+='<td class="hour">'+M(h.toString())+"</td>",h++;b+="</tr>"}a.html(b)},O=function(){var a=
c.widget.find(".timepicker .timepicker-minutes table"),b="",h=0,g,e,d=c.options.minuteStepping;a.parent().hide();1===d&&(d=5);for(g=0;g<Math.ceil(60/d/4);g++){b+="<tr>";for(e=0;4>e;e+=1)60>h?(b+='<td class="minute">'+M(h.toString())+"</td>",h+=d):b+="<td></td>";b+="</tr>"}a.html(b)},B=function(){var a=c.widget.find(".timepicker .timepicker-seconds table"),b="",h=0,g,e;a.parent().hide();for(g=0;3>g;g++){b+="<tr>";for(e=0;4>e;e+=1)b+='<td class="second">'+M(h.toString())+"</td>",h+=5;b+="</tr>"}a.html(b)},
S=function(){if(c.date){var a=c.widget.find(".timepicker span[data-time-component]"),b=c.date.hours(),h=c.date.format("A");c.use24hours||(0===b?b=12:12!==b&&(b%=12),c.widget.find(".timepicker [data-action=togglePeriod]").text(h));a.filter("[data-time-component=hours]").text(M(b));a.filter("[data-time-component=minutes]").text(M(c.date.minutes()));a.filter("[data-time-component=seconds]").text(M(c.date.second()))}},d=function(a){a.stopPropagation();a.preventDefault();c.unset=!1;var b=e(a.target).closest("span, td, th"),
h,g,d,p=f(c.date);if(1===b.length&&!b.is(".disabled"))switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "picker-switch":n(1);break;case "prev":case "next":a=G.modes[c.viewMode].navStep,"prev"===b[0].className&&(a*=-1),c.viewDate.add(a,G.modes[c.viewMode].navFnc),A()}break;case "span":b.is(".month")?(h=b.parent().find("span").index(b),c.viewDate.month(h)):(g=parseInt(b.text(),10)||0,c.viewDate.year(g));c.viewMode===c.minViewMode&&(c.date=f({y:c.viewDate.year(),M:c.viewDate.month(),
d:c.viewDate.date(),h:c.date.hours(),m:c.date.minutes(),s:c.date.seconds()}),w(),y(p,a.type));n(-1);A();break;case "td":b.is(".day")&&(d=parseInt(b.text(),10)||1,h=c.viewDate.month(),g=c.viewDate.year(),b.is(".old")?0===h?(h=11,g-=1):h-=1:b.is(".new")&&(11===h?(h=0,g+=1):h+=1),c.date=f({y:g,M:h,d:d,h:c.date.hours(),m:c.date.minutes(),s:c.date.seconds()}),c.viewDate=f({y:g,M:h,d:Math.min(28,d)}),A(),w(),y(p,a.type))}},a={incrementHours:function(){aa("add","hours",1)},incrementMinutes:function(){aa("add",
"minutes",c.options.minuteStepping)},incrementSeconds:function(){aa("add","seconds",1)},decrementHours:function(){aa("subtract","hours",1)},decrementMinutes:function(){aa("subtract","minutes",c.options.minuteStepping)},decrementSeconds:function(){aa("subtract","seconds",1)},togglePeriod:function(){var a=c.date.hours();c.date.hours(12<=a?a-12:a+12)},showPicker:function(){c.widget.find(".timepicker > div:not(.timepicker-picker)").hide();c.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){c.widget.find(".timepicker .timepicker-picker").hide();
c.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){c.widget.find(".timepicker .timepicker-picker").hide();c.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){c.widget.find(".timepicker .timepicker-picker").hide();c.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){b=parseInt(e(b.target).text(),10);c.use24hours||(12<=c.date.hours()?12!==b&&(b+=12):12===b&&(b=0));c.date.hours(b);a.showPicker.call(c)},selectMinute:function(b){c.date.minutes(parseInt(e(b.target).text(),
10));a.showPicker.call(c)},selectSecond:function(b){c.date.seconds(parseInt(e(b.target).text(),10));a.showPicker.call(c)}},b=function(b){var h=f(c.date),d=e(b.currentTarget).data("action"),d=a[d].apply(c,arguments);g(b);c.date||(c.date=f({y:1970}));w();S();y(h,b.type);return d},g=function(a){a.stopPropagation();a.preventDefault()},p=function(a){27===a.keyCode&&c.hide()},l=function(a){f.locale(c.options.language);var b=e(a.target),g=f(c.date),b=f(b.val(),c.format,c.options.useStrict);b.isValid()&&
!J(b)&&h(b)?(L(),c.setValue(b),y(g,a.type),w()):(c.viewDate=g,c.unset=!0,y(g,a.type),C(b))},n=function(a){a&&(c.viewMode=Math.max(c.minViewMode,Math.min(2,c.viewMode+a)));c.widget.find(".datepicker > div").hide().filter(".datepicker-"+G.modes[c.viewMode].clsName).show()},r=function(){var a,h,z,n,M;c.widget.on("click",".datepicker *",e.proxy(d,this));c.widget.on("click","[data-action]",e.proxy(b,this));c.widget.on("mousedown",e.proxy(g,this));c.element.on("keydown",e.proxy(p,this));if(c.options.pickDate&&
c.options.pickTime)c.widget.on("click.togglePicker",".accordion-toggle",function(b){b.stopPropagation();a=e(this);h=a.closest("ul");z=h.find(".in");n=h.find(".collapse:not(.in)");z&&z.length&&(M=z.data("collapse"),M&&M.transitioning||(z.collapse("hide"),n.collapse("show"),a.find("span").toggleClass(c.options.icons.time+" "+c.options.icons.date),c.component&&c.component.find("span").toggleClass(c.options.icons.time+" "+c.options.icons.date)))});if(c.isInput)c.element.on({click:e.proxy(c.show,this),
focus:e.proxy(c.show,this),change:e.proxy(l,this),blur:e.proxy(c.hide,this)});else if(c.element.on({change:e.proxy(l,this)},"input"),c.component)c.component.on("click",e.proxy(c.show,this)),c.component.on("mousedown",e.proxy(g,this));else c.element.on("click",e.proxy(c.show,this))},V=function(){e(window).on("resize.datetimepicker"+c.id,e.proxy(D,this));if(!c.isInput)e(document).on("mousedown.datetimepicker"+c.id,e.proxy(c.hide,this))},ea=function(){c.widget.off("click",".datepicker *",c.click);c.widget.off("click",
"[data-action]");c.widget.off("mousedown",c.stopEvent);c.options.pickDate&&c.options.pickTime&&c.widget.off("click.togglePicker");c.isInput?c.element.off({focus:c.show,change:l,click:c.show,blur:c.hide}):(c.element.off({change:l},"input"),c.component?(c.component.off("click",c.show),c.component.off("mousedown",c.stopEvent)):c.element.off("click",c.show))},t=function(){e(window).off("resize.datetimepicker"+c.id);c.isInput||e(document).off("mousedown.datetimepicker"+c.id)},w=function(){f.locale(c.options.language);
var a="";c.unset||(a=f(c.date).format(c.format));Q().val(a);c.element.data("date",a);c.options.pickTime||c.hide()},aa=function(a,b,h){f.locale(c.options.language);var g;"add"===a?(g=f(c.date),23===g.hours()&&g.add(h,b),g.add(h,b)):g=f(c.date).subtract(h,b);J(f(g.subtract(h,b)))||J(g)?C(g.format(c.format)):("add"===a?c.date.add(h,b):c.date.subtract(h,b),c.unset=!1)},J=function(a,b){f.locale(c.options.language);var h=f(c.options.maxDate,c.format,c.options.useStrict),g=f(c.options.minDate,c.format,c.options.useStrict);
b&&(h=h.endOf(b),g=g.startOf(b));return a.isAfter(h)||a.isBefore(g)?!0:!1===c.options.disabledDates?!1:!0===c.options.disabledDates[a.format("YYYY-MM-DD")]},h=function(a){f.locale(c.options.language);return!1===c.options.enabledDates?!0:!0===c.options.enabledDates[a.format("YYYY-MM-DD")]},z=function(a){var b={},h=0,g;for(g=0;g<a.length;g++)Y=f.isMoment(a[g])||a[g]instanceof Date?f(a[g]):f(a[g],c.format,c.options.useStrict),Y.isValid()&&(b[Y.format("YYYY-MM-DD")]=!0,h++);return 0<h?b:!1},M=function(a){a=
a.toString();return 2<=a.length?a:"0"+a},P=function(){var a='<thead><tr><th class="prev">&lsaquo;</th><th colspan="'+(c.options.calendarWeeks?"6":"5")+'" class="picker-switch"></th><th class="next">&rsaquo;</th></tr></thead>',b='<tbody><tr><td colspan="'+(c.options.calendarWeeks?"8":"7")+'"></td></tr></tbody>',a='<div class="datepicker-days"><table class="table-condensed">'+a+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+a+b+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
a+b+"</table></div>",b="";return c.options.pickDate&&c.options.pickTime?(b='<div class="bootstrap-datetimepicker-widget'+(c.options.sideBySide?" timepicker-sbs":"")+(c.use24hours?" usetwentyfour":"")+' dropdown-menu" style="z-index:9999 !important;">',b=c.options.sideBySide?b+('<div class="row"><div class="col-sm-6 datepicker">'+a+'</div><div class="col-sm-6 timepicker">'+ga.getTemplate()+"</div></div>"):b+('<ul class="list-unstyled"><li'+(c.options.collapse?' class="collapse in"':"")+'><div class="datepicker">'+
a+'</div></li><li class="picker-switch accordion-toggle"><a class="btn" style="width:100%"><span class="'+c.options.icons.time+'"></span></a></li><li'+(c.options.collapse?' class="collapse"':"")+'><div class="timepicker">'+ga.getTemplate()+"</div></li></ul>"),b+"</div>"):c.options.pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+ga.getTemplate()+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+a+"</div></div>"},
G={modes:[{clsName:"days",navFnc:"month",navStep:1},{clsName:"months",navFnc:"year",navStep:1},{clsName:"years",navFnc:"year",navStep:10}]},ga={hourTemplate:'<span data-action="showHours"   data-time-component="hours"   class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds"  data-time-component="seconds" class="timepicker-second"></span>',getTemplate:function(){return'<div class="timepicker-picker"><table class="table-condensed"><tr><td><a href="#" class="btn" data-action="incrementHours"><span class="'+
c.options.icons.up+'"></span></a></td><td class="separator"></td><td>'+(c.options.useMinutes?'<a href="#" class="btn" data-action="incrementMinutes"><span class="'+c.options.icons.up+'"></span></a>':"")+"</td>"+(c.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><span class="'+c.options.icons.up+'"></span></a></td>':"")+(c.use24hours?"":'<td class="separator"></td>')+"</tr><tr><td>"+ga.hourTemplate+'</td> <td class="separator">:</td><td>'+(c.options.useMinutes?
ga.minuteTemplate:'<span class="timepicker-minute">00</span>')+"</td> "+(c.options.useSeconds?'<td class="separator">:</td><td>'+ga.secondTemplate+"</td>":"")+(c.use24hours?"":'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>')+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><span class="'+c.options.icons.down+'"></span></a></td><td class="separator"></td><td>'+(c.options.useMinutes?'<a href="#" class="btn" data-action="decrementMinutes"><span class="'+
c.options.icons.down+'"></span></a>':"")+"</td>"+(c.options.useSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><span class="'+c.options.icons.down+'"></span></a></td>':"")+(c.use24hours?"":'<td class="separator"></td>')+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(c.options.useSeconds?
'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}};c.destroy=function(){ea();t();c.widget.remove();c.element.removeData("DateTimePicker");c.component&&c.component.removeData("DateTimePicker")};c.show=function(a){if(!Q().prop("disabled")){if(c.options.useCurrent&&""===Q().val()){if(1!==c.options.minuteStepping){var b=f(),h=c.options.minuteStepping;b.minutes(Math.round(b.minutes()/h)*h%60).seconds(0);c.setValue(b.format(c.format))}else c.setValue(f().format(c.format));
y("",a.type)}a&&"click"===a.type&&c.isInput&&c.widget.hasClass("picker-open")||(c.widget.hasClass("picker-open")?(c.widget.hide(),c.widget.removeClass("picker-open")):(c.widget.show(),c.widget.addClass("picker-open")),c.height=c.component?c.component.outerHeight():c.element.outerHeight(),D(),c.element.trigger({type:"dp.show",date:f(c.date)}),V(),a&&g(a))}};c.disable=function(){var a=Q();a.prop("disabled")||(a.prop("disabled",!0),ea())};c.enable=function(){var a=Q();a.prop("disabled")&&(a.prop("disabled",
!1),r())};c.hide=function(){var a=c.widget.find(".collapse"),b,h;for(b=0;b<a.length;b++)if((h=a.eq(b).data("collapse"))&&h.transitioning)return;c.widget.hide();c.widget.removeClass("picker-open");c.viewMode=c.startViewMode;n();c.element.trigger({type:"dp.hide",date:f(c.date)});t()};c.setValue=function(a){f.locale(c.options.language);a?c.unset=!1:(c.unset=!0,w());a=f.isMoment(a)?a.locale(c.options.language):a instanceof Date?f(a):f(a,c.format,c.options.useStrict);a.isValid()?(c.date=a,w(),c.viewDate=
f({y:c.date.year(),M:c.date.month()}),A(),S()):C(a)};c.getDate=function(){return c.unset?null:f(c.date)};c.setDate=function(a){var b=f(c.date);a?c.setValue(a):c.setValue(null);y(b,"function")};c.setDisabledDates=function(a){c.options.disabledDates=z(a);c.viewDate&&L()};c.setEnabledDates=function(a){c.options.enabledDates=z(a);c.viewDate&&L()};c.setMaxDate=function(a){void 0!==a&&(f.isMoment(a)||a instanceof Date?c.options.maxDate=f(a):c.options.maxDate=f(a,c.format,c.options.useStrict),c.viewDate&&
L())};c.setMinDate=function(a){void 0!==a&&(f.isMoment(a)||a instanceof Date?c.options.minDate=f(a):c.options.minDate=f(a,c.format,c.options.useStrict),c.viewDate&&L())};(function(){var a=!1,b;c.options=e.extend({},q,m);c.options.icons=e.extend({},u,c.options.icons);c.element=e(s);K();if(!c.options.pickTime&&!c.options.pickDate)throw Error("Must choose at least one picker");c.id=v++;f.locale(c.options.language);c.date=f();c.unset=!1;c.isInput=c.element.is("input");c.component=!1;c.element.hasClass("input-group")&&
(0===c.element.find(".datepickerbutton").size()?c.component=c.element.find('[class^="input-group-"]'):c.component=c.element.find(".datepickerbutton"));c.format=c.options.format;b=f().localeData();c.format||(c.format=c.options.pickDate?b.longDateFormat("L"):"",c.options.pickDate&&c.options.pickTime&&(c.format+=" "),c.format+=c.options.pickTime?b.longDateFormat("LT"):"",c.options.useSeconds&&(-1!==b.longDateFormat("LT").indexOf(" A")?c.format=c.format.split(" A")[0]+":ss A":c.format+=":ss"));c.use24hours=
0>c.format.toLowerCase().indexOf("a")&&0>c.format.indexOf("h");c.component&&(a=c.component.find("span"));c.options.pickTime&&a&&a.addClass(c.options.icons.time);c.options.pickDate&&a&&(a.removeClass(c.options.icons.time),a.addClass(c.options.icons.date));c.options.widgetParent="string"===typeof c.options.widgetParent&&c.options.widgetParent||c.element.parents().filter(function(){return"scroll"===e(this).css("overflow-y")}).get(0)||"body";c.widget=e(P()).appendTo(c.options.widgetParent);c.minViewMode=
c.options.minViewMode||0;if("string"===typeof c.minViewMode)switch(c.minViewMode){case "months":c.minViewMode=1;break;case "years":c.minViewMode=2;break;default:c.minViewMode=0}c.viewMode=c.options.viewMode||0;if("string"===typeof c.viewMode)switch(c.viewMode){case "months":c.viewMode=1;break;case "years":c.viewMode=2;break;default:c.viewMode=0}c.viewMode=Math.max(c.viewMode,c.minViewMode);c.options.disabledDates=z(c.options.disabledDates);c.options.enabledDates=z(c.options.enabledDates);c.startViewMode=
c.viewMode;c.setMinDate(c.options.minDate);c.setMaxDate(c.options.maxDate);T();U();R();O();B();L();n();Q().prop("disabled")||r();""!==c.options.defaultDate&&""===Q().val()&&c.setValue(c.options.defaultDate);1!==c.options.minuteStepping&&(a=c.options.minuteStepping,c.date.minutes(Math.round(c.date.minutes()/a)*a%60).seconds(0))})()};e.fn.datetimepicker=function(f){return this.each(function(){var m=e(this);m.data("DateTimePicker")||m.data("DateTimePicker",new s(this,f))})};e.fn.datetimepicker.defaults=
{format:!1,pickDate:!0,pickTime:!0,useMinutes:!0,useSeconds:!1,useCurrent:!0,calendarWeeks:!1,minuteStepping:1,minDate:f({y:1900}),maxDate:f().add(100,"y"),showToday:!0,collapse:!0,language:f.locale(),defaultDate:"",disabledDates:!1,enabledDates:!1,icons:{},useStrict:!1,direction:"auto",sideBySide:!1,daysOfWeekDisabled:[],widgetParent:!1}});
(function(e){function f(c,e,f){var u=c[0],k=/er/.test(f)?_indeterminate:/bl/.test(f)?"disabled":"checked",m=f==_update?{checked:u.checked,disabled:u.disabled,indeterminate:"true"==c.attr(_indeterminate)||"false"==c.attr(_determinate)}:u[k];if(/^(ch|di|in)/.test(f)&&!m)v(c,k);else if(/^(un|en|de)/.test(f)&&m)s(c,k);else if(f==_update)for(var q in m)m[q]?v(c,q,!0):s(c,q,!0);else if(!e||"toggle"==f){if(!e)c[_callback]("ifClicked");m?"radio"!==u[_type]&&s(c,k):v(c,k)}}function v(c,f,k){var v=c[0],K=c.parent(),
D="checked"==f,y=f==_indeterminate,C="disabled"==f,L=y?_determinate:D?"unchecked":"enabled",T=m(c,L+q(v[_type])),U=m(c,f+q(v[_type]));if(!0!==v[f]){if(!k&&"checked"==f&&"radio"==v[_type]&&v.name){var A=c.closest("form"),R='input[name="'+v.name+'"]',R=A.length?A.find(R):e(R);R.each(function(){this!==v&&e(this).data("iCheck")&&s(e(this),f)})}y?(v[f]=!0,v.checked&&s(c,"checked","force")):(k||(v[f]=!0),D&&v[_indeterminate]&&s(c,_indeterminate,!1));u(c,D,f,k)}v.disabled&&m(c,_cursor,!0)&&K.find(".iCheck-helper").css(_cursor,
"default");K[_add](U||m(c,f)||"");K.attr("role")&&!y&&K.attr("aria-"+(C?"disabled":"checked"),"true");K[_remove](T||m(c,L)||"")}function s(c,e,f){var s=c[0],k=c.parent(),v="checked"==e,y=e==_indeterminate,C="disabled"==e,L=y?_determinate:v?"unchecked":"enabled",T=m(c,L+q(s[_type])),U=m(c,e+q(s[_type]));if(!1!==s[e]){if(y||!f||"force"==f)s[e]=!1;u(c,v,L,f)}!s.disabled&&m(c,_cursor,!0)&&k.find(".iCheck-helper").css(_cursor,"pointer");k[_remove](U||m(c,e)||"");k.attr("role")&&!y&&k.attr("aria-"+(C?"disabled":
"checked"),"false");k[_add](T||m(c,L)||"")}function k(c,f){if(c.data("iCheck")){c.parent().html(c.attr("style",c.data("iCheck").s||""));if(f)c[_callback](f);c.off(".i").unwrap();e(_label+'[for="'+c[0].id+'"]').add(c.closest(_label)).off(".i")}}function m(c,e,f){if(c.data("iCheck"))return c.data("iCheck").o[e+(f?"":"Class")]}function q(c){return c.charAt(0).toUpperCase()+c.slice(1)}function u(c,e,f,s){if(!s){if(e)c[_callback]("ifToggled");c[_callback]("ifChanged")[_callback]("if"+q(f))}}_determinate=
"determinate";_indeterminate="in"+_determinate;_update="update";_type="type";_click="click";_touch="touchbegin.i touchend.i";_add="addClass";_remove="removeClass";_callback="trigger";_label="label";_cursor="cursor";_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn.iCheck=function(c,u){var m='input[type="checkbox"], input[type="radio"]',q=e(),K=function(c){c.each(function(){var c=e(this);q=c.is(m)?q.add(c):q.add(c.find(m))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(c))return c=
c.toLowerCase(),K(this),q.each(function(){var s=e(this);"destroy"==c?k(s,"ifDestroyed"):f(s,!0,c);e.isFunction(u)&&u()});if("object"!=typeof c&&c)return this;var D=e.extend({checkedClass:"checked",disabledClass:"disabled",indeterminateClass:_indeterminate,labelHover:!0},c),y=D.handle,C=D.hoverClass||"hover",L=D.focusClass||"focus",T=D.activeClass||"active",U=!!D.labelHover,A=D.labelHoverClass||"hover",R=(""+D.increaseArea).replace("%","")|0;if("checkbox"==y||"radio"==y)m='input[type="'+y+'"]';-50>
R&&(R=-50);K(this);return q.each(function(){var c=e(this);k(c);var u=this,m=u.id,d=-R+"%",a=100+2*R+"%",a={position:"absolute",top:d,left:d,display:"block",width:a,height:a,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:R?a:{position:"absolute",opacity:0},b="checkbox"==u[_type]?D.checkboxClass||"icheckbox":D.radioClass||"iradio",g=e(_label+'[for="'+m+'"]').add(c.closest(_label)),p=!!D.aria,l="iCheck-"+Math.random().toString(36).substr(2,
6),n='<div class="'+b+'" '+(p?'role="'+u[_type]+'" ':"");p&&g.each(function(){n+='aria-labelledby="';this.id?n+=this.id:(this.id=l,n+=l);n+='"'});n=c.wrap(n+"/>")[_callback]("ifCreated").parent().append(D.insert);a=e('<ins class="iCheck-helper"/>').css(a).appendTo(n);c.data("iCheck",{o:D,s:c.attr("style")}).css(d);D.inheritClass&&n[_add](u.className||"");D.inheritID&&m&&n.attr("id","iCheck-"+m);"static"==n.css("position")&&n.css("position","relative");f(c,!0,_update);if(g.length)g.on(_click+".i mouseover.i mouseout.i "+
_touch,function(a){var b=a[_type],g=e(this);if(!u.disabled){if(b==_click){if(e(a.target).is("a"))return;f(c,!1,!0)}else U&&(/ut|nd/.test(b)?(n[_remove](C),g[_remove](A)):(n[_add](C),g[_add](A)));if(_mobile)a.stopPropagation();else return!1}});c.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(a){var b=a[_type];a=a.keyCode;if(b==_click)return!1;if("keydown"==b&&32==a)return"radio"==u[_type]&&u.checked||(u.checked?s(c,"checked"):v(c,"checked")),!1;if("keyup"==b&&"radio"==u[_type])!u.checked&&
v(c,"checked");else if(/us|ur/.test(b))n["blur"==b?_remove:_add](L)});a.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(a){var b=a[_type],e=/wn|up/.test(b)?T:C;if(!u.disabled){if(b==_click)f(c,!1,!0);else{if(/wn|er|in/.test(b))n[_add](e);else n[_remove](e+" "+T);if(g.length&&U&&e==C)g[/ut|nd/.test(b)?_remove:_add](A)}if(_mobile)a.stopPropagation();else return!1}})})}})(window.jQuery||window.Zepto);
!function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(f){for(var v=e([0]),s=-1,k=this.length;++s<k&&(v.context=v[0]=this[s])&&!1!==f.call(v[0],s,v););return this}})}(jQuery);
(function(e,f){function v(a){var b=e(document.createTextNode(""));a.before(b);b.before(a);b.remove()}function s(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return J[a]||a})}function k(a,b){for(var c=0,g=b.length;g>c;c+=1)if(q(a,b[c]))return c;return-1}function m(){var a=e(aa);a.appendTo(document.body);var b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),b}function q(a,b){return a===b?!0:a===f||b===f?!1:null===a||null===b?!1:a.constructor===String?
a+""==b+"":b.constructor===String?b+""==a+"":!1}function u(a,b,c){var g;if(null===a||1>a.length)return[];a=a.split(b);b=0;for(g=a.length;g>b;b+=1)a[b]=c(a[b]);return a}function c(a){return a.outerWidth(!1)-a.width()}function X(a){a.on("keydown",function(){e.data(a,"keyup-change-value")===f&&e.data(a,"keyup-change-value",a.val())});a.on("keyup",function(){var b=e.data(a,"keyup-change-value");b!==f&&a.val()!==b&&(e.removeData(a,"keyup-change-value"),a.trigger("keyup-change"))})}function Y(a){a.on("mousemove",
function(a){var b=t;b!==f&&b.x===a.pageX&&b.y===a.pageY||e(a.target).trigger("mousemove-filtered",a)})}function Q(a,b,c){c=c||f;var g;return function(){var e=arguments;window.clearTimeout(g);g=window.setTimeout(function(){b.apply(c,e)},a)}}function K(a,b){var c=Q(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){0<=k(a.target,b.get())&&c(a)})}function D(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b,c=a[0],g=a.val().length;a.focus();(0<c.offsetWidth||
0<c.offsetHeight)&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(g,g):c.createTextRange&&(b=c.createTextRange(),b.collapse(!1),b.select()))},0)}function y(a){a.preventDefault();a.stopPropagation()}function C(a,b,c){var g,d,p=[];(g=e.trim(a.attr("class")))&&(g=""+g,e(g.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&p.push(this)}));(g=e.trim(b.attr("class")))&&(g=""+g,e(g.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(d=c(this),d&&p.push(d))}));a.attr("class",
p.join(" "))}function L(a,b,c,g){var e=s(a.toUpperCase()).indexOf(s(b.toUpperCase()));b=b.length;return 0>e?(c.push(g(a)),void 0):(c.push(g(a.substring(0,e))),c.push("<span class='select2-match'>"),c.push(g(a.substring(e,e+b))),c.push("</span>"),c.push(g(a.substring(e+b,a.length))),void 0)}function T(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function U(a){var b,c=null,g=a.quietMillis||
100,d=a.url,p=this;return function(l){window.clearTimeout(b);b=window.setTimeout(function(){var b=a.data,g=d,n=a.transport||e.fn.select2.ajaxDefaults.transport,z=e.extend({},e.fn.select2.ajaxDefaults.params,{type:a.type||"GET",cache:a.cache||!1,jsonpCallback:a.jsonpCallback||f,dataType:a.dataType||"json"}),b=b?b.call(p,l.term,l.page,l.context):null,g="function"==typeof g?g.call(p,l.term,l.page,l.context):g;c&&"function"==typeof c.abort&&c.abort();a.params&&(e.isFunction(a.params)?e.extend(z,a.params.call(p)):
e.extend(z,a.params));e.extend(z,{url:g,dataType:a.dataType,data:b,success:function(b){b=a.results(b,l.page,l);l.callback(b)},error:function(a,b,h){l.callback({hasError:!0,jqXHR:a,textStatus:b,errorThrown:h})}});c=n.call(p,z)},g)}}function A(a){var b,c,g=a,d=function(a){return""+a.text};e.isArray(g)&&(c=g,g={results:c});!1===e.isFunction(g)&&(c=g,g=function(){return c});a=g();return a.text&&(d=a.text,e.isFunction(d)||(b=a.text,d=function(a){return a[b]})),function(a){var b,h=a.term,c={results:[]};
return""===h?(a.callback(g()),void 0):(b=function(c,g){var p,l;if(c=c[0],c.children){p={};for(l in c)c.hasOwnProperty(l)&&(p[l]=c[l]);p.children=[];e(c.children).each2(function(a,h){b(h,p.children)});(p.children.length||a.matcher(h,d(p),c))&&g.push(p)}else a.matcher(h,d(c),c)&&g.push(c)},e(g().results).each2(function(a,h){b(h,c.results)}),a.callback(c),void 0)}}function R(a){var b=e.isFunction(a);return function(c){var g=c.term,d={results:[]},p=b?a(c):a;e.isArray(p)&&(e(p).each(function(){var a=this.text!==
f,b=a?this.text:this;(""===g||c.matcher(g,b))&&d.results.push(a?this:{id:this,text:this})}),c.callback(d))}}function O(a,b){if(e.isFunction(a))return!0;if(!a)return!1;if("string"==typeof a)return!0;throw Error(b+" must be a string, function, or falsy value");}function B(a,b){if(e.isFunction(a)){var c=Array.prototype.slice.call(arguments,2);return a.apply(b,c)}return a}function S(a){var b=0;return e.each(a,function(a,h){h.children?b+=S(h.children):b++}),b}function d(a,b,c,g){var e,d,p,l,n,r=a;d=!1;
if(!g.createSearchChoice||!g.tokenSeparators||1>g.tokenSeparators.length)return f;for(;;){d=-1;p=0;for(l=g.tokenSeparators.length;l>p&&(n=g.tokenSeparators[p],d=a.indexOf(n),!(0<=d));p++);if(0>d)break;if(e=a.substring(0,d),a=a.substring(d+n.length),0<e.length&&(e=g.createSearchChoice.call(this,e,b),e!==f&&null!==e&&g.id(e)!==f&&null!==g.id(e))){d=!1;p=0;for(l=b.length;l>p;p++)if(q(g.id(e),g.id(b[p]))){d=!0;break}d||c(e)}}return r!==a?a:void 0}function a(){var a=this;e.each(arguments,function(b,c){a[c].remove();
a[c]=null})}function b(a,b){var c=function(){};return c.prototype=new a,c.prototype.constructor=c,c.prototype.parent=a.prototype,c.prototype=e.extend(c.prototype,b),c}if(window.Select2===f){var g,p,l,n,r,V,ea,t={x:0,y:0},w={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){switch(a.which?a.which:a){case w.LEFT:case w.RIGHT:case w.UP:case w.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case w.SHIFT:case w.CTRL:case w.ALT:return!0}return a.metaKey?
!0:!1},isFunctionKey:function(a){return a=a.which?a.which:a,112<=a&&123>=a}},aa="<div class='select2-measure-scrollbar'></div>",J={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A",
"\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D",
"\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E",
"\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I",
"\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L",
"\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O",
"\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO",
"\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S",
"\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U",
"\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y",
"\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a",
"\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b",
"\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e",
"\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h",
"\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k",
"\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n",
"\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o",
"\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r",
"\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t",
"\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u",
"\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z",
"\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9",
"\u03c2":"\u03c3"};V=e(document);n=function(){var a=1;return function(){return a++}}();g=b(Object,{bind:function(a){var b=this;return function(){a.apply(b,arguments)}},init:function(a){var b,c;this.opts=a=this.prepareOpts(a);this.id=a.id;a.element.data("select2")!==f&&null!==a.element.data("select2")&&a.element.data("select2").destroy();this.container=this.createContainer();this.liveRegion=e(".select2-hidden-accessible");0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body));
this.containerId="s2id_"+(a.element.attr("id")||"autogen"+n());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",a.element.attr("title"));this.body=e(document.body);C(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",a.element.attr("style"));this.container.css(B(a.containerCss,this.opts.element));this.container.addClass(B(a.containerCssClass,
this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",y);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");C(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(B(a.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",y);this.results=b=this.container.find(".select2-results");
this.search=c=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",y);Y(this.results);this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(a){this._touchEvent=!0;this.highlightUnderEvent(a)}));this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",
".select2-results",this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())}));K(80,this.results);this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded));e(this.container).on("change",".select2-input",function(a){a.stopPropagation()});e(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});e.fn.mousewheel&&b.mousewheel(function(a,c,h,g){c=b.scrollTop();0<
g&&0>=c-g?(b.scrollTop(0),y(a)):0>g&&b.get(0).scrollHeight-b.scrollTop()+g<=b.height()&&(b.scrollTop(b.get(0).scrollHeight-b.height()),y(a))});X(c);c.on("keyup-change input paste",this.bind(this.updateResults));c.on("focus",function(){c.addClass("select2-focused")});c.on("blur",function(){c.removeClass("select2-focused")});this.dropdown.on("mouseup",".select2-results",this.bind(function(a){0<e(a.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(a),this.selectHighlighted(a))}));
this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(a){a.stopPropagation()});this.nextSearchTerm=f;e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==a.maximumInputLength&&this.search.attr("maxlength",a.maximumInputLength);var g=a.element.prop("disabled");g===f&&(g=!1);this.enable(!g);g=a.element.prop("readonly");g===f&&(g=!1);this.readonly(g);ea=ea||m();this.autofocus=a.element.prop("autofocus");a.element.prop("autofocus",!1);this.autofocus&&
this.focus();this.search.attr("placeholder",a.searchInputPlaceholder)},destroy:function(){var b=this.opts.element,c=b.data("select2"),g=this;this.close();b.length&&b[0].detachEvent&&g._sync&&b.each(function(){g._sync&&this.detachEvent("onpropertychange",g._sync)});this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null);this._sync=null;c!==f&&(c.container.remove(),c.liveRegion.remove(),c.dropdown.remove(),b.show().removeData("select2").off(".select2").prop("autofocus",
this.autofocus||!1),this.elementTabIndex?b.attr({tabindex:this.elementTabIndex}):b.removeAttr("tabindex"),b.show());a.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(a){return a.is("option")?{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:q(a.attr("locked"),"locked")||q(a.data("locked"),!0)}:a.is("optgroup")?{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}:void 0},prepareOpts:function(a){var b,
c,g,d,p=this;if(b=a.element,"select"===b.get(0).tagName.toLowerCase()&&(this.select=c=a.element),c&&e.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in a)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),a=e.extend({},{populateResults:function(b,c,g){var d,l=this.opts.id,z=this.liveRegion;d=function(b,c,r){var M,s,u,P,G,V,t,k;b=a.sortResults(b,c,g);var w=[];M=0;for(s=b.length;s>M;M+=1)u=b[M],
G=!0===u.disabled,P=!G&&l(u)!==f,V=u.children&&0<u.children.length,t=e("<li></li>"),t.addClass("select2-results-dept-"+r),t.addClass("select2-result"),t.addClass(P?"select2-result-selectable":"select2-result-unselectable"),G&&t.addClass("select2-disabled"),V&&t.addClass("select2-result-with-children"),t.addClass(p.opts.formatResultCssClass(u)),t.attr("role","presentation"),P=e(document.createElement("div")),P.addClass("select2-result-label"),P.attr("id","select2-result-label-"+n()),P.attr("role",
"option"),G=a.formatResult(u,P,g,p.opts.escapeMarkup),G!==f&&(P.html(G),t.append(P)),V&&(k=e("<ul></ul>"),k.addClass("select2-result-sub"),d(u.children,k,r+1),t.append(k)),t.data("select2-data",u),w.push(t[0]);c.append(w);z.text(a.formatMatches(b.length))};d(c,b,0)}},e.fn.select2.defaults,a),"function"!=typeof a.id&&(g=a.id,a.id=function(a){return a[g]}),e.isArray(a.element.data("select2Tags"))){if("tags"in a)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+
a.element.attr("id");a.tags=a.element.data("select2Tags")}if(c?(a.query=this.bind(function(a){var c,g,h,e={results:[],more:!1},d=a.term;h=function(b,c){var g;b.is("option")?a.matcher(d,b.text(),b)&&c.push(p.optionToData(b)):b.is("optgroup")&&(g=p.optionToData(b),b.children().each2(function(a,b){h(b,g.children)}),0<g.children.length&&c.push(g))};c=b.children();this.getPlaceholder()!==f&&0<c.length&&(g=this.getPlaceholderOption(),g&&(c=c.not(g)));c.each2(function(a,b){h(b,e.results)});a.callback(e)}),
a.id=function(a){return a.id}):"query"in a||("ajax"in a?(d=a.element.data("ajax-url"),d&&0<d.length&&(a.ajax.url=d),a.query=U.call(a.element,a.ajax)):"data"in a?a.query=A(a.data):"tags"in a&&(a.query=R(a.tags),a.createSearchChoice===f&&(a.createSearchChoice=function(a){return{id:e.trim(a),text:e.trim(a)}}),a.initSelection===f&&(a.initSelection=function(b,c){var g=[];e(u(b.val(),a.separator,a.transformVal)).each(function(){var b={id:this,text:this},c=a.tags;e.isFunction(c)&&(c=c());e(c).each(function(){return q(this.id,
b.id)?(b=this,!1):void 0});g.push(b)});c(g)}))),"function"!=typeof a.query)throw"query function not defined for Select2 "+a.element.attr("id");if("top"===a.createSearchChoicePosition)a.createSearchChoicePosition=function(a,b){a.unshift(b)};else if("bottom"===a.createSearchChoicePosition)a.createSearchChoicePosition=function(a,b){a.push(b)};else if("function"!=typeof a.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return a},
monitorSource:function(){var a,b=this.opts.element,c=this;b.on("change.select2",this.bind(function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}));this._sync=this.bind(function(){var a=b.prop("disabled");a===f&&(a=!1);this.enable(!a);a=b.prop("readonly");a===f&&(a=!1);this.readonly(a);this.container&&(C(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(B(this.opts.containerCssClass,this.opts.element)));this.dropdown&&(C(this.dropdown,
this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(B(this.opts.dropdownCssClass,this.opts.element)))});b.length&&b[0].attachEvent&&b.each(function(){this.attachEvent("onpropertychange",c._sync)});a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;a!==f&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new a(function(a){e.each(a,c._sync)}),this.propertyObserver.observe(b.get(0),{attributes:!0,
subtree:!1}))},triggerSelect:function(a){a=e.Event("select2-selecting",{val:this.id(a),object:a,choice:a});return this.opts.element.trigger(a),!a.isDefaultPrevented()},triggerChange:function(a){a=a||{};a=e.extend({},a,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(a);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===
this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;return a===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",!a),this.close(),this.enabledInterface=a,!0)},enable:function(a){a===f&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===f&&(a=!1);this._readonly!==a&&(this._readonly=a,this.opts.element.prop("readonly",
a),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var a,b,c,g,d=this.dropdown,p=this.container,l=p.offset(),n=p.outerHeight(!1),f=p.outerWidth(!1),r=d.outerHeight(!1),s=e(window),u=s.width(),t=s.height(),V=s.scrollLeft()+u,k=s.scrollTop()+t,t=l.top+n,w=l.left,k=k>=t+r,m=l.top-r>=s.scrollTop(),q=d.outerWidth(!1);d.hasClass("select2-drop-above")?(b=!0,!m&&k&&(c=!0,b=!1)):(b=!1,!k&&m&&(c=!0,b=!0));c&&(d.hide(),
l=this.container.offset(),n=this.container.outerHeight(!1),f=this.container.outerWidth(!1),r=d.outerHeight(!1),V=s.scrollLeft()+u,s.scrollTop(),t=l.top+n,w=l.left,q=d.outerWidth(!1),d.show(),this.focusSearch());this.opts.dropdownAutoWidth?(g=e(".select2-results",d)[0],d.addClass("select2-drop-auto-width"),d.css("width",""),q=d.outerWidth(!1)+(g.scrollHeight===g.clientHeight?0:ea.width),q>f?f=q:q=f,r=d.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width");"static"!==this.body.css("position")&&
(a=this.body.offset(),t-=a.top,w-=a.left);!(V>=w+q)&&l.left+V+p.outerWidth(!1)>q&&(w=l.left+this.container.outerWidth(!1)-q);a={left:w,width:f};b?(a.top=l.top-r,a.bottom="auto",this.container.addClass("select2-drop-above"),d.addClass("select2-drop-above")):(a.top=t,a.bottom="auto",this.container.removeClass("select2-drop-above"),d.removeClass("select2-drop-above"));a=e.extend(a,B(this.opts.dropdownCss,this.opts.element));d.css(a)},shouldOpen:function(){var a;return this.opened()?!1:!1===this._enabled||
!0===this._readonly?!1:(a=e.Event("select2-opening"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),V.on("mousemove.select2Event",function(a){t.x=a.pageX;t.y=a.pageY}),!0):!1},opening:function(){var a,b=this.containerEventName,c="scroll."+b,g="resize."+b,d="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");
this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body);a=e("#select2-drop-mask");0===a.length&&(a=e(document.createElement("div")),a.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),a.hide(),a.appendTo(this.body),a.on("mousedown touchstart click",function(b){v(a);var c,g=e("#select2-drop");0<g.length&&(c=g.data("select2"),c.opts.selectOnBlur&&c.selectHighlighted({noFocus:!0}),c.close(),b.preventDefault(),
b.stopPropagation())}));this.dropdown.prev()[0]!==a[0]&&this.dropdown.before(a);e("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");a.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var p=this;this.container.parents().add(window).each(function(){e(this).on(g+" "+c+" "+d,function(){p.opened()&&p.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerEventName,b="scroll."+a,c="resize."+
a,g="orientationchange."+a;this.container.parents().add(window).each(function(){e(this).off(b).off(c).off(g)});this.clearDropdownAlignmentPreference();e("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();V.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(a){this.open();
this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return B(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var a,b,c,g,d,p,l=this.results;if(b=this.highlight(),!(0>b)){if(0==b)return l.scrollTop(0),void 0;a=this.findHighlightableChoices().find(".select2-result-label");c=e(a[b]);p=(c.offset()||{}).top||0;g=p+c.outerHeight(!0);b===a.length-1&&(d=l.find("li.select2-more-results"),0<d.length&&(g=d.offset().top+d.outerHeight(!0)));
a=l.offset().top+l.outerHeight(!1);g>a&&l.scrollTop(l.scrollTop()+(g-a));g=p-l.offset().top;0>g&&"none"!=c.css("display")&&l.scrollTop(l.scrollTop()+g)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(a){for(var b=this.findHighlightableChoices(),c=this.highlight();-1<c&&c<b.length;){var c=c+a,g=e(b[c]);if(g.hasClass("select2-result-selectable")&&!g.hasClass("select2-disabled")&&!g.hasClass("select2-selected")){this.highlight(c);
break}}},highlight:function(a){var b,c,g=this.findHighlightableChoices();return 0===arguments.length?k(g.filter(".select2-highlighted")[0],g.get()):(a>=g.length&&(a=g.length-1),0>a&&(a=0),this.removeHighlight(),b=e(g[a]),b.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",b.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(b.text()),c=b.data("select2-data"),c&&this.opts.element.trigger({type:"select2-highlight",val:this.id(c),choice:c}),
void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){a=e(a.target).closest(".select2-result-selectable");if(0<a.length&&!a.is(".select2-highlighted")){var b=this.findHighlightableChoices();this.highlight(b.index(a))}else 0==a.length&&this.removeHighlight()},
loadMoreIfNeeded:function(){var a,b=this.results,c=b.find("li.select2-more-results"),g=this.resultsPage+1,e=this,d=this.search.val(),p=this.context;0!==c.length&&(a=c.offset().top-b.offset().top-b.height(),a<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:d,page:g,context:p,matcher:this.opts.matcher,callback:this.bind(function(a){e.opened()&&(e.opts.populateResults.call(this,b,a.results,{term:d,page:g,context:p}),e.postprocessResults(a,!1,
!1),!0===a.more?(c.detach().appendTo(b).html(e.opts.escapeMarkup(B(e.opts.formatLoadMore,e.opts.element,g+1))),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):c.remove(),e.positionDropdown(),e.resultsPage=g,e.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(a){function b(){p.removeClass("select2-active");r.positionDropdown();l.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?r.liveRegion.text(l.text()):
r.liveRegion.text(r.opts.formatMatches(l.find('.select2-result-selectable:not(".select2-selected")').length))}function c(a){l.html(a);b()}var g,d,p=this.search,l=this.results,n=this.opts,r=this,s=p.val(),u=e.data(this.container,"select2-last-term");if((!0===a||!u||!q(s,u))&&(e.data(this.container,"select2-last-term",s),!0===a||!1!==this.showSearchInput&&this.opened())){d=++this.queryCount;s=this.getMaximumSelectionSize();if(1<=s&&(g=this.data(),e.isArray(g)&&g.length>=s&&O(n.formatSelectionTooBig,
"formatSelectionTooBig")))return c("<li class='select2-selection-limit'>"+B(n.formatSelectionTooBig,n.element,s)+"</li>"),void 0;if(p.val().length<n.minimumInputLength)return O(n.formatInputTooShort,"formatInputTooShort")?c("<li class='select2-no-results'>"+B(n.formatInputTooShort,n.element,p.val(),n.minimumInputLength)+"</li>"):c(""),a&&this.showSearch&&this.showSearch(!0),void 0;if(n.maximumInputLength&&p.val().length>n.maximumInputLength)return O(n.formatInputTooLong,"formatInputTooLong")?c("<li class='select2-no-results'>"+
B(n.formatInputTooLong,n.element,p.val(),n.maximumInputLength)+"</li>"):c(""),void 0;n.formatSearching&&0===this.findHighlightableChoices().length&&c("<li class='select2-searching'>"+B(n.formatSearching,n.element)+"</li>");p.addClass("select2-active");this.removeHighlight();g=this.tokenize();g!=f&&null!=g&&p.val(g);this.resultsPage=1;n.query({element:n.element,term:p.val(),page:this.resultsPage,context:null,matcher:n.matcher,callback:this.bind(function(g){var s;if(d==this.queryCount){if(!this.opened())return this.search.removeClass("select2-active"),
void 0;if(g.hasError!==f&&O(n.formatAjaxError,"formatAjaxError"))return c("<li class='select2-ajax-error'>"+B(n.formatAjaxError,n.element,g.jqXHR,g.textStatus,g.errorThrown)+"</li>"),void 0;if(this.context=g.context===f?null:g.context,this.opts.createSearchChoice&&""!==p.val()&&(s=this.opts.createSearchChoice.call(r,p.val(),g.results),s!==f&&null!==s&&r.id(s)!==f&&null!==r.id(s)&&0===e(g.results).filter(function(){return q(r.id(this),r.id(s))}).length&&this.opts.createSearchChoicePosition(g.results,
s)),0===g.results.length&&O(n.formatNoMatches,"formatNoMatches"))return c("<li class='select2-no-results'>"+B(n.formatNoMatches,n.element,p.val())+"</li>"),void 0;l.empty();r.opts.populateResults.call(this,l,g.results,{term:p.val(),page:this.resultsPage,context:null});!0===g.more&&O(n.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+n.escapeMarkup(B(n.formatLoadMore,n.element,this.resultsPage))+"</li>"),window.setTimeout(function(){r.loadMoreIfNeeded()},10));this.postprocessResults(g,
a);b();this.opts.element.trigger({type:"select2-loaded",items:g})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){D(this.search)},selectHighlighted:function(a){if(this._touchMoved)return this.clearTouchMoved(),
void 0;var b=this.highlight(),c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==f?a.text():f)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();
if(this.opts.placeholderOption!==f)return"first"===this.opts.placeholderOption&&a||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(a.text())&&""===a.val())return a}},initContainerWidth:function(){var a=function(){var a,b,c,g,h,d;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(a=
this.opts.element.attr("style"),a!==f)for(b=a.split(";"),g=0,h=b.length;h>g;g+=1)if(d=b[g].replace(/\s/g,""),c=d.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==c&&1<=c.length)return c[1];return"resolve"===this.opts.width?(a=this.opts.element.css("width"),0<a.indexOf("%")?a:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==a&&this.container.css("width",
a)}});p=b(g,{createContainer:function(){return e(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span></a><label for='' class='select2-offscreen'></label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'></label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   </div>   <ul class='select2-results' role='listbox'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var a,b,c;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.opts.shouldFocusInput(this)&&(this.search.focus(),a=this.search.get(0),a.createTextRange?(b=a.createTextRange(),b.collapse(!1),b.select()):a.setSelectionRange&&(c=this.search.val().length,
a.setSelectionRange(c,c)));""===this.search.val()&&this.nextSearchTerm!=f&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&
this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",!1);this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);a.call(this,"selection","focusser")},initContainer:function(){var a,b;b=this.container;var c=this.dropdown,
g=n();0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=a=b.find(".select2-choice");this.focusser=b.find(".select2-focusser");a.find(".select2-chosen").attr("id","select2-chosen-"+g);this.focusser.attr("aria-labelledby","select2-chosen-"+g);this.results.attr("id","select2-results-"+g);this.search.attr("aria-owns","select2-results-"+g);this.focusser.attr("id","s2id_autogen"+g);b=e("label[for='"+this.opts.element.attr("id")+"']");this.opts.element.focus(this.bind(function(){this.focus()}));
this.focusser.prev().text(b.text()).attr("for",this.focusser.attr("id"));g=this.opts.element.attr("title");this.opts.element.attr("title",g||b.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&229!=a.keyCode){if(a.which===w.PAGE_UP||a.which===
w.PAGE_DOWN)return y(a),void 0;switch(a.which){case w.UP:case w.DOWN:return this.moveHighlight(a.which===w.UP?-1:1),y(a),void 0;case w.ENTER:return this.selectHighlighted(),y(a),void 0;case w.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case w.ESC:return this.cancel(a),y(a),void 0}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&
a.which!==w.TAB&&!w.isControl(a)&&!w.isFunctionKey(a)&&a.which!==w.ESC)return!1===this.opts.openOnEnter&&a.which===w.ENTER?(y(a),void 0):a.which==w.DOWN||a.which==w.UP||a.which==w.ENTER&&this.opts.openOnEnter?a.altKey||a.ctrlKey||a.shiftKey||a.metaKey?void 0:(this.open(),y(a),void 0):a.which==w.DELETE||a.which==w.BACKSPACE?(this.opts.allowClear&&this.clear(),y(a),void 0):void 0}));X(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&(a.stopPropagation(),
!this.opened())&&this.open()}));a.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection&&this.selection.focus())}));a.on("mousedown touchstart",this.bind(function(b){v(a);this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();y(b)}));c.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&
this.search.focus()}));a.on("focus",this.bind(function(a){y(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||
this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.hide();this.setPlaceholder()},clear:function(a){var b=this.selection.data("select2-data");if(b){var c=e.Event("select2-clearing");(this.opts.element.trigger(c),c.isDefaultPrevented())||(c=this.getPlaceholderOption(),this.opts.element.val(c?c.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),
!1!==a&&(this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b})))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==f&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder(),a.nextSearchTerm=a.opts.nextSearchTerm(b,a.search.val()))})}},isPlaceholderOptionSelected:function(){var a;
return this.getPlaceholder()===f?!1:(a=this.getPlaceholderOption())!==f&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===f||null===this.opts.element.val()},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,c){var g=a.find("option").filter(function(){return this.selected&&!this.disabled});c(b.optionToData(g))}:"data"in a&&(a.initSelection=a.initSelection||function(b,
c){var g=b.val(),d=null;a.query({matcher:function(b,c,e){b=q(g,a.id(e));return b&&(d=e),b},callback:e.isFunction(c)?function(){c(d)}:e.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===f?f:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();!this.isPlaceholderOptionSelected()||a===f||this.select&&this.getPlaceholderOption()===f||(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),
this.container.removeClass("select2-allowclear"))},postprocessResults:function(a,b,c){var g=0,e=this;if(this.findHighlightableChoices().each2(function(a,b){return q(e.id(b.data("select2-data")),e.opts.element.val())?(g=a,!1):void 0}),!1!==c&&(!0===b&&0<=g?this.highlight(g):this.highlight(0)),!0===b)b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(S(a.results)>=b)},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",
!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),g=this.data();this.opts.element.val(this.id(a));this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();b&&b.noFocus||!this.opts.shouldFocusInput(this)||
this.focusser.focus();q(c,this.id(a))||this.triggerChange({added:a,removed:g})}},updateSelection:function(a){var b,c=this.selection.find(".select2-chosen");this.selection.data("select2-data",a);c.empty();null!==a&&(b=this.opts.formatSelection(a,c,this.opts.escapeMarkup));b!==f&&c.append(b);a=this.opts.formatSelectionCssClass(a,c);a!==f&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==f&&this.container.addClass("select2-allowclear")},val:function(){var a,
b=!1,c=null,g=this,e=this.data();if(0===arguments.length)return this.opts.element.val();if(a=arguments[0],1<arguments.length&&(b=arguments[1]),this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){return c=g.optionToData(b),!1}),this.updateSelection(c),this.setPlaceholder(),b&&this.triggerChange({added:c,removed:e});else{if(!a&&0!==a)return this.clear(b),void 0;if(this.opts.initSelection===f)throw Error("cannot call val() if initSelection() is not defined");
this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){g.opts.element.val(a?g.id(a):"");g.updateSelection(a);g.setPlaceholder();b&&g.triggerChange({added:a,removed:e})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var b,c=!1;return 0===arguments.length?(b=this.selection.data("select2-data"),b==f&&(b=null),b):(1<arguments.length&&(c=arguments[1]),a?(b=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),c&&this.triggerChange({added:a,
removed:b})):this.clear(c),void 0)}});l=b(g,{createContainer:function(){return e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'></label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),b=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(a,c){var g=[];a.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(a,c){g.push(b.optionToData(c))});c(g)}:"data"in a&&(a.initSelection=a.initSelection||function(b,c){var g=u(b.val(),a.separator,a.transformVal),d=[];a.query({matcher:function(b,c,p){b=e.grep(g,function(b){return q(b,a.id(p))}).length;return b&&
d.push(p),b},callback:e.isFunction(c)?function(){for(var b=[],e=0;e<g.length;e++)for(var p=g[e],l=0;l<d.length;l++){var n=d[l];if(q(p,a.id(n))){b.push(n);d.splice(l,1);break}}c(b)}:e.noop})}),a},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",
a)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);a.call(this,"searchContainer","selection")},initContainer:function(){var a;this.searchContainer=this.container.find(".select2-search-field");this.selection=a=this.container.find(".select2-choices");var b=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){b.search[0].focus();
b.selectChoice(e(this))});this.search.attr("id","s2id_autogen"+n());this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.opts.element.focus(this.bind(function(){this.focus()}));this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",
this.bind(function(b){var c,g;if(this.isInterfaceEnabled()){++this.keydowns;var d=a.find(".select2-search-choice-focus"),p=d.prev(".select2-search-choice:not(.select2-locked)"),l=d.next(".select2-search-choice:not(.select2-locked)");c=this.search;c=e(c)[0];var n=0;g=0;"selectionStart"in c?(n=c.selectionStart,g=c.selectionEnd-n):"selection"in document&&(c.focus(),n=document.selection.createRange(),g=document.selection.createRange().text.length,n.moveStart("character",-c.value.length),n=n.text.length-
g);c=n;if(d.length&&(b.which==w.LEFT||b.which==w.RIGHT||b.which==w.BACKSPACE||b.which==w.DELETE||b.which==w.ENTER))return g=d,b.which==w.LEFT&&p.length?g=p:b.which==w.RIGHT?g=l.length?l:null:b.which===w.BACKSPACE?this.unselect(d.first())&&(this.search.width(10),g=p.length?p:l):b.which==w.DELETE?this.unselect(d.first())&&(this.search.width(10),g=l.length?l:null):b.which==w.ENTER&&(g=null),this.selectChoice(g),y(b),g&&g.length||this.open(),void 0;if((b.which===w.BACKSPACE&&1==this.keydowns||b.which==
w.LEFT)&&0==c&&!g)return this.selectChoice(a.find(".select2-search-choice:not(.select2-locked)").last()),y(b),void 0;if(this.selectChoice(null),this.opened())switch(b.which){case w.UP:case w.DOWN:return this.moveHighlight(b.which===w.UP?-1:1),y(b),void 0;case w.ENTER:return this.selectHighlighted(),y(b),void 0;case w.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case w.ESC:return this.cancel(b),y(b),void 0}b.which===w.TAB||w.isControl(b)||w.isFunctionKey(b)||b.which===w.BACKSPACE||
b.which===w.ESC||b.which===w.ENTER&&(!1===this.opts.openOnEnter||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)||(this.open(),b.which!==w.PAGE_UP&&b.which!==w.PAGE_DOWN||y(b),b.which===w.ENTER&&y(b))}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(a){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();a.stopImmediatePropagation();
this.opts.element.trigger(e.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(a){this.isInterfaceEnabled()&&(0<e(a.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),a.preventDefault()))}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&
(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.hide();this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===
this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==f&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),b=this.getMaxSearchWidth();a!==f&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<b?b:
this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();""===this.search.val()&&this.nextSearchTerm!=f&&(this.search.val(this.nextSearchTerm),this.search.select());this.updateResults(!0);this.opts.shouldFocusInput(this)&&this.search.focus();this.opts.element.trigger(e.Event("select2-open"))},
close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var b=[],c=[],g=this;e(a).each(function(){0>k(g.id(this),b)&&(b.push(g.id(this)),c.push(this))});a=c;this.selection.find(".select2-search-choice").remove();e(a).each(function(){g.addSelectedChoice(this)});g.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,
a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&a!=f&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&""!==a.text&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),
this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=f&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(a){var b,
c=!a.locked,g=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),d=e("<li class='select2-search-choice select2-locked'><div></div></li>"),g=c?g:d,d=this.id(a),p=this.getVal();b=this.opts.formatSelection(a,g.find("div"),this.opts.escapeMarkup);b!=f&&g.find("div").replaceWith(e("<div></div>").html(b));b=this.opts.formatSelectionCssClass(a,g.find("div"));b!=f&&g.addClass(b);c&&g.find(".select2-search-choice-close").on("mousedown",
y).on("click dblclick",this.bind(function(a){this.isInterfaceEnabled()&&(this.unselect(e(a.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),y(a),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));g.data("select2-data",a);g.insertBefore(this.searchContainer);p.push(d);this.setVal(p)},unselect:function(a){var b,
c,g=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length)throw"Invalid argument: "+a+". Must be .select2-search-choice";if(b=a.data("select2-data")){c=e.Event("select2-removing");if(c.val=this.id(b),c.choice=b,this.opts.element.trigger(c),c.isDefaultPrevented())return!1;for(;0<=(c=k(this.id(b),g));)g.splice(c,1),this.setVal(g),this.select&&this.postprocessResults();return a.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(b),choice:b}),this.triggerChange({removed:b}),
!0}},postprocessResults:function(a,b,c){var g=this.getVal();b=this.results.find(".select2-result");var e=this.results.find(".select2-result-with-children"),d=this;b.each2(function(a,b){var c=d.id(b.data("select2-data"));0<=k(c,g)&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))});e.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")});-1==this.highlight()&&
!1!==c&&!0===this.opts.closeOnSelect&&d.highlight(0);!this.opts.createSearchChoice&&0< !b.filter(".select2-result:not(.select2-selected)").length&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&O(d.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+B(d.opts.formatNoMatches,d.opts.element,d.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-c(this.search)},resizeSearch:function(){var a,b,g,d,p=c(this.search);
a=this.search;r||(g=a[0].currentStyle||window.getComputedStyle(a[0],null),r=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:g.fontSize,fontFamily:g.fontFamily,fontStyle:g.fontStyle,fontWeight:g.fontWeight,letterSpacing:g.letterSpacing,textTransform:g.textTransform,whiteSpace:"nowrap"}),r.attr("class","select2-sizer"),e(document.body).append(r));a=(r.text(a.val()),r.width())+10;b=this.search.offset().left;g=this.selection.width();d=this.selection.offset().left;
b=g-(b-d)-p;a>b&&(b=g-p);40>b&&(b=g-p);0>=b&&(b=a);this.search.width(Math.floor(b))},getVal:function(){var a;return this.select?(a=this.select.val(),null===a?[]:a):(a=this.opts.element.val(),u(a,this.opts.separator,this.opts.transformVal))},setVal:function(a){var b;this.select?this.select.val(a):(b=[],e(a).each(function(){0>k(this,b)&&b.push(this)}),this.opts.element.val(0===b.length?"":b.join(this.opts.separator)))},buildChangeDetails:function(a,b){b=b.slice(0);a=a.slice(0);for(var c=0;c<b.length;c++)for(var g=
0;g<a.length;g++)q(this.opts.id(b[c]),this.opts.id(a[g]))&&(b.splice(c,1),0<c&&c--,a.splice(g,1),g--);return{added:b,removed:a}},val:function(a,b){var c,g=this;if(0===arguments.length)return this.getVal();if(c=this.data(),c.length||(c=[]),!a&&0!==a)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),b&&this.triggerChange({added:this.data(),removed:c}),void 0;if(this.setVal(a),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),b&&this.triggerChange(this.buildChangeDetails(c,
this.data()));else{if(this.opts.initSelection===f)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(a){var d=e.map(a,g.id);g.setVal(d);g.updateSelection(a);g.clearSearch();b&&g.triggerChange(g.buildChangeDetails(c,g.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},
onSortEnd:function(){var a=[],b=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){a.push(b.opts.id(e(this).data("select2-data")))});this.setVal(a);this.triggerChange()},data:function(a,b){var c,g,d=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(g=this.data(),a||(a=[]),c=e.map(a,
function(a){return d.opts.id(a)}),this.setVal(c),this.updateSelection(a),this.clearSearch(),b&&this.triggerChange(this.buildChangeDetails(g,this.data())),void 0)}});e.fn.select2=function(){var a,b,c,g,d,p=Array.prototype.slice.call(arguments,0),l="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),n=["opened","isFocused","container","dropdown"],r=["val","data"],s={search:"externalSearch"};return this.each(function(){if(0===
p.length||"object"==typeof p[0])a=0===p.length?{}:e.extend({},p[0]),a.element=e(this),"select"===a.element.get(0).tagName.toLowerCase()?d=a.element.prop("multiple"):(d=a.multiple||!1,"tags"in a&&(a.multiple=d=!0)),b=d?new window.Select2["class"].multi:new window.Select2["class"].single,b.init(a);else{if("string"!=typeof p[0])throw"Invalid arguments to select2 plugin: "+p;if(0>k(p[0],l))throw"Unknown method: "+p[0];if(g=f,b=e(this).data("select2"),b!==f)if(c=p[0],"container"===c?g=b.container:"dropdown"===
c?g=b.dropdown:(s[c]&&(c=s[c]),g=b[c].apply(b,p.slice(1))),0<=k(p[0],n)||0<=k(p[0],r)&&1==p.length)return!1}}),g===f?this:g};e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,g){b=[];return L(this.text(a),c.term,b,g),b.join("")},transformVal:function(a){return e.trim(a)},formatSelection:function(a,b,c){return a?c(this.text(a)):f},sortResults:function(a){return a},
formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(){return f},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==f?null:a.id},text:function(a){return a&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(a):a[this.data.text]:a.text},matcher:function(a,b){return 0<=s(""+b).toUpperCase().indexOf(s(""+a).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:d,escapeMarkup:T,blurOnChange:!1,
selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return f},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(a){return"ontouchstart"in window||0<navigator.msMaxTouchPoints?0>a.opts.minimumResultsForSearch?!1:!0:!0}};e.fn.select2.locales=[];e.fn.select2.locales.en={formatMatches:function(a){return 1===a?"One result is available, press enter to select it.":a+" results are available, use up and down arrow keys to navigate."},
formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" or more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}};
e.extend(e.fn.select2.defaults,e.fn.select2.locales.en);e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:U,local:A,tags:R},util:{debounce:Q,markMatch:L,escapeMarkup:T,stripDiacritics:s},"class":{"abstract":g,single:p,multi:l}}}})(jQuery);
(function(e){e.fn.select2.locales["zh-CN"]={formatNoMatches:function(){return"\u6ca1\u6709\u627e\u5230\u5339\u914d\u9879"},formatInputTooShort:function(e,v){return"\u8bf7\u518d\u8f93\u5165"+(v-e.length)+"\u4e2a\u5b57\u7b26"},formatInputTooLong:function(e,v){return"\u8bf7\u5220\u6389"+(e.length-v)+"\u4e2a\u5b57\u7b26"},formatSelectionTooBig:function(e){return"\u4f60\u53ea\u80fd\u9009\u62e9\u6700\u591a"+e+"\u9879"},formatLoadMore:function(e){return"\u52a0\u8f7d\u7ed3\u679c\u4e2d\u2026"},formatSearching:function(){return"\u641c\u7d22\u4e2d\u2026"}};
e.extend(e.fn.select2.defaults,e.fn.select2.locales["zh-CN"])})(jQuery);
(function(e){var f=function(f,k){this.options=k;this.$elementFilestyle=[];this.$element=e(f)};f.prototype={clear:function(){this.$element.val("");this.$elementFilestyle.find(":text").val("");this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle").val("");this.$elementFilestyle.remove()},disabled:function(e){if(!0===e)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled",
"true"),this.options.disabled=!0);else if(!1===e)this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1);else return this.options.disabled},buttonBefore:function(e){if(!0===e)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else if(!1===e)this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&
(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else return this.options.buttonBefore},icon:function(e){if(!0===e)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else if(!1===e)this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".glyphicon").remove());else return this.options.icon},input:function(e){if(!0===e)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):
this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else if(!1===e)this.options.input&&(this.options.input=!1,this.$elementFilestyle.find(":text").remove(),e=this.pushNameFiles(),0<e.length&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn"));
else return this.options.input},size:function(e){if(void 0!==e){var f=this.$elementFilestyle.find("label"),m=this.$elementFilestyle.find("input");f.removeClass("btn-lg btn-sm");m.removeClass("input-lg input-sm");"nr"!=e&&(f.addClass("btn-"+e),m.addClass("input-"+e))}else return this.options.size},buttonText:function(e){if(void 0!==e)this.options.buttonText=e,this.$elementFilestyle.find("label span").html(this.options.buttonText);else return this.options.buttonText},buttonName:function(e){if(void 0!==
e)this.options.buttonName=e,this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName});else return this.options.buttonName},iconName:function(e){if(void 0!==e)this.$elementFilestyle.find(".glyphicon").attr({"class":".glyphicon "+this.options.iconName});else return this.options.iconName},htmlIcon:function(){return this.options.icon?'<span class="glyphicon '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+
("nr"==this.options.size?"":"input-"+this.options.size)+'" disabled> ':""},pushNameFiles:function(){var e="",f=[];void 0===this.$element[0].files?f[0]={name:this.$element[0]&&this.$element[0].value}:f=this.$element[0].files;for(var m=0;m<f.length;m++)e+=f[m].name.split("\\").pop()+", ";""!==e?this.$elementFilestyle.find(":text").val(e.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val("");return f},constructor:function(){var f=this,k="",k=f.$element.attr("id"),m="";""!==k&&k||(k="filestyle-"+
e(".bootstrap-filestyle").length,f.$element.attr({id:k}));m='<span class="group-span-filestyle '+(f.options.input?"input-group-btn":"")+'"><label for="'+k+'" class="btn '+f.options.buttonName+" "+("nr"==f.options.size?"":"btn-"+f.options.size)+'" '+(f.options.disabled?'disabled="true"':"")+">"+f.htmlIcon()+f.options.buttonText+"</label></span>";k=f.options.buttonBefore?m+f.htmlInput():f.htmlInput()+m;f.$elementFilestyle=e('<div class="bootstrap-filestyle input-group">'+k+"</div>");f.$elementFilestyle.find(".group-span-filestyle").attr("tabindex",
"0").keypress(function(e){if(13===e.keyCode||32===e.charCode)return f.$elementFilestyle.find("label").click(),!1});f.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(f.$elementFilestyle);f.options.disabled&&f.$element.attr("disabled","true");f.$element.change(function(){var e=f.pushNameFiles();0==f.options.input&&f.options.badge?0==f.$elementFilestyle.find(".badge").length?f.$elementFilestyle.find("label").append(' <span class="badge">'+e.length+"</span>"):
0==e.length?f.$elementFilestyle.find(".badge").remove():f.$elementFilestyle.find(".badge").html(e.length):f.$elementFilestyle.find(".badge").remove()});-1<window.navigator.userAgent.search(/firefox/i)&&f.$elementFilestyle.find("label").click(function(){f.$element.click();return!1})}};var v=e.fn.filestyle;e.fn.filestyle=function(s,k){var m="",q=this.each(function(){if("file"===e(this).attr("type")){var u=e(this),c=u.data("filestyle"),q=e.extend({},e.fn.filestyle.defaults,s,"object"===typeof s&&s);
c||(u.data("filestyle",c=new f(this,q)),c.constructor());"string"===typeof s&&(m=c[s](k))}});return void 0!==typeof m?m:q};e.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1};e.fn.filestyle.noConflict=function(){e.fn.filestyle=v;return this};e(function(){e(".filestyle").each(function(){var f=e(this),k={input:"false"===f.attr("data-input")?!1:!0,icon:"false"===f.attr("data-icon")?
!1:!0,buttonBefore:"true"===f.attr("data-buttonBefore")?!0:!1,disabled:"true"===f.attr("data-disabled")?!0:!1,size:f.attr("data-size"),buttonText:f.attr("data-buttonText"),buttonName:f.attr("data-buttonName"),iconName:f.attr("data-iconName"),badge:"false"===f.attr("data-badge")?!1:!0};f.filestyle(k)})})})(window.jQuery);
(function(e,f){"function"===typeof define&&define.amd?define("simple-module",["jquery"],function(v){return e.returnExportsGlobal=f(v)}):"object"===typeof exports?module.exports=f(require("jquery")):e.SimpleModule=f(jQuery)})(this,function(e){var f=[].slice;return function(){function v(f){var k,m,q;this.opts=e.extend({},this.opts,f);(k=this.constructor)._connectedClasses||(k._connectedClasses=[]);var u,c;c=this.constructor._connectedClasses;f=[];q=0;for(u=c.length;q<u;q++)k=c[q],m=k.pluginName.charAt(0).toLowerCase()+
k.pluginName.slice(1),k.prototype._connected&&(k.prototype._module=this),f.push(this[m]=new k);if(this._connected)this.opts=e.extend({},this.opts,this._module.opts);else for(this._init(),m=0,q=f.length;m<q;m++)k=f[m],"function"===typeof k._init&&k._init();this.trigger("initialized")}v.extend=function(e){var f,m,q;if(null!=e&&"object"===typeof e){for(f in e)m=e[f],"included"!==f&&"extended"!==f&&(this[f]=m);return null!=(q=e.extended)?q.call(this):void 0}};v.include=function(e){var f,m,q;if(null!=
e&&"object"===typeof e){for(f in e)m=e[f],"included"!==f&&"extended"!==f&&(this.prototype[f]=m);return null!=(q=e.included)?q.call(this):void 0}};v.connect=function(e){if("function"===typeof e){if(!e.pluginName)throw Error("Module.connect: cannot connect plugin without pluginName");e.prototype._connected=!0;this._connectedClasses||(this._connectedClasses=[]);this._connectedClasses.push(e);if(e.pluginName)return this[e.pluginName]=e}};v.prototype.opts={};v.prototype._init=function(){};v.prototype.on=
function(){var s,k;s=1<=arguments.length?f.call(arguments,0):[];(k=e(this)).on.apply(k,s);return this};v.prototype.one=function(){var s,k;s=1<=arguments.length?f.call(arguments,0):[];(k=e(this)).one.apply(k,s);return this};v.prototype.off=function(){var s,k;s=1<=arguments.length?f.call(arguments,0):[];(k=e(this)).off.apply(k,s);return this};v.prototype.trigger=function(){var s,k;s=1<=arguments.length?f.call(arguments,0):[];(k=e(this)).trigger.apply(k,s);return this};v.prototype.triggerHandler=function(){var s,
k;s=1<=arguments.length?f.call(arguments,0):[];return(k=e(this)).triggerHandler.apply(k,s)};v.prototype._t=function(){var e,k;e=1<=arguments.length?f.call(arguments,0):[];return(k=this.constructor)._t.apply(k,e)};v._t=function(){var e,k,m;k=arguments[0];e=2<=arguments.length?f.call(arguments,1):[];k=(null!=(m=this.i18n[this.locale])?m[k]:void 0)||"";if(!(0<e.length))return k;k=k.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(f,u,c){return c?u+e[parseInt(c)-1]:u+e.shift()});return k.replace(/%%s/g,"%s")};
v.i18n={"zh-CN":{}};v.locale="zh-CN";return v}()});
(function(e,f){"function"===typeof define&&define.amd?define("simple-hotkeys",["jquery","simple-module"],function(v,s){return e.returnExportsGlobal=f(v,s)}):"object"===typeof exports?module.exports=f(require("jquery"),require("simple-module")):(e.simple=e.simple||{},e.simple.hotkeys=f(jQuery,SimpleModule))})(this,function(e,f){var v,s={}.hasOwnProperty,k=function(e,f){function u(){this.constructor=e}for(var c in f)s.call(f,c)&&(e[c]=f[c]);u.prototype=f.prototype;e.prototype=new u;e.__super__=f.prototype;
return e};v=function(f){function q(){return q.__super__.constructor.apply(this,arguments)}k(q,f);q.count=0;q.keyNameMap={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Meta",93:"Meta",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",
76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",
187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"};q.aliases={escape:"esc","delete":"del","return":"enter",ctrl:"control",space:"spacebar",ins:"insert",cmd:"meta",command:"meta",wins:"meta",windows:"meta"};q.normalize=function(e){var c,f,k,m;e=e.toLowerCase().replace(/\s+/gi,"").split("+");c=k=0;for(m=e.length;k<m;c=++k)f=e[c],e[c]=this.aliases[f]||f;c=e.pop();e.sort().push(c);return e.join("_")};q.prototype.opts={el:document};q.prototype._init=function(){this.id=++this.constructor.count;
this._map={};this._delegate="string"===typeof this.opts.el?document:this.opts.el;return e(this._delegate).on("keydown.simple-hotkeys-"+this.id,this.opts.el,function(e){return function(c){var f;return null!=(f=e._getHander(c))?f.call(e,c):void 0}}(this))};q.prototype._getHander=function(e){var c,f;if(c=this.constructor.keyNameMap[e.which])return f="",e.altKey&&(f+="alt_"),e.ctrlKey&&(f+="control_"),e.metaKey&&(f+="meta_"),e.shiftKey&&(f+="shift_"),f+=c.toLowerCase(),this._map[f]};q.prototype.respondTo=
function(e){return"string"===typeof e?null!=this._map[this.constructor.normalize(e)]:null!=this._getHander(e)};q.prototype.add=function(e,c){this._map[this.constructor.normalize(e)]=c;return this};q.prototype.remove=function(e){delete this._map[this.constructor.normalize(e)];return this};q.prototype.destroy=function(){e(this._delegate).off(".simple-hotkeys-"+this.id);this._map={};return this};return q}(f);return function(e){return new v(e)}});
(function(e,f){"function"===typeof define&&define.amd?define("simple-uploader",["jquery","simple-module"],function(v,s){return e.returnExportsGlobal=f(v,s)}):"object"===typeof exports?module.exports=f(require("jquery"),require("simple-module")):(e.simple=e.simple||{},e.simple.uploader=f(jQuery,SimpleModule))})(this,function(e,f){var v,s={}.hasOwnProperty,k=function(e,f){function u(){this.constructor=e}for(var c in f)s.call(f,c)&&(e[c]=f[c]);u.prototype=f.prototype;e.prototype=new u;e.__super__=f.prototype;
return e};v=function(f){function q(){return q.__super__.constructor.apply(this,arguments)}k(q,f);q.count=0;q.prototype.opts={url:"",params:null,fileKey:"upload_file",connectionCount:3};q.prototype._init=function(){this.files=[];this.queue=[];this.id=++q.count;this.on("uploadcomplete",function(f){return function(c,k){f.files.splice(e.inArray(k,f.files),1);return 0<f.queue.length&&f.files.length<f.opts.connectionCount?f.upload(f.queue.shift()):f.uploading=!1}}(this));return e(window).on("beforeunload.uploader-"+
this.id,function(e){return function(c){if(e.uploading)return c.originalEvent.returnValue=e._t("leaveConfirm"),e._t("leaveConfirm")}}(this))};q.prototype.generateId=function(){var e;e=0;return function(){return e+=1}}();q.prototype.upload=function(f,c){var k,m,q;null==c&&(c={});if(null!=f){if(e.isArray(f)||f instanceof FileList)for(m=0,q=f.length;m<q;m++)k=f[m],this.upload(k,c);else if(e(f).is("input:file")){if(k=e(f).attr("name"))c.fileKey=k;this.upload(e.makeArray(e(f)[0].files),c)}else f.id&&f.obj||
(f=this.getFile(f));if(f&&f.obj)if(e.extend(f,c),this.files.length>=this.opts.connectionCount)this.queue.push(f);else if(!1!==this.triggerHandler("beforeupload",[f]))return this.files.push(f),this._xhrUpload(f),this.uploading=!0}};q.prototype.getFile=function(e){var c,f,k;if(e instanceof window.File||e instanceof window.Blob)c=null!=(f=e.fileName)?f:e.name;else return null;return{id:this.generateId(),url:this.opts.url,params:this.opts.params,fileKey:this.opts.fileKey,name:c,size:null!=(k=e.fileSize)?
k:e.size,ext:c?c.split(".").pop().toLowerCase():"",obj:e}};q.prototype._xhrUpload=function(f){var c,k,m,q;c=new FormData;c.append(f.fileKey,f.obj);c.append("original_filename",f.name);if(f.params)for(k in q=f.params,q)m=q[k],c.append(k,m);return f.xhr=e.ajax({url:f.url,data:c,processData:!1,contentType:!1,type:"POST",headers:{"X-File-Name":encodeURIComponent(f.name)},xhr:function(){var c;if(c=e.ajaxSettings.xhr())c.upload.onprogress=function(c){return function(e){return c.progress(e)}}(this);return c},
progress:function(c){return function(e){if(e.lengthComputable)return c.trigger("uploadprogress",[f,e.loaded,e.total])}}(this),error:function(c){return function(e,k,m){return c.trigger("uploaderror",[f,e,k])}}(this),success:function(c){return function(k){c.trigger("uploadprogress",[f,f.size,f.size]);c.trigger("uploadsuccess",[f,k]);return e(document).trigger("uploadsuccess",[f,k,c])}}(this),complete:function(c){return function(e,k){return c.trigger("uploadcomplete",[f,e.responseText])}}(this)})};q.prototype.cancel=
function(e){var c,f,k,m;if(!e.id)for(m=this.files,f=0,k=m.length;f<k;f++)if(c=m[f],c.id===1*e){e=c;break}this.trigger("uploadcancel",[e]);e.xhr&&e.xhr.abort();return e.xhr=null};q.prototype.readImageFile=function(f,c){var k,m;if(e.isFunction(c))return m=new Image,m.onload=function(){return c(m)},m.onerror=function(){return c()},window.FileReader&&FileReader.prototype.readAsDataURL&&/^image/.test(f.type)?(k=new FileReader,k.onload=function(c){return m.src=c.target.result},k.readAsDataURL(f)):c()};
q.prototype.destroy=function(){var f,c,k,m;this.queue.length=0;m=this.files;c=0;for(k=m.length;c<k;c++)f=m[c],this.cancel(f);e(window).off(".uploader-"+this.id);return e(document).off(".uploader-"+this.id)};q.i18n={"zh-CN":{leaveConfirm:"\u6b63\u5728\u4e0a\u4f20\u6587\u4ef6\uff0c\u5982\u679c\u79bb\u5f00\u4e0a\u4f20\u4f1a\u81ea\u52a8\u53d6\u6d88"}};q.locale="zh-CN";return q}(f);return function(e){return new v(e)}});
(function(e,f){"function"===typeof define&&define.amd?define("simditor",["jquery","simple-module","simple-hotkeys","simple-uploader"],function(v,s,k,m){return e.Simditor=f(v,s,k,m)}):"object"===typeof exports?module.exports=f(require("jquery"),require("simple-module"),require("simple-hotkeys"),require("simple-uploader")):e.Simditor=f(jQuery,SimpleModule,simple.hotkeys,simple.uploader)})(this,function(e,f,v,s){var k,m,q,u,c,X,Y,Q,K,D,y,C,L,T,U,A=function(c,e){function a(){this.constructor=c}for(var b in e)R.call(e,
b)&&(c[b]=e[b]);a.prototype=e.prototype;c.prototype=new a;c.__super__=e.prototype;return c},R={}.hasOwnProperty,O=[].indexOf||function(c){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===c)return e;return-1},B=[].slice;y=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="Selection";d.prototype._init=function(){this.editor=this._module;return this.sel=document.getSelection()};d.prototype.clear=function(){try{return this.sel.removeAllRanges()}catch(a){}};
d.prototype.getRange=function(){return this.editor.inputManager.focused&&this.sel.rangeCount?this.sel.getRangeAt(0):null};d.prototype.selectRange=function(a){this.clear();this.sel.addRange(a);this.editor.inputManager.focused||!this.editor.util.browser.firefox&&!this.editor.util.browser.msie||this.editor.body.focus();return a};d.prototype.rangeAtEndOf=function(a,b){var c,d,l;null==b&&(b=this.getRange());if(null!=b&&b.collapsed){a=e(a)[0];c=b.endContainer;d=this.editor.util.getNodeLength(c);if((b.endOffset!==
d-1||!e(c).contents().last().is("br"))&&b.endOffset!==d)return!1;if(a===c)return!0;if(!e.contains(a,c))return!1;l=!0;e(c).parentsUntil(a).addBack().each(function(a){return function(a,b){var c;c=e(b).parent().contents().filter(function(){return!(this!==b&&3===this.nodeType&&!this.nodeValue)}).last();if(!(c.get(0)===b||c.is("br")&&c.prev().get(0)===b))return l=!1}}(this));return l}};d.prototype.rangeAtStartOf=function(a,b){var c,d;null==b&&(b=this.getRange());if(null!=b&&b.collapsed){a=e(a)[0];d=b.startContainer;
if(0!==b.startOffset)return!1;if(a===d)return!0;if(!e.contains(a,d))return!1;c=!0;e(d).parentsUntil(a).addBack().each(function(a){return function(a,b){if(e(b).parent().contents().filter(function(){return!(this!==b&&3===this.nodeType&&!this.nodeValue)}).first().get(0)!==b)return c=!1}}(this));return c}};d.prototype.insertNode=function(a,b){null==b&&(b=this.getRange());if(null!=b)return a=e(a)[0],b.insertNode(a),this.setRangeAfter(a,b)};d.prototype.setRangeAfter=function(a,b){null==b&&(b=this.getRange());
if(null!=b)return a=e(a)[0],b.setEndAfter(a),b.collapse(!1),this.selectRange(b)};d.prototype.setRangeBefore=function(a,b){null==b&&(b=this.getRange());if(null!=b)return a=e(a)[0],b.setEndBefore(a),b.collapse(!1),this.selectRange(b)};d.prototype.setRangeAtStartOf=function(a,b){null==b&&(b=this.getRange());a=e(a).get(0);b.setEnd(a,0);b.collapse(!1);return this.selectRange(b)};d.prototype.setRangeAtEndOf=function(a,b){var c,d;null==b&&(b=this.getRange());c=e(a);a=c.get(0);c.is("pre")?(c=c.contents(),
0<c.length?(c=c.last(),d=c.text(),"\n"===d.charAt(d.length-1)?b.setEnd(c[0],this.editor.util.getNodeLength(c[0])-1):b.setEnd(c[0],this.editor.util.getNodeLength(c[0]))):b.setEnd(a,0)):(d=this.editor.util.getNodeLength(a),3!==a.nodeType&&0<d&&(c=e(a).contents().last(),c.is("br")?d-=1:3!==c[0].nodeType&&this.editor.util.isEmptyNode(c)&&(c.append(this.editor.util.phBr),a=c[0],d=0)),b.setEnd(a,d));b.collapse(!1);return this.selectRange(b)};d.prototype.deleteRangeContents=function(a){var b,c;null==a&&
(a=this.getRange());c=a.cloneRange();b=a.cloneRange();c.collapse(!0);b.collapse(!1);!a.collapsed&&this.rangeAtStartOf(this.editor.body,c)&&this.rangeAtEndOf(this.editor.body,b)?(this.editor.body.empty(),a.setStart(this.editor.body[0],0),a.collapse(!0),this.selectRange(a)):a.deleteContents();return a};d.prototype.breakBlockEl=function(a,b){var c;null==b&&(b=this.getRange());c=e(a);if(!b.collapsed)return c;b.setStartBefore(c.get(0));return b.collapsed?c:c.before(b.extractContents())};d.prototype.save=
function(a){var b,c,d;null==a&&(a=this.getRange());if(!this._selectionSaved)return c=a.cloneRange(),c.collapse(!1),d=e("<span/>").addClass("simditor-caret-start"),b=e("<span/>").addClass("simditor-caret-end"),c.insertNode(b[0]),a.insertNode(d[0]),this.clear(),this._selectionSaved=!0};d.prototype.restore=function(){var a,b,c,e,d,f,r;if(!this._selectionSaved)return!1;d=this.editor.body.find(".simditor-caret-start");a=this.editor.body.find(".simditor-caret-end");d.length&&a.length?(f=d.parent(),r=f.contents().index(d),
b=a.parent(),c=b.contents().index(a),f[0]===b[0]&&(c-=1),e=document.createRange(),e.setStart(f.get(0),r),e.setEnd(b.get(0),c),d.remove(),a.remove(),this.selectRange(e)):(d.remove(),a.remove());this._selectionSaved=!1;return e};return d}(f);u=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="Formatter";d.prototype.opts={allowedTags:null,allowedAttributes:null};d.prototype._init=function(){this.editor=this._module;this._allowedTags=this.opts.allowedTags||
"br a img b strong i u font p ul ol li blockquote pre h1 h2 h3 h4 hr".split(" ");this._allowedAttributes=this.opts.allowedAttributes||{img:"src alt width height data-image-src data-image-size data-image-name data-non-image".split(" "),a:["href","target"],font:["color"],pre:["data-lang","class"],p:["data-indent"],h1:["data-indent"],h2:["data-indent"],h3:["data-indent"],h4:["data-indent"]};return this.editor.body.on("click","a",function(a){return function(a){return!1}}(this))};d.prototype.decorate=
function(a){null==a&&(a=this.editor.body);return this.editor.trigger("decorate",[a])};d.prototype.undecorate=function(a){null==a&&(a=this.editor.body.clone());this.editor.trigger("undecorate",[a]);return e.trim(a.html())};d.prototype.autolink=function(a){var b,c,d,l,f,r,k,m,t,w,q;null==a&&(a=this.editor.body);r=[];c=function(b){return b.contents().each(function(b,d){var p,l;p=e(d);if(!p.is("a")&&!p.closest("a, pre",a).length){if(p.contents().length)return c(p);if((l=p.text())&&/https?:\/\/|www\./ig.test(l))return r.push(p)}})};
c(a);m=/(https?:\/\/|www\.)[\w\-\.\?&=\/#%:,@\!\+]+/ig;d=0;for(f=r.length;d<f;d++){b=r[d];w=b.text();t=[];k=null;for(l=0;null!==(k=m.exec(w));)t.push(document.createTextNode(w.substring(l,k.index))),l=m.lastIndex,q=/^(http(s)?:\/\/|\/)/.test(k[0])?k[0]:"http://"+k[0],t.push(e('<a href="'+q+'" rel="nofollow"></a>').text(k[0])[0]);t.push(document.createTextNode(w.substring(l)));b.replaceWith(e(t))}return a};d.prototype.format=function(a){var b,c,d,l,f,r;null==a&&(a=this.editor.body);if(a.is(":empty"))return a.append("<p>"+
this.editor.util.phBr+"</p>"),a;f=a.contents();b=0;for(d=f.length;b<d;b++)l=f[b],this.cleanNode(l,!0);r=a.contents();d=0;for(l=r.length;d<l;d++)if(f=r[d],b=e(f),b.is("br"))"undefined"!==typeof c&&null!==c&&(c=null),b.remove();else if(this.editor.util.isBlockNode(f))b.is("li")?(c&&c.is("ul, ol")||(c=e("<ul/>").insertBefore(f)),c.append(f)):c=null;else{if(!c||c.is("ul, ol"))c=e("<p/>").insertBefore(f);c.append(f)}return a};d.prototype.cleanNode=function(a,b){var c,d,l,f,r,k,m,t,w;d=e(a);if(0<d.length)if(3===
d[0].nodeType)(k=d.text().replace(/(\r\n|\n|\r)/gm,""))?(k=document.createTextNode(k),d.replaceWith(k)):d.remove();else{k=d.contents();r=d.is('[class^="simditor-"]');if(d.is(this._allowedTags.join(","))||r){if(d.is("a")&&0<(c=d.find("img")).length&&(d.replaceWith(c),d=c,k=null),d.is("img")&&d.hasClass("uploading")&&d.remove(),!r)for(c=this._allowedAttributes[d[0].tagName.toLowerCase()],w=e.makeArray(d[0].attributes),m=0,t=w.length;m<t;m++)r=w[m],null!=c&&(f=r.name,0<=O.call(c,f))||d.removeAttr(r.name)}else 1!==
d[0].nodeType||d.is(":empty")?(d.remove(),k=null):d.is("div, article, dl, header, footer, tr")?(d.append("<br/>"),k.first().unwrap()):d.is("table")?(l=e("<p/>"),d.find("tr").each(function(a){return function(a,b){return l.append(e(b).text()+"<br/>")}}(this)),d.replaceWith(l),k=null):d.is("thead, tfoot")?(d.remove(),k=null):d.is("th")?(f=e("<td/>").append(d.contents()),d.replaceWith(f)):k.first().unwrap();if(b&&null!=k&&!d.is("pre"))for(d=0,f=k.length;d<f;d++)c=k[d],this.cleanNode(c,!0);return null}};
d.prototype.clearHtml=function(a,b){var c,d;null==b&&(b=!0);c=e("<div/>").append(a).contents();d="";c.each(function(a){return function(f,r){var k,m;if(3===r.nodeType)return d+=r.nodeValue;if(1===r.nodeType&&(k=e(r),m=k.contents(),0<m.length&&(d+=a.clearHtml(m)),b&&f<c.length-1&&k.is("br, p, div, li, tr, pre, address, artticle, aside, dl, figcaption, footer, h1, h2, h3, h4, header")))return d+="\n"}}(this));return d};d.prototype.beautify=function(a){var b;b=function(a){return!!(a.is("p")&&!a.text()&&
1>a.children(":not(br)").length)};return a.each(function(a){return function(a,c){var g;g=e(c);g.is(':not(img, br, col, td, hr, [class^="simditor-"]):empty')&&g.remove();b(g)&&g.remove();return g.find(':not(img, br, col, td, hr, [class^="simditor-"]):empty').remove()}}(this))};return d}(f);Y=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="InputManager";d.prototype.opts={pasteImage:!1};d.prototype._modifierKeys=[16,17,18,91,93,224];d.prototype._arrowKeys=
[37,38,39,40];d.prototype._init=function(){this.editor=this._module;this.throttledTrigger=this.editor.util.throttle(function(a){return function(){var b;b=1<=arguments.length?B.call(arguments,0):[];return setTimeout(function(){var c;return(c=a.editor).trigger.apply(c,b)},10)}}(this),300);this.opts.pasteImage&&"string"!==typeof this.opts.pasteImage&&(this.opts.pasteImage="inline");this._keystrokeHandlers={};this.hotkeys=v({el:this.editor.body});this._pasteArea=e("<div/>").css({width:"1px",height:"1px",
overflow:"hidden",position:"fixed",right:"0",bottom:"100px"}).attr({tabIndex:"-1",contentEditable:!0}).addClass("simditor-paste-area").appendTo(this.editor.el);e(document).on("selectionchange.simditor"+this.editor.id,function(a){return function(b){if(a.focused)return a._selectionTimer&&(clearTimeout(a._selectionTimer),a._selectionTimer=null),a._selectionTimer=setTimeout(function(){return a.editor.trigger("selectionchanged")},20)}}(this));this.editor.on("valuechanged",function(a){return function(){!a.editor.util.closestBlockEl()&&
a.focused&&(a.editor.selection.save(),a.editor.formatter.format(),a.editor.selection.restore());a.editor.body.find("hr, pre, .simditor-table").each(function(b,c){var d,l;d=e(c);if(d.parent().is("blockquote")||d.parent()[0]===a.editor.body[0])if(l=!1,0===d.next().length&&(e("<p/>").append(a.editor.util.phBr).insertAfter(d),l=!0),0===d.prev().length&&(e("<p/>").append(a.editor.util.phBr).insertBefore(d),l=!0),l)return setTimeout(function(){return a.editor.trigger("valuechanged")},10)});a.editor.body.find("pre:empty").append(a.editor.util.phBr);
if(!a.editor.util.support.onselectionchange&&a.focused)return a.editor.trigger("selectionchanged")}}(this));this.editor.on("selectionchanged",function(a){return function(b){return a.editor.undoManager.update()}}(this));this.editor.body.on("keydown",e.proxy(this._onKeyDown,this)).on("keypress",e.proxy(this._onKeyPress,this)).on("keyup",e.proxy(this._onKeyUp,this)).on("mouseup",e.proxy(this._onMouseUp,this)).on("focus",e.proxy(this._onFocus,this)).on("blur",e.proxy(this._onBlur,this)).on("paste",e.proxy(this._onPaste,
this)).on("drop",e.proxy(this._onDrop,this)).on("input",e.proxy(this._onInput,this));this.editor.util.browser.firefox&&(this.addShortcut("cmd+left",function(a){return function(b){b.preventDefault();a.editor.selection.sel.modify("move","backward","lineboundary");return!1}}(this)),this.addShortcut("cmd+right",function(a){return function(b){b.preventDefault();a.editor.selection.sel.modify("move","forward","lineboundary");return!1}}(this)),this.addShortcut("cmd+a",function(a){return function(b){var c,
e;c=a.editor.body.children();if(0<c.length)return b=c.first().get(0),c=c.last().get(0),e=document.createRange(),e.setStart(b,0),e.setEnd(c,a.editor.util.getNodeLength(c)),a.editor.selection.selectRange(e),!1}}(this)));this.addShortcut(this.editor.util.os.mac?"cmd+enter":"ctrl+enter",function(a){return function(b){a.editor.el.closest("form").find("button:submit").click();return!1}}(this));if(this.editor.textarea.attr("autofocus"))return setTimeout(function(a){return function(){return a.editor.focus()}}(this),
0)};d.prototype._onFocus=function(a){this.editor.el.addClass("focus").removeClass("error");this.focused=!0;this.lastCaretPosition=null;return setTimeout(function(a){return function(){a.editor.triggerHandler("focus");return a.editor.trigger("selectionchanged")}}(this),0)};d.prototype._onBlur=function(a){var b;this.editor.el.removeClass("focus");this.editor.sync();this.focused=!1;this.lastCaretPosition=null!=(b=this.editor.undoManager.currentState())?b.caret:void 0;return this.editor.triggerHandler("blur")};
d.prototype._onMouseUp=function(a){if(!this.editor.util.support.onselectionchange)return setTimeout(function(a){return function(){return a.editor.trigger("selectionchanged")}}(this),0)};d.prototype._onKeyDown=function(a){var b,c,d,l;if(!1===this.editor.triggerHandler(a))return!1;if(!this.hotkeys.respondTo(a)){if(a.which in this._keystrokeHandlers){if(l="function"===typeof(b=this._keystrokeHandlers[a.which])["*"]?b["*"](a):void 0)return this.editor.trigger("valuechanged"),!1;this.editor.util.traverseUp(function(b){return function(c){var g,
d;if(c.nodeType===document.ELEMENT_NODE&&(g=null!=(d=b._keystrokeHandlers[a.which])?d[c.tagName.toLowerCase()]:void 0,l="function"===typeof g?g(a,e(c)):void 0,!0===l||!1===l))return!1}}(this));if(l)return this.editor.trigger("valuechanged"),!1}if(!((c=a.which,0<=O.call(this._modifierKeys,c))||(d=a.which,0<=O.call(this._arrowKeys,d))||this.editor.util.metaKey(a)&&86===a.which))return this.editor.util.support.oninput||this.throttledTrigger("valuechanged",["typing"]),null}};d.prototype._onKeyPress=function(a){if(!1===
this.editor.triggerHandler(a))return!1};d.prototype._onKeyUp=function(a){var b;if(!1===this.editor.triggerHandler(a))return!1;!this.editor.util.support.onselectionchange&&(b=a.which,0<=O.call(this._arrowKeys,b))?this.editor.trigger("selectionchanged"):8!==a.which&&46!==a.which||!this.editor.util.isEmptyNode(this.editor.body)||(this.editor.body.empty(),a=e("<p/>").append(this.editor.util.phBr).appendTo(this.editor.body),this.editor.selection.setRangeAtStartOf(a))};d.prototype._onPaste=function(a){var b,
c,d,l,f,r,k,m;if(!1===this.editor.triggerHandler(a))return!1;r=this.editor.selection.deleteRangeContents();r.collapsed||r.collapse(!0);b=this.editor.util.closestBlockEl();c=b.is("pre, table");if(a.originalEvent.clipboardData&&a.originalEvent.clipboardData.items&&0<a.originalEvent.clipboardData.items.length&&(l=a.originalEvent.clipboardData.items[0],/^image\//.test(l.type)&&!c)){a=l.getAsFile();if(null==a||!this.opts.pasteImage)return;a.name||(a.name="Clipboard Image.png");m={};m[this.opts.pasteImage]=
!0;null!=(k=this.editor.uploader)&&k.upload(a,m);return!1}f=function(a){return function(d){var p,l,h,f;if(!1!==a.editor.triggerHandler("pasting",[d])&&d){if(c)if(b.is("table")){f=d.split("\n");d=f.pop();p=0;for(l=f.length;p<l;p++)h=f[p],a.editor.selection.insertNode(document.createTextNode(h)),a.editor.selection.insertNode(e("<br/>"));a.editor.selection.insertNode(document.createTextNode(d))}else for(d=e("<div/>").text(d),h=d.contents(),d=0,l=h.length;d<l;d++)p=h[d],a.editor.selection.insertNode(e(p)[0],
r);else if(b.is(a.editor.body))for(l=0,h=d.length;l<h;l++)p=d[l],a.editor.selection.insertNode(p,r);else{if(1>d.length)return;if(1===d.length)if(d.is("p")){d=d.contents();if(1===d.length&&d.is("img")){if(/^data:image/.test(d.attr("src"))){if(!a.opts.pasteImage)return;d=a.editor.util.dataURLtoBlob(d.attr("src"));d.name="Clipboard Image.png";m={};m[a.opts.pasteImage]=!0;null!=(p=a.editor.uploader)&&p.upload(d,m);return}if(d.is('img[src^="webkit-fake-url://"]'))return}h=0;for(l=d.length;h<l;h++)p=d[h],
a.editor.selection.insertNode(p,r)}else if(b.is("p")&&a.editor.util.isEmptyNode(b))b.replaceWith(d),a.editor.selection.setRangeAtEndOf(d,r);else if(d.is("ul, ol"))if(1===d.find("li").length)for(d=e("<div/>").text(d.text()),h=d.contents(),l=0,d=h.length;l<d;l++)p=h[l],a.editor.selection.insertNode(e(p)[0],r);else b.is("li")?b.parent().after(d):b.after(d),a.editor.selection.setRangeAtEndOf(d,r);else b.after(d),a.editor.selection.setRangeAtEndOf(d,r);else b.is("li")&&(b=b.parent()),a.editor.selection.rangeAtStartOf(b,
r)?p="before":a.editor.selection.rangeAtEndOf(b,r)?p="after":(a.editor.selection.breakBlockEl(b,r),p="before"),b[p](d),a.editor.selection.setRangeAtEndOf(d.last(),r)}return a.editor.trigger("valuechanged")}}}(this);if(c)return a.preventDefault(),d=this.editor.util.browser.msie?window.clipboardData.getData("Text"):a.originalEvent.clipboardData.getData("text/plain"),f(d);this.editor.selection.save(r);this._pasteArea.focus();this.editor.util.browser.msie&&10===this.editor.util.browser.version&&(a.preventDefault(),
this._pasteArea.html(window.clipboardData.getData("Text")));return setTimeout(function(a){return function(){a._pasteArea.is(":empty")?d=null:(d=e("<div/>").append(a._pasteArea.contents()),d.find("table colgroup").remove(),a.editor.formatter.format(d),a.editor.formatter.decorate(d),a.editor.formatter.beautify(d.children()),d=d.contents());a._pasteArea.empty();r=a.editor.selection.restore();return f(d)}}(this),10)};d.prototype._onDrop=function(a){return!1===this.editor.triggerHandler(a)?!1:setTimeout(function(a){return function(){return a.editor.trigger("valuechanged")}}(this),
0)};d.prototype._onInput=function(a){return this.throttledTrigger("valuechanged",["oninput"])};d.prototype.addKeystrokeHandler=function(a,b,c){this._keystrokeHandlers[a]||(this._keystrokeHandlers[a]={});return this._keystrokeHandlers[a][b]=c};d.prototype.addShortcut=function(a,b){return this.hotkeys.add(a,e.proxy(b,this))};return d}(f);Q=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="Keystroke";d.prototype._init=function(){var a;this.editor=this._module;
this.editor.util.browser.safari&&this.editor.inputManager.addKeystrokeHandler("13","*",function(a){return function(c){var d;if(c.shiftKey&&(c=a.editor.util.closestBlockEl(),!c.is("pre")))return d=e("<br/>"),a.editor.selection.rangeAtEndOf(c)?(a.editor.selection.insertNode(d),a.editor.selection.insertNode(e("<br/>")),a.editor.selection.setRangeBefore(d)):a.editor.selection.insertNode(d),!0}}(this));if(this.editor.util.browser.webkit||this.editor.util.browser.msie)a=function(a){return function(c,d){var l;
if(a.editor.selection.rangeAtEndOf(d))return l=e("<p/>").append(a.editor.util.phBr).insertAfter(d),a.editor.selection.setRangeAtStartOf(l),!0}}(this),this.editor.inputManager.addKeystrokeHandler("13","h1",a),this.editor.inputManager.addKeystrokeHandler("13","h2",a),this.editor.inputManager.addKeystrokeHandler("13","h3",a),this.editor.inputManager.addKeystrokeHandler("13","h4",a),this.editor.inputManager.addKeystrokeHandler("13","h5",a),this.editor.inputManager.addKeystrokeHandler("13","h6",a);this.editor.inputManager.addKeystrokeHandler("8",
"*",function(a){return function(c){var e;e=a.editor.util.furthestBlockEl();c=e.prev();if(c.is("hr")&&a.editor.selection.rangeAtStartOf(e))return a.editor.selection.save(),c.remove(),a.editor.selection.restore(),!0;c=a.editor.util.closestBlockEl();if(a.editor.util.browser.webkit&&a.editor.selection.rangeAtStartOf(c))return a.editor.selection.save(),a.editor.formatter.cleanNode(c,!0),a.editor.selection.restore(),null}}(this));this.editor.inputManager.addKeystrokeHandler("13","li",function(a){return function(c,
d){var l,f,r;l=d.clone();l.find("ul, ol").remove();if(a.editor.util.isEmptyNode(l)&&d.is(a.editor.util.closestBlockEl())){l=d.parent();if(0<d.next("li").length){if(!a.editor.util.isEmptyNode(d))return;0<l.parent("li").length?(f=e("<li/>").append(a.editor.util.phBr).insertAfter(l.parent("li")),r=e("<"+l[0].tagName+"/>").append(d.nextAll("li")),f.append(r)):(f=e("<p/>").append(a.editor.util.phBr).insertAfter(l),r=e("<"+l[0].tagName+"/>").append(d.nextAll("li")),f.after(r))}else 0<l.parent("li").length?
(f=e("<li/>").insertAfter(l.parent("li")),0<d.contents().length?f.append(d.contents()):f.append(a.editor.util.phBr)):(f=e("<p/>").append(a.editor.util.phBr).insertAfter(l),0<d.children("ul, ol").length&&f.after(d.children("ul, ol")));d.prev("li").length?d.remove():l.remove();a.editor.selection.setRangeAtStartOf(f);return!0}}}(this));this.editor.inputManager.addKeystrokeHandler("13","pre",function(a){return function(c,d){var l,f;c.preventDefault();if(c.shiftKey)return l=e("<p/>").append(a.editor.util.phBr).insertAfter(d),
a.editor.selection.setRangeAtStartOf(l),!0;f=a.editor.selection.getRange();f.deleteContents();!a.editor.util.browser.msie&&a.editor.selection.rangeAtEndOf(d)?(l=document.createTextNode("\n\n"),f.insertNode(l),f.setEnd(l,1)):(l=document.createTextNode("\n"),f.insertNode(l),f.setStartAfter(l));f.collapse(!1);a.editor.selection.selectRange(f);return!0}}(this));this.editor.inputManager.addKeystrokeHandler("13","blockquote",function(a){return function(c,e){var d,f;d=a.editor.util.closestBlockEl();if(d.is("p")&&
!d.next().length&&a.editor.util.isEmptyNode(d))return e.after(d),f=document.createRange(),a.editor.selection.setRangeAtStartOf(d,f),!0}}(this));this.editor.inputManager.addKeystrokeHandler("8","li",function(a){return function(c,d){var f,n,r,k,m,t;f=d.children("ul, ol");n=d.prev("li");if(!(0<f.length&&0<n.length))return!1;t="";k=null;d.contents().each(function(a,b){if(1===b.nodeType&&/UL|OL/.test(b.nodeName))return!1;if(1!==b.nodeType||!/BR/.test(b.nodeName))return 3===b.nodeType&&b.nodeValue?t+=b.nodeValue:
1===b.nodeType&&(t+=e(b).text()),k=e(b)});if(k&&1===t.length&&a.editor.util.browser.firefox&&!k.next("br").length)return f=e(a.editor.util.phBr).insertAfter(k),k.remove(),a.editor.selection.setRangeBefore(f),!0;if(0<t.length)return!1;m=document.createRange();r=n.children("ul, ol");0<r.length?(n=e("<li/>").append(a.editor.util.phBr).appendTo(r),r.append(f.children("li")),d.remove(),a.editor.selection.setRangeAtEndOf(n,m)):(a.editor.selection.setRangeAtEndOf(n,m),n.append(f),d.remove(),a.editor.selection.selectRange(m));
return!0}}(this));this.editor.inputManager.addKeystrokeHandler("8","pre",function(a){return function(c,d){var f,n;if(a.editor.selection.rangeAtStartOf(d))return f=d.html().replace("\n","<br/>"),f=e("<p/>").append(f||a.editor.util.phBr).insertAfter(d),d.remove(),n=document.createRange(),a.editor.selection.setRangeAtStartOf(f,n),!0}}(this));return this.editor.inputManager.addKeystrokeHandler("8","blockquote",function(a){return function(c,e){var d,f;if(a.editor.selection.rangeAtStartOf(e))return d=e.children().first().unwrap(),
f=document.createRange(),a.editor.selection.setRangeAtStartOf(d,f),!0}}(this))};return d}(f);T=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="UndoManager";d.prototype._index=-1;d.prototype._capacity=50;d.prototype._timer=null;d.prototype._init=function(){var a,b;this.editor=this._module;this._stack=[];this.editor.util.os.mac?(b="cmd+z",a="shift+cmd+z"):this.editor.util.os.win?(b="ctrl+z",a="ctrl+y"):(b="ctrl+z",a="shift+ctrl+z");this.editor.inputManager.addShortcut(b,
function(a){return function(b){b.preventDefault();a.undo();return!1}}(this));this.editor.inputManager.addShortcut(a,function(a){return function(b){b.preventDefault();a.redo();return!1}}(this));return this.editor.on("valuechanged",function(a){return function(b,c){if("undo"!==c&&"redo"!==c)return a._timer&&(clearTimeout(a._timer),a._timer=null),a._timer=setTimeout(function(){a._pushUndoState();return a._timer=null},200)}}(this))};d.prototype._pushUndoState=function(){var a,b;if(!1!==this.editor.triggerHandler("pushundostate")&&
(a=this.currentState(),b=this.editor.body.html(),!a||a.html!==b)&&(this._index+=1,this._stack.length=this._index,this._stack.push({html:b,caret:this.caretPosition()}),this._stack.length>this._capacity))return this._stack.shift(),this._index-=1};d.prototype.currentState=function(){return this._stack.length&&-1<this._index?this._stack[this._index]:null};d.prototype.undo=function(){var a;if(!(1>this._index||2>this._stack.length))return this.editor.hidePopover(),this._index-=1,a=this._stack[this._index],
this.editor.body.html(a.html),this.caretPosition(a.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",["undo"])};d.prototype.redo=function(){var a;if(!(0>this._index||this._stack.length<this._index+2))return this.editor.hidePopover(),this._index+=1,a=this._stack[this._index],this.editor.body.html(a.html),this.caretPosition(a.caret),this.editor.body.find(".selected").removeClass("selected"),this.editor.sync(),this.editor.trigger("valuechanged",
["redo"])};d.prototype.update=function(){var a,b;if(!this._timer&&(a=this.currentState()))return b=this.editor.body.html(),a.html=b,a.caret=this.caretPosition()};d.prototype._getNodeOffset=function(a,b){var c,d,f;c=b?e(a):e(a).parent();f=0;d=!1;c.contents().each(function(c){return function(c,e){if(b===c||a===e)return!1;3===e.nodeType?d||(f+=1,d=!0):(f+=1,d=!1);return null}}(this));return f};d.prototype._getNodePosition=function(a,b){var c,e;if(3===a.nodeType)for(e=a.previousSibling;e&&3===e.nodeType;)a=
e,b+=this.editor.util.getNodeLength(e),e=e.previousSibling;else b=this._getNodeOffset(a,b);c=[];c.unshift(b);this.editor.util.traverseUp(function(a){return function(b){return c.unshift(a._getNodeOffset(b))}}(this),a);return c};d.prototype._getNodeByPosition=function(a){var b,c,d,f,n,r,k;n=this.editor.body[0];k=a.slice(0,a.length-1);c=d=0;for(f=k.length;d<f;c=++d){r=k[c];b=n.childNodes;if(r>b.length-1)if(c===a.length-2&&e(n).is("pre"))b=document.createTextNode(""),n.appendChild(b),b=n.childNodes;else{n=
null;break}n=b[r]}return n};d.prototype.caretPosition=function(a){var b,c,e,d;if(a){this.editor.inputManager.focused||this.editor.body.focus();if(a.start){e=this._getNodeByPosition(a.start);d=a.start[a.start.length-1];a.collapsed?(b=e,a=d):(b=this._getNodeByPosition(a.end),a=a.start[a.start.length-1]);if(!e||!b)throw Error("simditor: invalid caret state");c=document.createRange();c.setStart(e,d);c.setEnd(b,a);return this.editor.selection.selectRange(c)}this.editor.body.blur()}else{c=this.editor.selection.getRange();
if(!this.editor.inputManager.focused||null==c)return{};a={start:[],end:null,collapsed:!0};a.start=this._getNodePosition(c.startContainer,c.startOffset);c.collapsed||(a.end=this._getNodePosition(c.endContainer,c.endOffset),a.collapsed=!1);return a}};return d}(f);U=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="Util";d.prototype._init=function(){this.editor=this._module;if(this.browser.msie&&11>this.browser.version)return this.phBr=""};d.prototype.phBr=
"<br/>";d.prototype.os=function(){var a;a={};/Mac/.test(navigator.appVersion)?a.mac=!0:/Linux/.test(navigator.appVersion)?a.linux=!0:/Win/.test(navigator.appVersion)?a.win=!0:/X11/.test(navigator.appVersion)&&(a.unix=!0);/Mobi/.test(navigator.appVersion)&&(a.mobile=!0);return a}();d.prototype.browser=function(){var a,b,c,e,d,f,r,k,m;m=navigator.userAgent;c=/(msie|trident)/i.test(m);a=/chrome|crios/i.test(m);k=/safari/i.test(m)&&!a;b=/firefox/i.test(m);return c?{msie:!0,version:1*(null!=(e=m.match(/(msie |rv:)(\d+(\.\d+)?)/i))?
e[2]:NaN)}:a?{webkit:!0,chrome:!0,version:1*(null!=(d=m.match(/(?:chrome|crios)\/(\d+(\.\d+)?)/i))?d[1]:NaN)}:k?{webkit:!0,safari:!0,version:1*(null!=(f=m.match(/version\/(\d+(\.\d+)?)/i))?f[1]:NaN)}:b?{mozilla:!0,firefox:!0,version:1*(null!=(r=m.match(/firefox\/(\d+(\.\d+)?)/i))?r[1]:NaN)}:{}}();d.prototype.support=function(){var a;a:{var b;b=document.onselectionchange;if(void 0!==b)try{document.onselectionchange=0;a=null===document.onselectionchange;break a}catch(c){}finally{document.onselectionchange=
b}a=!1}return{onselectionchange:a,oninput:!/(msie|trident)/i.test(navigator.userAgent)}}();d.prototype.reflow=function(a){null==a&&(a=document);return e(a)[0].offsetHeight};d.prototype.metaKey=function(a){return/Mac/.test(navigator.userAgent)?a.metaKey:a.ctrlKey};d.prototype.isEmptyNode=function(a){a=e(a);return a.is(":empty")||!a.text()&&!a.find(":not(br, span, div)").length};d.prototype.blockNodes="div p ul ol li blockquote hr pre h1 h2 h3 h4 table".split(" ");d.prototype.isBlockNode=function(a){return(a=
e(a)[0])&&3!==a.nodeType?(new RegExp("^("+this.blockNodes.join("|")+")$")).test(a.nodeName.toLowerCase()):!1};d.prototype.closestBlockEl=function(a){var b;null==a&&(a=this.editor.selection.getRange(),a=null!=a?a.commonAncestorContainer:void 0);a=e(a);if(!a.length)return null;b=a.parentsUntil(this.editor.body).addBack();b=b.filter(function(a){return function(c){return a.isBlockNode(b.eq(c))}}(this));return b.length?b.last():null};d.prototype.furthestNode=function(a,b){var c,d;null==a&&(c=this.editor.selection.getRange(),
a=null!=c?c.commonAncestorContainer:void 0);c=e(a);if(!c.length)return null;d=c.parentsUntil(this.editor.body).addBack();d=d.filter(function(a){return function(a){a=d.eq(a);return e.isFunction(b)?b(a):a.is(b)}}(this));return d.length?d.first():null};d.prototype.furthestBlockEl=function(a){return this.furthestNode(a,e.proxy(this.isBlockNode,this))};d.prototype.getNodeLength=function(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}};d.prototype.traverseUp=
function(a,b){var c,d,f,n,r;null==b&&(c=this.editor.selection.getRange(),b=null!=c?c.commonAncestorContainer:void 0);if(null==b||!e.contains(this.editor.body[0],b))return!1;n=e(b).parentsUntil(this.editor.body).get();n.unshift(b);r=[];c=0;for(d=n.length;c<d&&(f=n[c],f=a(f),!1!==f);c++)r.push(void 0);return r};d.prototype.dataURLtoBlob=function(a){var b,c,e,d,f,r,k,m,t;if(c=window.Blob)try{c=Boolean(new Blob)}catch(q){c=!1}if(c=(e=c)&&window.Uint8Array)try{c=100===(new Blob([new Uint8Array(100)])).size}catch(s){c=
!1}f=c;b=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(!((e||b)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return!1;d=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]);c=new ArrayBuffer(d.length);k=new Uint8Array(c);r=m=0;for(t=d.length;0<=t?m<=t:m>=t;r=0<=t?++m:--m)k[r]=d.charCodeAt(r);a=a.split(",")[0].split(":")[1].split(";")[0];if(e)return new Blob([f?k:c],{type:a});e=new b;e.append(c);return e.getBlob(a)};
d.prototype.throttle=function(a,b){var c,e,d;c=null;e=0;d=function(){if(c)return clearTimeout(c),c=null};return function(){var f,r,k,m;r=Date.now();e||(e=r);k=b-(r-e);m=null;0<k&&k<b?(e=r,d(),f=arguments,c=setTimeout(function(){e=0;c=null;return m=a.apply(null,f)},b)):(d(),e!==r&&(e=0),m=a.apply(null,arguments));return m}};d.prototype.formatHTML=function(a){var b,c,d,f,n,r,k,m;n=/<(\/?)(.+?)(\/?)>/g;k="";d=0;c=null;for(r=function(a,b){return Array(b+1).join(a)};null!==(f=n.exec(a));)f.isBlockNode=
-1<e.inArray(f[2],this.blockNodes),f.isStartTag="/"!==f[1]&&"/"!==f[3],f.isEndTag="/"===f[1]||"/"===f[3],b=c?c.index+c[0].length:0,0<(m=a.substring(b,f.index)).length&&e.trim(m)&&(k+=m),f.isBlockNode&&f.isEndTag&&!f.isStartTag&&(d-=1),f.isBlockNode&&f.isStartTag&&(c&&c.isBlockNode&&c.isEndTag||(k+="\n"),k+=r("  ",d)),k+=f[0],f.isBlockNode&&f.isEndTag&&(k+="\n"),f.isBlockNode&&f.isStartTag&&(d+=1),c=f;return e.trim(k)};return d}(f);L=function(c){function d(){return d.__super__.constructor.apply(this,
arguments)}A(d,c);d.pluginName="Toolbar";d.prototype.opts={toolbar:!0,toolbarFloat:!0,toolbarHidden:!1,toolbarFloatOffset:0};d.prototype._tpl={wrapper:'<div class="simditor-toolbar"><ul></ul></div>',separator:'<li><span class="separator"></span></li>'};d.prototype._init=function(){var a;this.editor=this._module;if(this.opts.toolbar)return e.isArray(this.opts.toolbar)||(this.opts.toolbar="bold italic underline strikethrough | ol ul blockquote code | link image | indent outdent".split(" ")),this._render(),
this.list.on("click",function(a){return function(a){return!1}}(this)),this.wrapper.on("mousedown",function(a){return function(c){return a.list.find(".menu-on").removeClass(".menu-on")}}(this)),e(document).on("mousedown.simditor"+this.editor.id,function(a){return function(c){return a.list.find(".menu-on").removeClass(".menu-on")}}(this)),!this.opts.toolbarHidden&&this.opts.toolbarFloat&&(this.wrapper.width(this.wrapper.outerWidth()),this.wrapper.css("top",this.opts.toolbarFloatOffset),a=this.wrapper.outerHeight(),
this.editor.util.os.mobile||e(window).on("resize.simditor-"+this.editor.id,function(a){return function(c){a.wrapper.css("position","static");a.editor.util.reflow(a.wrapper);a.wrapper.css("left",a.wrapper.offset().left);return a.wrapper.css("position","")}}(this)).resize(),e(window).on("scroll.simditor-"+this.editor.id,function(b){return function(c){var d,f;f=b.editor.wrapper.offset().top;c=f+b.editor.wrapper.outerHeight()-80;d=e(document).scrollTop()+b.opts.toolbarFloatOffset;if(d<=f||d>=c){if(b.editor.wrapper.removeClass("toolbar-floating").css("padding-top",
""),b.editor.util.os.mobile)return b.wrapper.css("top",b.opts.toolbarFloatOffset)}else if(b.editor.wrapper.addClass("toolbar-floating").css("padding-top",a),b.editor.util.os.mobile)return b.wrapper.css("top",d-f+b.opts.toolbarFloatOffset)}}(this))),this.editor.on("selectionchanged",function(a){return function(){return a.toolbarStatus()}}(this)),this.editor.on("destroy",function(a){return function(){return a.buttons.length=0}}(this)),e(document).on("mousedown.simditor-"+this.editor.id,function(a){return function(c){return a.list.find("li.menu-on").removeClass("menu-on")}}(this))};
d.prototype._render=function(){var a,b,c,d;this.buttons=[];this.wrapper=e(this._tpl.wrapper).prependTo(this.editor.wrapper);this.list=this.wrapper.find("ul");d=this.opts.toolbar;a=0;for(b=d.length;a<b;a++)if(c=d[a],"|"===c)e(this._tpl.separator).appendTo(this.list);else{if(!this.constructor.buttons[c])throw Error('simditor: invalid toolbar button "'+c+'"');this.buttons.push(new this.constructor.buttons[c]({editor:this.editor}))}return this.opts.toolbarHidden?this.wrapper.hide():this.editor.placeholderEl.css("top",
this.wrapper.outerHeight())};d.prototype.toolbarStatus=function(a){var b;if(this.editor.inputManager.focused)return b=this.buttons.slice(0),this.editor.util.traverseUp(function(c){return function(c){var d,g,f,k;k=[];d=g=0;for(f=b.length;g<f;d=++g)if(d=b[d],null==a||d.name===a)d.status&&!0!==d.status(e(c))||k.push(d);c=0;for(g=k.length;c<g;c++)d=k[c],d=e.inArray(d,b),b.splice(d,1);if(0===b.length)return!1}}(this))};d.prototype.findButton=function(a){a=this.list.find(".toolbar-item-"+a).data("button");
return null!=a?a:null};d.addButton=function(a){return this.buttons[a.prototype.name]=a};d.buttons={};return d}(f);X=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.pluginName="Indentation";d.prototype.opts={tabIndent:!0};d.prototype._init=function(){this.editor=this._module;return this.editor.inputManager.addKeystrokeHandler("9","*",function(a){return function(b){var c;c=a.editor.toolbar.findButton("code");if(a.opts.tabIndent||c&&c.active)return a.indent(b.shiftKey)}}(this))};
d.prototype.indent=function(a){var b,c,e;if(c=this.editor.selection.getRange())return b=this.editor.util.closestBlockEl(c.startContainer),c=this.editor.util.closestBlockEl(c.endContainer),b.is("li")&&c.is("li")&&b.parent().is(c.parent())||(b=this.editor.util.furthestBlockEl(b),c=this.editor.util.furthestBlockEl(c)),b=b.is(c)?b:b.nextUntil(c).add(b).add(c),e=!1,b.each(function(b){return function(c,d){return e=a?b.outdentBlock(d):b.indentBlock(d)}}(this)),e};d.prototype.indentBlock=function(a){var b,
c,d;a=e(a);if(a.length){if(a.is("pre")){c=this.editor.selection.getRange();b=e(c.commonAncestorContainer);if(!b.is(a)&&!b.closest("pre").is(a))return;this.indentText(c)}else if(a.is("li")){c=a.prev("li");if(1>c.length)return;this.editor.selection.save();d=a.parent()[0].tagName;b=c.children("ul, ol");0<b.length?b.append(a):e("<"+d+"/>").append(a).appendTo(c);this.editor.selection.restore()}else if(a.is("p, h1, h2, h3, h4"))b=a.attr("data-indent")||0,b=Math.min(1*b+1,10),a.attr("data-indent",b);else if(a.is("table")||
a.is(".simditor-table")){c=this.editor.selection.getRange();b=e(c.commonAncestorContainer).closest("td");a=b.next("td");0<a.length||(a=b.parent("tr").next("tr").find("td:first"));if(!(0<b.length&&0<a.length))return!1;this.editor.selection.setRangeAtEndOf(a)}return!0}};d.prototype.indentText=function(a){var b,c;b=a.toString().replace(/^(?=.+)/mg,"\u00a0\u00a0");c=document.createTextNode(b||"\u00a0\u00a0");a.deleteContents();a.insertNode(c);return b?(a.selectNode(c),this.editor.selection.selectRange(a)):
this.editor.selection.setRangeAfter(c)};d.prototype.outdentBlock=function(a){var b,c;if((a=e(a))&&0<a.length){if(a.is("pre")){c=this.editor.selection.getRange();b=e(c.commonAncestorContainer);if(!b.is(a)&&!b.closest("pre").is(a))return;this.outdentText(c)}else if(a.is("li")){b=a.parent();c=b.parent("li");if(1>c.length){a=this.editor.toolbar.findButton(b[0].tagName.toLowerCase());null!=a&&a.command();return}this.editor.selection.save();0<a.next("li").length&&e("<"+b[0].tagName+"/>").append(a.nextAll("li")).appendTo(a);
a.insertAfter(c);1>b.children("li").length&&b.remove();this.editor.selection.restore()}else if(a.is("p, h1, h2, h3, h4"))c=null!=(b=a.attr("data-indent"))?b:0,c=1*c-1,0>c&&(c=0),a.attr("data-indent",c);else if(a.is("table")||a.is(".simditor-table")){c=this.editor.selection.getRange();b=e(c.commonAncestorContainer).closest("td");a=b.prev("td");0<a.length||(a=b.parent("tr").prev("tr").find("td:last"));if(!(0<b.length&&0<a.length))return;this.editor.selection.setRangeAtEndOf(a)}return!0}};d.prototype.outdentText=
function(a){};return d}(f);C=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.connect(U);d.connect(Y);d.connect(T);d.connect(Q);d.connect(u);d.connect(y);d.connect(L);d.connect(X);d.count=0;d.prototype.opts={textarea:null,placeholder:"",defaultImage:"images/image.png",params:{},upload:!1};d.prototype._init=function(){var a;this.textarea=e(this.opts.textarea);this.opts.placeholder=this.opts.placeholder||this.textarea.attr("placeholder");if(!this.textarea.length)throw Error("simditor: param textarea is required.");
a=this.textarea.data("simditor");null!=a&&a.destroy();this.id=++d.count;this._render();this.opts.upload&&s&&(a="object"===typeof this.opts.upload?this.opts.upload:{},this.uploader=s(a));a=this.textarea.closest("form");a.length&&(a.on("submit.simditor-"+this.id,function(a){return function(){return a.sync()}}(this)),a.on("reset.simditor-"+this.id,function(a){return function(){return a.setValue("")}}(this)));this.on("initialized",function(a){return function(){if(a.opts.placeholder)a.on("valuechanged",
function(){return a._placeholder()});return a.setValue(a.textarea.val().trim()||"")}}(this));if(this.util.browser.mozilla){this.util.reflow();try{return document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(b){}}};d.prototype._tpl='<div class="simditor">\n  <div class="simditor-wrapper">\n    <div class="simditor-placeholder"></div>\n    <div class="simditor-body" contenteditable="true">\n    </div>\n  </div>\n</div>';d.prototype._render=function(){var a,
b,c,d;this.el=e(this._tpl).insertBefore(this.textarea);this.wrapper=this.el.find(".simditor-wrapper");this.body=this.wrapper.find(".simditor-body");this.placeholderEl=this.wrapper.find(".simditor-placeholder").append(this.opts.placeholder);this.el.data("simditor",this);this.wrapper.append(this.textarea);this.textarea.data("simditor",this).blur();this.body.attr("tabindex",this.textarea.attr("tabindex"));this.util.os.mac?this.el.addClass("simditor-mac"):this.util.os.linux&&this.el.addClass("simditor-linux");
this.util.os.mobile&&this.el.addClass("simditor-mobile");if(this.opts.params){b=this.opts.params;c=[];for(a in b)d=b[a],c.push(e("<input/>",{type:"hidden",name:a,value:d}).insertAfter(this.textarea));return c}};d.prototype._placeholder=function(){var a,b;a=this.body.children();return 0===a.length||1===a.length&&this.util.isEmptyNode(a)&&1>(null!=(b=a.data("indent"))?b:0)?this.placeholderEl.show():this.placeholderEl.hide()};d.prototype.setValue=function(a){this.hidePopover();this.textarea.val(a);this.body.html(a);
this.formatter.format();this.formatter.decorate();this.util.reflow(this.body);this.inputManager.lastCaretPosition=null;return this.trigger("valuechanged")};d.prototype.getValue=function(){return this.sync()};d.prototype.sync=function(){var a,b,c,d;b=this.body.clone();this.formatter.undecorate(b);this.formatter.format(b);this.formatter.autolink(b);a=b.children();d=a.last("p");for(c=a.first("p");d.is("p")&&this.util.isEmptyNode(d);)a=d,d=d.prev("p"),a.remove();for(;c.is("p")&&this.util.isEmptyNode(c);)a=
c,c=d.next("p"),a.remove();b.find("img.uploading").remove();b=e.trim(b.html());this.textarea.val(b);return b};d.prototype.focus=function(){var a,b;if(this.sourceMode)this.textarea.focus();else{if(this.inputManager.lastCaretPosition)return this.undoManager.caretPosition(this.inputManager.lastCaretPosition);a=this.body.find("p").last();0<a.length||(a=e("<p/>").append(this.util.phBr).appendTo(this.body));b=document.createRange();this.selection.setRangeAtEndOf(a,b);return this.body.focus()}};d.prototype.blur=
function(){return this.sourceMode?this.textarea.blur():this.body.blur()};d.prototype.hidePopover=function(){return this.el.find(".simditor-popover").each(function(a){return function(a,c){c=e(c).data("popover");if(c.active)return c.hide()}}(this))};d.prototype.destroy=function(){this.triggerHandler("destroy");this.textarea.closest("form").off(".simditor .simditor-"+this.id);this.selection.clear();this.inputManager.focused=!1;this.textarea.insertBefore(this.el).hide().val("").removeData("simditor");
this.el.remove();e(document).off(".simditor-"+this.id);e(window).off(".simditor-"+this.id);return this.off()};return d}(f);C.i18n={"zh-CN":{blockquote:"\u5f15\u7528",bold:"\u52a0\u7c97\u6587\u5b57",code:"\u63d2\u5165\u4ee3\u7801",color:"\u6587\u5b57\u989c\u8272",hr:"\u5206\u9694\u7ebf",image:"\u63d2\u5165\u56fe\u7247",externalImage:"\u5916\u94fe\u56fe\u7247",uploadImage:"\u4e0a\u4f20\u56fe\u7247",uploadFailed:"\u4e0a\u4f20\u5931\u8d25\u4e86",uploadError:"\u4e0a\u4f20\u51fa\u9519\u4e86",imageUrl:"\u56fe\u7247\u5730\u5740",
imageSize:"\u56fe\u7247\u5c3a\u5bf8",imageAlt:"\u56fe\u7247\u63cf\u8ff0",restoreImageSize:"\u8fd8\u539f\u56fe\u7247\u5c3a\u5bf8",uploading:"\u6b63\u5728\u4e0a\u4f20",indent:"\u5411\u53f3\u7f29\u8fdb",outdent:"\u5411\u5de6\u7f29\u8fdb",italic:"\u659c\u4f53\u6587\u5b57",link:"\u63d2\u5165\u94fe\u63a5",text:"\u6587\u672c",linkText:"\u94fe\u63a5\u6587\u5b57",linkUrl:"\u5730\u5740",removeLink:"\u79fb\u9664\u94fe\u63a5",ol:"\u6709\u5e8f\u5217\u8868",ul:"\u65e0\u5e8f\u5217\u8868",strikethrough:"\u5220\u9664\u7ebf\u6587\u5b57",
table:"\u8868\u683c",deleteRow:"\u5220\u9664\u884c",insertRowAbove:"\u5728\u4e0a\u9762\u63d2\u5165\u884c",insertRowBelow:"\u5728\u4e0b\u9762\u63d2\u5165\u884c",deleteColumn:"\u5220\u9664\u5217",insertColumnLeft:"\u5728\u5de6\u8fb9\u63d2\u5165\u5217",insertColumnRight:"\u5728\u53f3\u8fb9\u63d2\u5165\u5217",deleteTable:"\u5220\u9664\u8868\u683c",title:"\u6807\u9898",source:"HTML\u6e90\u4ee3\u7801",normalText:"\u666e\u901a\u6587\u672c",underline:"\u4e0b\u5212\u7ebf\u6587\u5b57"}};m=function(c){function d(a){this.editor=
a.editor;this.title=this._t(this.name);d.__super__.constructor.call(this,a)}A(d,c);d.prototype._tpl={item:'<li><a tabindex="-1" unselectable="on" class="toolbar-item" href="javascript:;"><span></span></a></li>',menuWrapper:'<div class="toolbar-menu"></div>',menuItem:'<li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;"><span></span></a></li>',separator:'<li><span class="separator"></span></li>'};d.prototype.name="";d.prototype.icon="";d.prototype.title="";d.prototype.text=
"";d.prototype.htmlTag="";d.prototype.disableTag="";d.prototype.menu=!1;d.prototype.active=!1;d.prototype.disabled=!1;d.prototype.needFocus=!0;d.prototype.shortcut=null;d.prototype._init=function(){var a,b,c,d,f;this.render();this.el.on("mousedown",function(a){return function(b){b.preventDefault();if(a.el.hasClass("disabled")||a.needFocus&&!a.editor.inputManager.focused)return!1;if(a.menu)return a.wrapper.toggleClass("menu-on").siblings("li").removeClass("menu-on"),a.wrapper.is(".menu-on")&&(b=a.menuWrapper.offset().left+
a.menuWrapper.outerWidth()+5-a.editor.wrapper.offset().left-a.editor.wrapper.outerWidth(),0<b&&a.menuWrapper.css({left:"auto",right:0}),a.trigger("menuexpand")),!1;b=a.el.data("param");a.command(b);return!1}}(this));this.wrapper.on("click","a.menu-item",function(a){return function(b){b.preventDefault();b=e(b.currentTarget);a.wrapper.removeClass("menu-on");if(b.hasClass("disabled")||a.needFocus&&!a.editor.inputManager.focused)return!1;a.editor.toolbar.wrapper.removeClass("menu-on");b=b.data("param");
a.command(b);return!1}}(this));this.wrapper.on("mousedown","a.menu-item",function(a){return function(a){return!1}}(this));this.editor.on("blur",function(a){return function(){if(!a.editor.sourceMode)return a.setActive(!1),a.setDisabled(!1)}}(this));null!=this.shortcut&&this.editor.inputManager.addShortcut(this.shortcut,function(a){return function(b){a.el.mousedown();return!1}}(this));c=this.htmlTag.split(",");d=[];a=0;for(b=c.length;a<b;a++)f=c[a],(f=e.trim(f))&&0>e.inArray(f,this.editor.formatter._allowedTags)?
d.push(this.editor.formatter._allowedTags.push(f)):d.push(void 0);return d};d.prototype.render=function(){this.wrapper=e(this._tpl.item).appendTo(this.editor.toolbar.list);this.el=this.wrapper.find("a.toolbar-item");this.el.attr("title",this.title).addClass("toolbar-item-"+this.name).data("button",this);this.el.find("span").addClass(this.icon?"simditor-icon simditor-icon-"+this.icon:"").text(this.text);if(this.menu)return this.menuWrapper=e(this._tpl.menuWrapper).appendTo(this.wrapper),this.menuWrapper.addClass("toolbar-menu-"+
this.name),this.renderMenu()};d.prototype.renderMenu=function(){var a,b,c,d,f,n,k;if(e.isArray(this.menu)){this.menuEl=e("<ul/>").appendTo(this.menuWrapper);f=this.menu;k=[];b=0;for(c=f.length;b<c;b++)d=f[b],"|"===d?e(this._tpl.separator).appendTo(this.menuEl):(a=e(this._tpl.menuItem).appendTo(this.menuEl),k.push(a.find("a.menu-item").attr({title:null!=(n=d.title)?n:d.text,"data-param":d.param}).addClass("menu-item-"+d.name).find("span").text(d.text)));return k}};d.prototype.setActive=function(a){if(a!==
this.active)return this.active=a,this.el.toggleClass("active",this.active),this.editor.toolbar.trigger("buttonstatus",[this])};d.prototype.setDisabled=function(a){if(a!==this.disabled)return this.disabled=a,this.el.toggleClass("disabled",this.disabled),this.editor.toolbar.trigger("buttonstatus",[this])};d.prototype.status=function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0;null!=a&&this.setActive(a.is(this.htmlTag));return this.active};d.prototype.command=function(a){};
d.prototype._t=function(){var a,b,c;a=1<=arguments.length?B.call(arguments,0):[];c=d.__super__._t.apply(this,a);c||(c=(b=this.editor)._t.apply(b,a));return c};return d}(f);C.Button=m;f=function(c){function d(a){this.button=a.button;this.editor=a.button.editor;d.__super__.constructor.call(this,a)}A(d,c);d.prototype.offset={top:4,left:0};d.prototype.target=null;d.prototype.active=!1;d.prototype._init=function(){this.el=e('<div class="simditor-popover"></div>').appendTo(this.editor.el).data("popover",
this);this.render();this.el.on("mouseenter",function(a){return function(b){return a.el.addClass("hover")}}(this));return this.el.on("mouseleave",function(a){return function(b){return a.el.removeClass("hover")}}(this))};d.prototype.render=function(){};d.prototype.show=function(a,b){null==b&&(b="bottom");if(null!=a){this.el.siblings(".simditor-popover").each(function(a){return function(a,b){b=e(b).data("popover");if(b.active)return b.hide()}}(this));this.target=a.addClass("selected");if(this.active)return this.refresh(b),
this.trigger("popovershow");this.active=!0;this.el.css({left:-9999}).show();return setTimeout(function(a){return function(){a.refresh(b);return a.trigger("popovershow")}}(this),0)}};d.prototype.hide=function(){if(this.active)return this.target&&this.target.removeClass("selected"),this.target=null,this.active=!1,this.el.hide(),this.trigger("popoverhide")};d.prototype.refresh=function(a){var b,c,d,e;null==a&&(a="bottom");if(this.active)return b=this.editor.el.offset(),d=this.target.offset(),c=this.target.outerHeight(),
"bottom"===a?e=d.top-b.top+c:"top"===a&&(e=d.top-b.top-this.el.height()),a=Math.min(d.left-b.left,this.editor.wrapper.width()-this.el.outerWidth()-10),this.el.css({top:e+this.offset.top,left:a+this.offset.left})};d.prototype.destroy=function(){this.target=null;this.active=!1;this.editor.off(".linkpopover");return this.el.remove()};d.prototype._t=function(){var a,b,c;a=1<=arguments.length?B.call(arguments,0):[];c=d.__super__._t.apply(this,a);c||(c=(b=this.button)._t.apply(b,a));return c};return d}(f);
C.Popover=f;k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="source";d.prototype.icon="html5";d.prototype.needFocus=!1;d.prototype._init=function(){d.__super__._init.call(this);this.editor.textarea.on("focus",function(a){return function(b){return a.editor.el.addClass("focus").removeClass("error")}}(this));this.editor.textarea.on("blur",function(a){return function(b){a.editor.el.removeClass("focus");return a.editor.setValue(a.editor.textarea.val())}}(this));
return this.editor.textarea.on("input",function(a){return function(b){return a._resizeTextarea()}}(this))};d.prototype.status=function(a){return!0};d.prototype.command=function(){var a,b,c,d;this.editor.blur();this.editor.el.toggleClass("simditor-source-mode");this.editor.sourceMode=this.editor.el.hasClass("simditor-source-mode");this.editor.sourceMode&&(this.editor.hidePopover(),this.editor.textarea.val(this.editor.util.formatHTML(this.editor.textarea.val())),this._resizeTextarea());d=this.editor.toolbar.buttons;
b=0;for(c=d.length;b<c;b++)a=d[b],"source"===a.name?a.setActive(this.editor.sourceMode):a.setDisabled(this.editor.sourceMode);return null};d.prototype._resizeTextarea=function(){this._textareaPadding||(this._textareaPadding=this.editor.textarea.innerHeight()-this.editor.textarea.height());return this.editor.textarea.height(0).height(this.editor.textarea[0].scrollHeight-this._textareaPadding)};return d}(m);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,
arguments)}A(d,c);d.prototype.name="title";d.prototype.htmlTag="h1, h2, h3, h4";d.prototype.disableTag="pre, table";d.prototype._init=function(){this.menu=[{name:"normal",text:this._t("normalText"),param:"p"},"|",{name:"h1",text:this._t("title")+" 1",param:"h1"},{name:"h2",text:this._t("title")+" 2",param:"h2"},{name:"h3",text:this._t("title")+" 3",param:"h3"},{name:"h4",text:this._t("title")+" 4",param:"h4"},{name:"h5",text:this._t("title")+" 5",param:"h5"}];return d.__super__._init.call(this)};
d.prototype.setActive=function(a,b){d.__super__.setActive.call(this,a);this.el.removeClass("active-p active-h1 active-h2 active-h3");if(a)return this.el.addClass("active active-"+b)};d.prototype.status=function(a){var b,c;null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0;null!=a&&(b=null!=(c=a[0].tagName)?c.toLowerCase():void 0,this.setActive(a.is(this.htmlTag),b));return this.active};d.prototype.command=function(a){var b,c,d,f,n,k;f=this.editor.selection.getRange();b=f.startContainer;
c=f.endContainer;b=this.editor.util.closestBlockEl(b);c=this.editor.util.closestBlockEl(c);this.editor.selection.save();f.setStartBefore(b[0]);f.setEndAfter(c[0]);b=e(f.extractContents());k=[];b.children().each(function(b){return function(c,d){var e,g,f,h,l;g=b._convertEl(d,a);l=[];f=0;for(h=g.length;f<h;f++)e=g[f],l.push(k.push(e));return l}}(this));n=k.reverse();b=0;for(c=n.length;b<c;b++)d=n[b],f.insertNode(d[0]);this.editor.selection.restore();return this.editor.trigger("valuechanged")};d.prototype._convertEl=
function(a,b){var c,d;c=e(a);d=[];c.is(b)||(c=e("<"+b+"/>").append(c.contents()));d.push(c);return d};return d}(m);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="bold";d.prototype.icon="bold";d.prototype.htmlTag="b, strong";d.prototype.disableTag="pre";d.prototype.shortcut="cmd+b";d.prototype._init=function(){this.editor.util.os.mac?this.title+=" ( Cmd + b )":(this.title+=" ( Ctrl + b )",this.shortcut="ctrl+b");return d.__super__._init.call(this)};
d.prototype.status=function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0;a=!0===document.queryCommandState("bold");this.setActive(a);return a};d.prototype.command=function(){document.execCommand("bold");this.editor.util.support.oninput||this.editor.trigger("valuechanged");return e(document).trigger("selectionchange")};return d}(m);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="italic";
d.prototype.icon="italic";d.prototype.htmlTag="i";d.prototype.disableTag="pre";d.prototype.shortcut="cmd+i";d.prototype._init=function(){this.editor.util.os.mac?this.title+=" ( Cmd + i )":(this.title+=" ( Ctrl + i )",this.shortcut="ctrl+i");return d.__super__._init.call(this)};d.prototype.status=function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return this.disabled;a=!0===document.queryCommandState("italic");this.setActive(a);return a};d.prototype.command=function(){document.execCommand("italic");
this.editor.util.support.oninput||this.editor.trigger("valuechanged");return e(document).trigger("selectionchange")};return d}(m);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="underline";d.prototype.icon="underline";d.prototype.htmlTag="u";d.prototype.disableTag="pre";d.prototype.shortcut="cmd+u";d.prototype.render=function(){this.editor.util.os.mac?this.title+=" ( Cmd + u )":(this.title+=" ( Ctrl + u )",this.shortcut=
"ctrl+u");return d.__super__.render.call(this)};d.prototype.status=function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return this.disabled;a=!0===document.queryCommandState("underline");this.setActive(a);return a};d.prototype.command=function(){document.execCommand("underline");this.editor.util.support.oninput||this.editor.trigger("valuechanged");return e(document).trigger("selectionchange")};return d}(m);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,
arguments)}A(d,c);d.prototype.name="color";d.prototype.icon="tint";d.prototype.disableTag="pre";d.prototype.menu=!0;d.prototype.render=function(){var a;a=1<=arguments.length?B.call(arguments,0):[];return d.__super__.render.apply(this,a)};d.prototype.renderMenu=function(){e('<ul class="color-list">\n  <li><a href="javascript:;" class="font-color font-color-1" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-2" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-3" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-4" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-5" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-6" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-7" data-color=""></a></li>\n  <li><a href="javascript:;" class="font-color font-color-default" data-color=""></a></li>\n</ul>').appendTo(this.menuWrapper);
this.menuWrapper.on("mousedown",".color-list",function(a){return!1});return this.menuWrapper.on("click",".font-color",function(a){return function(b){a.wrapper.removeClass("menu-on");b=e(b.currentTarget);if(b.hasClass("font-color-default")){b=a.editor.body.find("p, li");if(!(0<b.length))return;b=window.getComputedStyle(b[0],null).getPropertyValue("color")}else b=window.getComputedStyle(b[0],null).getPropertyValue("background-color");if(b=a._convertRgbToHex(b))if(document.execCommand("foreColor",!1,
b),!a.editor.util.support.oninput)return a.editor.trigger("valuechanged")}}(this))};d.prototype._convertRgbToHex=function(a){return(a=/rgb\((\d+),\s?(\d+),\s?(\d+)\)/g.exec(a))?function(a,c,d){var e;e=function(a){a=a.toString(16);return 1===a.length?"0"+a:a};return"#"+e(a)+e(c)+e(d)}(1*a[1],1*a[2],1*a[3]):""};return d}(m);C.Toolbar.addButton(k);D=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.type="";d.prototype.disableTag="pre, table";d.prototype.status=
function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0;if(null==a)return this.active;if(a.is("ul"===this.type?"ol":"ul"))return this.setActive(!1),!0;this.setActive(a.is(this.htmlTag));return this.active};d.prototype.command=function(a){var b,c,d,f,n,k;a=this.editor.selection.getRange();b=a.startContainer;c=a.endContainer;b=this.editor.util.closestBlockEl(b);c=this.editor.util.closestBlockEl(c);this.editor.selection.save();a.setStartBefore(b[0]);a.setEndAfter(c[0]);
b.is("li")&&c.is("li")&&(f=this.editor.util.furthestNode(b,"ul, ol"),d=this.editor.util.furthestNode(c,"ul, ol"),f.is(d)?(n=function(a){var b;for(b=1;!a.parent().is(f);)b+=1,a=a.parent();return b},d=n(b),n=n(c),b=d>n?c.parent():b.parent(),a.setStartBefore(b[0]),a.setEndAfter(b[0])):(a.setStartBefore(f[0]),a.setEndAfter(d[0])));b=e(a.extractContents());k=[];b.children().each(function(a){return function(b,c){var d,e,g,f,l;e=a._convertEl(c);l=[];g=0;for(f=e.length;g<f;g++)d=e[g],k.length&&k[k.length-
1].is(a.type)&&d.is(a.type)?l.push(k[k.length-1].append(d.children())):l.push(k.push(d));return l}}(this));n=k.reverse();b=0;for(c=n.length;b<c;b++)d=n[b],a.insertNode(d[0]);this.editor.selection.restore();return this.editor.trigger("valuechanged")};d.prototype._convertEl=function(a){var b,c,d,f;a=e(a);f=[];b="ul"===this.type?"ol":"ul";if(a.is(this.type))a.children("li").each(function(a){return function(b,c){var d,g;d=e(c).children("ul, ol").remove();g=e("<p/>").append(e(c).html()||a.editor.util.phBr);
f.push(g);if(0<d.length)return f.push(d)}}(this));else if(a.is(b))c=e("<"+this.type+"/>").append(a.html()),f.push(c);else if(a.is("blockquote")){d=a.children().get();a=0;for(b=d.length;a<b;a++)c=d[a],c=this._convertEl(c);e.merge(f,c)}else a.is("table")||(c=e("<"+this.type+"><li></li></"+this.type+">"),c.find("li").append(a.html()||this.editor.util.phBr),f.push(c));return f};return d}(m);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.type="ol";d.prototype.name=
"ol";d.prototype.icon="list-ol";d.prototype.htmlTag="ol";d.prototype.shortcut="cmd+/";d.prototype._init=function(){this.editor.util.os.mac?this.title+=" ( Cmd + / )":(this.title+=" ( ctrl + / )",this.shortcut="ctrl+/");return d.__super__._init.call(this)};return d}(D);D=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.type="ul";d.prototype.name="ul";d.prototype.icon="list-ul";d.prototype.htmlTag="ul";d.prototype.shortcut="cmd+.";d.prototype._init=function(){this.editor.util.os.mac?
this.title+=" ( Cmd + . )":(this.title+=" ( Ctrl + . )",this.shortcut="ctrl+.");return d.__super__._init.call(this)};return d}(D);C.Toolbar.addButton(k);C.Toolbar.addButton(D);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="blockquote";d.prototype.icon="quote-left";d.prototype.htmlTag="blockquote";d.prototype.disableTag="pre, table";d.prototype.command=function(){var a,b,c,d,f,n;d=this.editor.selection.getRange();a=d.startContainer;b=d.endContainer;
a=this.editor.util.furthestBlockEl(a);b=this.editor.util.furthestBlockEl(b);this.editor.selection.save();d.setStartBefore(a[0]);d.setEndAfter(b[0]);a=e(d.extractContents());n=[];a.children().each(function(a){return function(b,c){var d,e,g,f,h;e=a._convertEl(c);h=[];g=0;for(f=e.length;g<f;g++)d=e[g],n.length&&n[n.length-1].is(a.htmlTag)&&d.is(a.htmlTag)?h.push(n[n.length-1].append(d.children())):h.push(n.push(d));return h}}(this));f=n.reverse();a=0;for(b=f.length;a<b;a++)c=f[a],d.insertNode(c[0]);
this.editor.selection.restore();return this.editor.trigger("valuechanged")};d.prototype._convertEl=function(a){var b;a=e(a);b=[];a.is(this.htmlTag)?a.children().each(function(a){return function(a,c){return b.push(e(c))}}(this)):(a=e("<"+this.htmlTag+"/>").append(a),b.push(a));return b};return d}(m);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="code";d.prototype.icon="code";d.prototype.htmlTag="pre";d.prototype.disableTag=
"li, table";d.prototype._init=function(){d.__super__._init.call(this);this.editor.on("decorate",function(a){return function(b,c){return c.find("pre").each(function(b,c){return a.decorate(e(c))})}}(this));return this.editor.on("undecorate",function(a){return function(b,c){return c.find("pre").each(function(b,c){return a.undecorate(e(c))})}}(this))};d.prototype.render=function(){var a;a=1<=arguments.length?B.call(arguments,0):[];d.__super__.render.apply(this,a);return this.popover=new q({button:this})};
d.prototype.status=function(a){var b;b=d.__super__.status.call(this,a);this.active?this.popover.show(a):this.editor.util.isBlockNode(a)&&this.popover.hide();return b};d.prototype.decorate=function(a){var b;b=a.attr("data-lang");a.removeClass();if(b&&-1!==b)return a.addClass("lang-"+b)};d.prototype.undecorate=function(a){var b;b=a.attr("data-lang");a.removeClass();if(b&&-1!==b)return a.addClass("lang-"+b)};d.prototype.command=function(){var a,b,c,d,f,n;d=this.editor.selection.getRange();a=d.startContainer;
b=d.endContainer;a=this.editor.util.closestBlockEl(a);b=this.editor.util.closestBlockEl(b);d.setStartBefore(a[0]);d.setEndAfter(b[0]);a=e(d.extractContents());n=[];a.children().each(function(a){return function(b,c){var d,e,g,f,h;e=a._convertEl(c);h=[];g=0;for(f=e.length;g<f;g++)d=e[g],n.length&&n[n.length-1].is(a.htmlTag)&&d.is(a.htmlTag)?h.push(n[n.length-1].append(d.contents())):h.push(n.push(d));return h}}(this));f=n.reverse();a=0;for(b=f.length;a<b;a++)c=f[a],d.insertNode(c[0]);this.editor.selection.setRangeAtEndOf(n[0]);
return this.editor.trigger("valuechanged")};d.prototype._convertEl=function(a){var b;b=e(a);a=[];b.is(this.htmlTag)?b=e("<p/>").append(b.html().replace("\n","<br/>")):(b=!b.text()&&1===b.children().length&&b.children().is("br")?"\n":this.editor.formatter.clearHtml(b),b=e("<"+this.htmlTag+"/>").text(b));a.push(b);return a};return d}(m);q=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype._tpl='<div class="code-settings">\n  <div class="settings-field">\n    <select class="select-lang">\n      <option value="-1">\u9009\u62e9\u7a0b\u5e8f\u8bed\u8a00</option>\n      <option value="bash">Bash</option>\n      <option value="c++">C++</option>\n      <option value="cs">C#</option>\n      <option value="css">CSS</option>\n      <option value="erlang">Erlang</option>\n      <option value="less">Less</option>\n      <option value="scss">Sass</option>\n      <option value="diff">Diff</option>\n      <option value="coffeeScript">CoffeeScript</option>\n      <option value="html">Html,XML</option>\n      <option value="json">JSON</option>\n      <option value="java">Java</option>\n      <option value="js">JavaScript</option>\n      <option value="markdown">Markdown</option>\n      <option value="oc">Objective C</option>\n      <option value="php">PHP</option>\n      <option value="perl">Perl</option>\n      <option value="python">Python</option>\n      <option value="ruby">Ruby</option>\n      <option value="sql">SQL</option>\n    </select>\n  </div>\n</div>';
d.prototype.render=function(){this.el.addClass("code-popover").append(this._tpl);this.selectEl=this.el.find(".select-lang");this.selectEl.on("change",function(a){return function(b){a.lang=a.selectEl.val();b=a.target.hasClass("selected");a.target.removeClass().removeAttr("data-lang");-1!==a.lang&&(a.target.addClass("lang-"+a.lang),a.target.attr("data-lang",a.lang));if(b)return a.target.addClass("selected")}}(this));return this.editor.on("valuechanged",function(a){return function(b){if(a.active)return a.refresh()}}(this))};
d.prototype.show=function(){var a;a=1<=arguments.length?B.call(arguments,0):[];d.__super__.show.apply(this,a);this.lang=this.target.attr("data-lang");return null!=this.lang?this.selectEl.val(this.lang):this.selectEl.val(-1)};return d}(f);C.Toolbar.addButton(k);k=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="link";d.prototype.icon="link";d.prototype.htmlTag="a";d.prototype.disableTag="pre";d.prototype.render=function(){var a;a=1<=arguments.length?
B.call(arguments,0):[];d.__super__.render.apply(this,a);return this.popover=new K({button:this})};d.prototype.status=function(a){var b;null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0;if(null==a)return this.active;b=!0;!a.is(this.htmlTag)||a.is('[class^="simditor-"]')?(this.setActive(!1),b=!1):this.editor.selection.rangeAtEndOf(a)?(this.setActive(!0),b=!1):this.setActive(!0);b?this.popover.show(a):this.editor.util.isBlockNode(a)&&this.popover.hide();return this.active};d.prototype.command=
function(){var a,b,c,d,f;f=this.editor.selection.getRange();this.active?(a=e(f.commonAncestorContainer).closest("a"),c=document.createTextNode(a.text()),a.replaceWith(c),f.selectNode(c)):(c=f.startContainer,a=f.endContainer,c=this.editor.util.closestBlockEl(c),b=this.editor.util.closestBlockEl(a),a=e(f.extractContents()),d=this.editor.formatter.clearHtml(a.contents(),!1),a=e("<a/>",{href:"http://www.example.com",target:"_blank",text:d||this._t("linkText")}),c[0]===b[0]?f.insertNode(a[0]):(c=e("<p/>").append(a),
f.insertNode(c[0])),f.selectNodeContents(a[0]),this.popover.one("popovershow",function(a){return function(){if(d)return a.popover.urlEl.focus(),a.popover.urlEl[0].select();a.popover.textEl.focus();return a.popover.textEl[0].select()}}(this)));this.editor.selection.selectRange(f);return this.editor.trigger("valuechanged")};return d}(m);K=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.render=function(){var a;a='<div class="link-settings">\n  <div class="settings-field">\n    <label>'+
this._t("text")+'</label>\n    <input class="link-text" type="text"/>\n    <a class="btn-unlink" href="javascript:;" title="'+this._t("removeLink")+'" tabindex="-1"><span class="simditor-icon simditor-icon-unlink"></span></a>\n  </div>\n  <div class="settings-field">\n    <label>'+this._t("linkUrl")+'</label>\n    <input class="link-url" type="text"/>\n  </div>\n</div>';this.el.addClass("link-popover").append(a);this.textEl=this.el.find(".link-text");this.urlEl=this.el.find(".link-url");this.unlinkEl=
this.el.find(".btn-unlink");this.textEl.on("keyup",function(a){return function(c){if(13!==c.which)return a.target.text(a.textEl.val())}}(this));this.urlEl.on("keyup",function(a){return function(c){if(13!==c.which)return c=a.urlEl.val(),!/https?:\/\/|^\//ig.test(c)&&c&&(c="http://"+c),a.target.attr("href",c)}}(this));e([this.urlEl[0],this.textEl[0]]).on("keydown",function(a){return function(c){if(13===c.which||27===c.which||!c.shiftKey&&9===c.which&&e(c.target).hasClass("link-url"))return c.preventDefault(),
setTimeout(function(){var c;c=document.createRange();a.editor.selection.setRangeAfter(a.target,c);a.hide();return a.editor.trigger("valuechanged")},0)}}(this));return this.unlinkEl.on("click",function(a){return function(c){var d;d=document.createTextNode(a.target.text());a.target.replaceWith(d);a.hide();c=document.createRange();a.editor.selection.setRangeAfter(d,c);return a.editor.trigger("valuechanged")}}(this))};d.prototype.show=function(){var a;a=1<=arguments.length?B.call(arguments,0):[];d.__super__.show.apply(this,
a);this.textEl.val(this.target.text());return this.urlEl.val(this.target.attr("href"))};return d}(f);C.Toolbar.addButton(k);k=function(f){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,f);d.prototype.name="image";d.prototype.icon="picture-o";d.prototype.htmlTag="img";d.prototype.disableTag="pre, table";d.prototype.defaultImage="";d.prototype.needFocus=!1;d.prototype._init=function(){var a,b,c,f;if(this.editor.opts.imageButton)if(Array.isArray(this.editor.opts.imageButton))for(this.menu=
[],f=this.editor.opts.imageButton,b=0,c=f.length;b<c;b++)a=f[b],this.menu.push({name:a+"-image",text:this._t(a+"Image")});else this.menu=!1;else this.menu=null!=this.editor.uploader?[{name:"upload-image",text:this._t("uploadImage")},{name:"external-image",text:this._t("externalImage")}]:!1;this.defaultImage=this.editor.opts.defaultImage;this.editor.body.on("click","img:not([data-non-image])",function(a){return function(b){var c;b=e(b.currentTarget);c=document.createRange();c.selectNode(b[0]);a.editor.selection.selectRange(c);
a.editor.util.support.onselectionchange||a.editor.trigger("selectionchanged");return!1}}(this));this.editor.body.on("mouseup","img:not([data-non-image])",function(a){return function(a){return!1}}(this));this.editor.on("selectionchanged.image",function(a){return function(){var b,c;c=a.editor.selection.getRange();if(null!=c)return b=e(c.cloneContents()).contents(),1===b.length&&b.is("img:not([data-non-image])")?(b=e(c.startContainer).contents().eq(c.startOffset),a.popover.show(b)):a.popover.hide()}}(this));
this.editor.on("valuechanged.image",function(a){return function(){var b;b=a.editor.wrapper.find(".simditor-image-loading");if(0<b.length)return b.each(function(b,c){var d,g;g=e(c);d=g.data("img");if(!(d&&0<d.parent().length)&&(g.remove(),d&&(d=d.data("file")))&&(a.editor.uploader.cancel(d),1>a.editor.body.find("img.uploading").length))return a.editor.uploader.trigger("uploadready",[d])})}}(this));return d.__super__._init.call(this)};d.prototype.render=function(){var a;a=1<=arguments.length?B.call(arguments,
0):[];d.__super__.render.apply(this,a);this.popover=new c({button:this});if("upload"===this.editor.opts.imageButton)return this._initUploader(this.el)};d.prototype.renderMenu=function(){d.__super__.renderMenu.call(this);return this._initUploader()};d.prototype._initUploader=function(a){var b,c;null==a&&(a=this.menuEl.find(".menu-item-upload-image"));if(null==this.editor.uploader)this.el.find(".btn-upload").remove();else return b=null,c=function(c){return function(){b&&b.remove();return b=e('<input type="file" title="'+
c._t("uploadImage")+'" accept="image/*">').appendTo(a)}}(this),c(),a.on("click mousedown","input[type=file]",function(a){return function(a){return a.stopPropagation()}}(this)),a.on("change","input[type=file]",function(a){return function(d){a.editor.inputManager.focused?(a.editor.uploader.upload(b,{inline:!0}),c()):(a.editor.one("focus",function(d){a.editor.uploader.upload(b,{inline:!0});return c()}),a.editor.focus());return a.wrapper.removeClass("menu-on")}}(this)),this.editor.uploader.on("beforeupload",
function(a){return function(b,c){var d;if(c.inline)return c.img?d=e(c.img):(d=a.createImage(c.name),c.img=d),d.addClass("uploading"),d.data("file",c),a.editor.uploader.readImageFile(c.obj,function(b){if(d.hasClass("uploading"))return b=b?b.src:a.defaultImage,a.loadImage(d,b,function(){if(a.popover.active)return a.popover.refresh(),a.popover.srcEl.val(a._t("uploading")).prop("disabled",!0)})})}}(this)),this.editor.uploader.on("uploadprogress",e.proxy(this.editor.util.throttle(function(a,b,c,d){if(b.inline&&
(a=b.img.data("mask"))){b=a.data("img");if(b.hasClass("uploading")&&0<b.parent().length)return c=(c/d*100).toFixed(0),99<c&&(c=99),a.find(".progress").height(100-c+"%");a.remove()}},500),this)),this.editor.uploader.on("uploadsuccess",function(a){return function(b,c,d){var g;if(c.inline&&(b=c.img,b.hasClass("uploading")&&0<b.parent().length)){b.removeData("file");b.removeClass("uploading").removeClass("loading");(g=b.data("mask"))&&g.remove();b.removeData("mask");if("object"!==typeof d)try{d=e.parseJSON(d)}catch(f){d=
{success:!1}}!1===d.success?(g=d.msg||a._t("uploadFailed"),alert(g),b.attr("src",a.defaultImage)):b.attr("src",d.file_path);a.popover.active&&(a.popover.srcEl.prop("disabled",!1),a.popover.srcEl.val(d.file_path));a.editor.trigger("valuechanged");if(1>a.editor.body.find("img.uploading").length)return a.editor.uploader.trigger("uploadready",[c,d])}}}(this)),this.editor.uploader.on("uploaderror",function(a){return function(b,c,d){var g,f;if(c.inline&&"abort"!==d.statusText){if(d.responseText){try{f=
e.parseJSON(d.responseText),g=f.msg}catch(k){g=a._t("uploadError")}alert(g)}b=c.img;if(b.hasClass("uploading")&&0<b.parent().length&&(b.removeData("file"),b.removeClass("uploading").removeClass("loading"),(d=b.data("mask"))&&d.remove(),b.removeData("mask"),b.attr("src",a.defaultImage),a.popover.active&&(a.popover.srcEl.prop("disabled",!1),a.popover.srcEl.val(a.defaultImage)),a.editor.trigger("valuechanged"),1>a.editor.body.find("img.uploading").length))return a.editor.uploader.trigger("uploadready",
[c,f])}}}(this))};d.prototype.status=function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0};d.prototype.loadImage=function(a,b,c){var d,f,k;k=function(b){return function(){var c,e;c=a.offset();e=b.editor.wrapper.offset();return d.css({top:c.top-e.top,left:c.left-e.left,width:a.width(),height:a.height()}).show()}}(this);a.addClass("loading");d=a.data("mask");d||(d=e('<div class="simditor-image-loading"><div class="progress"></div></div>').hide().appendTo(this.editor.wrapper),
k(),a.data("mask",d),d.data("img",a));f=new Image;f.onload=function(e){return function(){var m,q;if(a.hasClass("loading")||a.hasClass("uploading"))return q=f.width,m=f.height,a.attr({src:b,"data-image-size":q+","+m}).removeClass("loading"),a.hasClass("uploading")?(e.editor.util.reflow(e.editor.body),k()):(d.remove(),a.removeData("mask")),c(f)}}(this);f.onerror=function(b){return function(){c(!1);d.remove();return a.removeData("mask").removeClass("loading")}}(this);return f.src=b};d.prototype.createImage=
function(a){var b,c;null==a&&(a="Image");this.editor.inputManager.focused||this.editor.focus();c=this.editor.selection.getRange();c.deleteContents();b=this.editor.util.closestBlockEl();b.is("p")&&!this.editor.util.isEmptyNode(b)&&(b=e("<p/>").append(this.editor.util.phBr).insertAfter(b),this.editor.selection.setRangeAtStartOf(b,c));a=e("<img/>").attr("alt",a);c.insertNode(a[0]);c=b.next("p");0<c.length||(c=e("<p/>").append(this.editor.util.phBr).insertAfter(b));this.editor.selection.setRangeAtStartOf(c);
return a};d.prototype.command=function(a){var b;b=this.createImage();return this.loadImage(b,a||this.defaultImage,function(a){return function(){a.editor.trigger("valuechanged");a.editor.util.reflow(b);b.click();return a.popover.one("popovershow",function(){a.popover.srcEl.focus();return a.popover.srcEl[0].select()})}}(this))};return d}(m);c=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.offset={top:6,left:-4};d.prototype.render=function(){var a;a=
'<div class="link-settings">\n  <div class="settings-field">\n    <label>'+this._t("imageUrl")+'</label>\n    <input class="image-src" type="text" tabindex="1" />\n    <a class="btn-upload" href="javascript:;" title="'+this._t("uploadImage")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-upload"></span>\n    </a>\n  </div>\n  <div class=\'settings-field\'>\n    <label>'+this._t("imageAlt")+'</label>\n    <input class="image-alt" id="image-alt" type="text" tabindex="1" />\n  </div>\n  <div class="settings-field">\n    <label>'+
this._t("imageSize")+'</label>\n    <input class="image-size" id="image-width" type="text" tabindex="2" />\n    <span class="times">\u00d7</span>\n    <input class="image-size" id="image-height" type="text" tabindex="3" />\n    <a class="btn-restore" href="javascript:;" title="'+this._t("restoreImageSize")+'" tabindex="-1">\n      <span class="simditor-icon simditor-icon-undo"></span>\n    </a>\n  </div>\n</div>';this.el.addClass("image-popover").append(a);this.srcEl=this.el.find(".image-src");this.widthEl=
this.el.find("#image-width");this.heightEl=this.el.find("#image-height");this.altEl=this.el.find("#image-alt");this.srcEl.on("keydown",function(a){return function(c){if(13===c.which&&!a.target.hasClass("uploading"))return c.preventDefault(),a.button.editor.body.focus(),a.button.editor.selection.setRangeAfter(a.target),a.hide()}}(this));this.srcEl.on("blur",function(a){return function(c){return a._loadImage(a.srcEl.val())}}(this));this.el.find(".image-size").on("blur",function(a){return function(c){a._resizeImg(e(c.currentTarget));
return a.el.data("popover").refresh()}}(this));this.el.find(".image-size").on("keyup",function(a){return function(c){var d;d=e(c.currentTarget);if(13!==c.which&&27!==c.which&&9!==c.which)return a._resizeImg(d,!0)}}(this));this.el.find(".image-size").on("keydown",function(a){return function(c){var d;d=e(c.currentTarget);if(13===c.which||27===c.which)return c.preventDefault(),13===c.which?a._resizeImg(d):a._restoreImg(),a.button.editor.body.focus(),a.button.editor.selection.setRangeAfter(a.target),
a.hide();if(9===c.which)return a.el.data("popover").refresh()}}(this));this.altEl.on("keydown",function(a){return function(c){if(13===c.which)return c.preventDefault(),a.button.editor.body.focus(),a.button.editor.selection.setRangeAfter(a.target),a.hide()}}(this));this.altEl.on("keyup",function(a){return function(c){if(13!==c.which&&27!==c.which&&9!==c.which)return a.alt=a.altEl.val(),a.target.attr("alt",a.alt)}}(this));this.el.find(".btn-restore").on("click",function(a){return function(c){a._restoreImg();
return a.el.data("popover").refresh()}}(this));this.editor.on("valuechanged",function(a){return function(c){if(a.active)return a.refresh()}}(this));return this._initUploader()};d.prototype._initUploader=function(){var a,b;a=this.el.find(".btn-upload");if(null==this.editor.uploader)a.remove();else return b=function(b){return function(){b.input&&b.input.remove();return b.input=e('<input type="file" title="'+b._t("uploadImage")+'" accept="image/*">').appendTo(a)}}(this),b(),this.el.on("click mousedown",
"input[type=file]",function(a){return function(a){return a.stopPropagation()}}(this)),this.el.on("change","input[type=file]",function(a){return function(c){a.editor.uploader.upload(a.input,{inline:!0,img:a.target});return b()}}(this))};d.prototype._resizeImg=function(a,b){var c,d,f;null==b&&(b=!1);d=1*a.val();if(e.isNumeric(d)||0>d)return a.is(this.widthEl)?(c=this.height*d/this.width,this.heightEl.val(c)):(f=this.width*d/this.height,this.widthEl.val(f)),b||this.target.attr({width:f||d,height:c||
d}),this.editor.trigger("valuechanged")};d.prototype._restoreImg=function(){var a,b;b=(null!=(a=this.target.data("image-size"))?a.split(","):void 0)||[this.width,this.height];this.target.attr({width:1*b[0],height:1*b[1]});this.widthEl.val(b[0]);this.heightEl.val(b[1]);return this.editor.trigger("valuechanged")};d.prototype._loadImage=function(a,b){if(/^data:image/.test(a)&&!this.editor.uploader)b&&b(!1);else return this.button.loadImage(this.target,a,function(c){return function(d){var e;if(d&&(c.active&&
(c.width=d.width,c.height=d.height,c.widthEl.val(c.width),c.heightEl.val(c.height),c.target.removeAttr("width").removeAttr("height")),/^data:image/.test(a)?(e=c.editor.util.dataURLtoBlob(a),e.name="Base64 Image.png",c.editor.uploader.upload(e,{inline:!0,img:c.target})):c.editor.trigger("valuechanged"),b))return b(d)}}(this))};d.prototype.show=function(){var a;a=1<=arguments.length?B.call(arguments,0):[];d.__super__.show.apply(this,a);a=this.target;this.width=a.width();this.height=a.height();this.alt=
a.attr("alt");if(a.hasClass("uploading"))return this.srcEl.val(this._t("uploading")).prop("disabled",!0);this.srcEl.val(a.attr("src")).prop("disabled",!1);this.widthEl.val(this.width);this.heightEl.val(this.height);return this.altEl.val(this.alt)};return d}(f);C.Toolbar.addButton(k);f=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="indent";d.prototype.icon="indent";d.prototype._init=function(){this.title=this._t(this.name)+" (Tab)";return d.__super__._init.call(this)};
d.prototype.status=function(a){return!0};d.prototype.command=function(){return this.editor.indentation.indent()};return d}(m);C.Toolbar.addButton(f);f=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="outdent";d.prototype.icon="outdent";d.prototype._init=function(){this.title=this._t(this.name)+" (Shift + Tab)";return d.__super__._init.call(this)};d.prototype.status=function(a){return!0};d.prototype.command=function(){return this.editor.indentation.indent(!0)};
return d}(m);C.Toolbar.addButton(f);f=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="hr";d.prototype.icon="minus";d.prototype.htmlTag="hr";d.prototype.status=function(a){return!0};d.prototype.command=function(){var a,b;a=this.editor.util.furthestBlockEl();0<a.next().length?this.editor.selection.save():b=e("<p/>").append(this.editor.util.phBr);a=e("<hr/>").insertAfter(a);b?(b.insertAfter(a),this.editor.selection.setRangeAtStartOf(b)):this.editor.selection.restore();
return this.editor.trigger("valuechanged")};return d}(m);C.Toolbar.addButton(f);f=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="table";d.prototype.icon="table";d.prototype.htmlTag="table";d.prototype.disableTag="pre, li, blockquote";d.prototype.menu=!0;d.prototype._init=function(){d.__super__._init.call(this);e.merge(this.editor.formatter._allowedTags,["tbody","tr","td","colgroup","col"]);e.extend(this.editor.formatter._allowedAttributes,{td:["rowspan",
"colspan"],col:["width"]});this._initShortcuts();this.editor.on("decorate",function(a){return function(b,c){return c.find("table").each(function(b,c){return a.decorate(e(c))})}}(this));this.editor.on("undecorate",function(a){return function(b,c){return c.find("table").each(function(b,c){return a.undecorate(e(c))})}}(this));this.editor.on("selectionchanged.table",function(a){return function(b){var c;a.editor.body.find(".simditor-table td").removeClass("active");c=a.editor.selection.getRange();if(null!=
c)return b=e(c.commonAncestorContainer),c.collapsed&&b.is(".simditor-table")&&(b=a.editor.selection.rangeAtStartOf(b)?b.find("td:first"):b.find("td:last"),a.editor.selection.setRangeAtEndOf(b)),b.closest("td",a.editor.body).addClass("active")}}(this));this.editor.on("blur.table",function(a){return function(b){return a.editor.body.find(".simditor-table td").removeClass("active")}}(this));this.editor.inputManager.addKeystrokeHandler("38","td",function(a){return function(b,c){var d,e;e=c.parent("tr");
d=e.prev("tr");if(!(0<d.length))return!0;e=e.find("td").index(c);a.editor.selection.setRangeAtEndOf(d.find("td").eq(e));return!0}}(this));return this.editor.inputManager.addKeystrokeHandler("40","td",function(a){return function(b,c){var d,e;e=c.parent("tr");d=e.next("tr");if(!(0<d.length))return!0;e=e.find("td").index(c);a.editor.selection.setRangeAtEndOf(d.find("td").eq(e));return!0}}(this))};d.prototype.initResize=function(a){var b,c,d;d=a.parent(".simditor-table");b=a.find("colgroup");1>b.length&&
(b=e("<colgroup/>").prependTo(a),a.find("tr:first td").each(function(a){return function(a,c){return e("<col/>").appendTo(b)}}(this)),this.refreshTableWidth(a));c=e('<div class="simditor-resize-handle" contenteditable="false"></div>').appendTo(d);d.on("mousemove","td",function(a){return function(a){var f,k,l;if(!d.hasClass("resizing"))if(k=e(a.currentTarget),a=a.pageX-e(a.currentTarget).offset().left,5>a&&0<k.prev().length&&(k=k.prev()),1>k.next("td").length)c.hide();else if(null!=(f=c.data("td"))&&
f.is(k))c.show();else if(f=k.parent().find("td").index(k),f=b.find("col").eq(f),null!=(l=c.data("col"))&&l.is(f))c.show();else return c.css("left",k.position().left+k.outerWidth()-5).data("td",k).data("col",f).show()}}(this));d.on("mouseleave",function(a){return function(a){return c.hide()}}(this));return d.on("mousedown",".simditor-resize-handle",function(a){return function(a){var b,c,f,g,k,l,m,h,q,s;b=e(a.currentTarget);f=b.data("td");c=b.data("col");k=f.next("td");g=c.next("col");q=a.pageX;m=1*
f.outerWidth();h=1*k.outerWidth();l=parseFloat(b.css("left"));s=f.closest("table").width();e(document).on("mousemove.simditor-resize-table",function(a){var d,e;a=a.pageX-q;d=m+a;e=h-a;50>d?(d=50,a=50-m,e=h-a):50>e&&(e=50,a=h-50,d=m+a);c.attr("width",d/s*100+"%");g.attr("width",e/s*100+"%");return b.css("left",l+a)});e(document).one("mouseup.simditor-resize-table",function(a){e(document).off(".simditor-resize-table");return d.removeClass("resizing")});d.addClass("resizing");return!1}}(this))};d.prototype._initShortcuts=
function(){this.editor.inputManager.addShortcut("ctrl+alt+up",function(a){return function(b){a.editMenu.find(".menu-item[data-param=insertRowAbove]").click();return!1}}(this));this.editor.inputManager.addShortcut("ctrl+alt+down",function(a){return function(b){a.editMenu.find(".menu-item[data-param=insertRowBelow]").click();return!1}}(this));this.editor.inputManager.addShortcut("ctrl+alt+left",function(a){return function(b){a.editMenu.find(".menu-item[data-param=insertColLeft]").click();return!1}}(this));
return this.editor.inputManager.addShortcut("ctrl+alt+right",function(a){return function(b){a.editMenu.find(".menu-item[data-param=insertColRight]").click();return!1}}(this))};d.prototype.decorate=function(a){0<a.parent(".simditor-table").length&&this.undecorate(a);a.wrap('<div class="simditor-table"></div>');this.initResize(a);return a.parent()};d.prototype.undecorate=function(a){if(0<a.parent(".simditor-table").length)return a.parent().replaceWith(a)};d.prototype.renderMenu=function(){e('<div class="menu-create-table">\n</div>\n<div class="menu-edit-table">\n  <ul>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="deleteRow"><span>'+
this._t("deleteRow")+'</span></a></li>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="insertRowAbove"><span>'+this._t("insertRowAbove")+' ( Ctrl + Alt + \u2191 )</span></a></li>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="insertRowBelow"><span>'+this._t("insertRowBelow")+' ( Ctrl + Alt + \u2193 )</span></a></li>\n    <li><span class="separator"></span></li>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="deleteCol"><span>'+
this._t("deleteColumn")+'</span></a></li>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="insertColLeft"><span>'+this._t("insertColumnLeft")+' ( Ctrl + Alt + \u2190 )</span></a></li>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="insertColRight"><span>'+this._t("insertColumnRight")+' ( Ctrl + Alt + \u2192 )</span></a></li>\n    <li><span class="separator"></span></li>\n    <li><a tabindex="-1" unselectable="on" class="menu-item" href="javascript:;" data-param="deleteTable"><span>'+
this._t("deleteTable")+"</span></a></li>\n  </ul>\n</div>").appendTo(this.menuWrapper);this.createMenu=this.menuWrapper.find(".menu-create-table");this.editMenu=this.menuWrapper.find(".menu-edit-table");this.createTable(6,6).appendTo(this.createMenu);this.createMenu.on("mouseenter","td",function(a){return function(b){var c;a.createMenu.find("td").removeClass("selected");c=e(b.currentTarget);b=c.parent();c=b.find("td").index(c)+1;return b.prevAll("tr").addBack().find("td:lt("+c+")").addClass("selected")}}(this));
this.createMenu.on("mouseleave",function(a){return function(a){return e(a.currentTarget).find("td").removeClass("selected")}}(this));return this.createMenu.on("mousedown","td",function(a){return function(b){var c;a.wrapper.removeClass("menu-on");if(a.editor.inputManager.focused)return c=e(b.currentTarget),b=c.parent(),c=b.find("td").index(c)+1,b=b.prevAll("tr").length+1,c=a.createTable(b,c,!0),b=a.editor.util.closestBlockEl(),a.editor.util.isEmptyNode(b)?b.replaceWith(c):b.after(c),a.decorate(c),
a.editor.selection.setRangeAtStartOf(c.find("td:first")),a.editor.trigger("valuechanged"),!1}}(this))};d.prototype.createTable=function(a,b,c){var d,f,k,m,q,s,t;d=e("<table/>");f=e("<tbody/>").appendTo(d);for(q=0;0<=a?q<a:q>a;0<=a?++q:--q)for(m=e("<tr/>").appendTo(f),s=0,t=b;0<=t?s<t:s>t;0<=t?++s:--s)k=e("<td/>").appendTo(m),c&&k.append(this.editor.util.phBr);return d};d.prototype.refreshTableWidth=function(a){var b,c;c=a.width();b=a.find("col");return a.find("tr:first td").each(function(a){return function(a,
d){return b.eq(a).attr("width",e(d).outerWidth()/c*100+"%")}}(this))};d.prototype.setActive=function(a){d.__super__.setActive.call(this,a);if(a)return this.createMenu.hide(),this.editMenu.show();this.createMenu.show();return this.editMenu.hide()};d.prototype.deleteRow=function(a){var b,c;c=a.parent("tr");if(1>c.siblings("tr").length)return this.deleteTable(a);b=c.next("tr");0<b.length||(b=c.prev("tr"));a=c.find("td").index(a);c.remove();return this.editor.selection.setRangeAtEndOf(b.find("td").eq(a))};
d.prototype.insertRow=function(a,b){var c,d,f,k,m;null==b&&(b="after");d=a.parent("tr");c=d.closest("table");f=0;c.find("tr").each(function(a){return function(a,b){return f=Math.max(f,e(b).find("td").length)}}(this));c=e("<tr/>");k=1;for(m=f;1<=m?k<=m:k>=m;1<=m?++k:--k)e("<td/>").append(this.editor.util.phBr).appendTo(c);d[b](c);d=d.find("td").index(a);return this.editor.selection.setRangeAtStartOf(c.find("td").eq(d))};d.prototype.deleteCol=function(a){var b,c;b=a.parent("tr");if(1>b.siblings("tr").length&&
1>a.siblings("td").length)return this.deleteTable(a);c=b.find("td").index(a);a=a.next("td");0<a.length||(a=b.prev("td"));b=b.closest("table");b.find("col").eq(c).remove();b.find("tr").each(function(a){return function(a,b){return e(b).find("td").eq(c).remove()}}(this));this.refreshTableWidth(b);return this.editor.selection.setRangeAtEndOf(a)};d.prototype.insertCol=function(a,b){var c,d,f,k,m;null==b&&(b="after");k=a.parent("tr").find("td").index(a);f=a.closest("table");c=f.find("col").eq(k);f.find("tr").each(function(a){return function(c,
d){var f;f=e("<td/>").append(a.editor.util.phBr);return e(d).find("td").eq(k)[b](f)}}(this));d=e("<col/>");c[b](d);m=f.width();m=Math.max(parseFloat(c.attr("width"))/2,50/m*100);c.attr("width",m+"%");d.attr("width",m+"%");this.refreshTableWidth(f);c="after"===b?a.next("td"):a.prev("td");return this.editor.selection.setRangeAtStartOf(c)};d.prototype.deleteTable=function(a){var b;b=a.closest(".simditor-table");a=b.next("p");b.remove();if(0<a.length)return this.editor.selection.setRangeAtStartOf(a)};
d.prototype.command=function(a){var b;b=this.editor.selection.getRange();b=e(b.commonAncestorContainer).closest("td");if(0<b.length){if("deleteRow"===a)this.deleteRow(b);else if("insertRowAbove"===a)this.insertRow(b,"before");else if("insertRowBelow"===a)this.insertRow(b);else if("deleteCol"===a)this.deleteCol(b);else if("insertColLeft"===a)this.insertCol(b,"before");else if("insertColRight"===a)this.insertCol(b);else if("deleteTable"===a)this.deleteTable(b);else return;return this.editor.trigger("valuechanged")}};
return d}(m);C.Toolbar.addButton(f);m=function(c){function d(){return d.__super__.constructor.apply(this,arguments)}A(d,c);d.prototype.name="strikethrough";d.prototype.icon="strikethrough";d.prototype.htmlTag="strike";d.prototype.disableTag="pre";d.prototype.status=function(a){null!=a&&this.setDisabled(a.is(this.disableTag));if(this.disabled)return!0;a=!0===document.queryCommandState("strikethrough");this.setActive(a);return a};d.prototype.command=function(){document.execCommand("strikethrough");
this.editor.util.support.oninput||this.editor.trigger("valuechanged");return e(document).trigger("selectionchange")};return d}(m);C.Toolbar.addButton(m);return C});
(function(){var e,f,v,s;e=function(e){var f;f=[];e.each(function(){return f.push('<li><a href="#'+this.id+'">'+$(this).text()+"</a></li>")});return f.join("")};f=function(){var f;f=[];$("section",$(".layout-main")).each(function(){var m,q;m=$("h1",$(this).children("header"));q=$(this).children("h2");q=0<q.size()?"<ul>"+e(q)+"</ul>":"";return f.push('<li><a href="#'+m.attr("id")+'">'+m.text()+"</a>"+q+"</li>")});return f.join("")};s=function(){$(".layout-main").after('<div class="layout-sub col-md-3"><nav class="docs-toc-wrapper hidden-xs hidden-sm"><ul class="docs-toc" /></nav></div>');
return $(".docs-toc").html(f())};v=function(){$("[data-role='datetimepicker']").datetimepicker();$("[data-role='icheck']").iCheck({checkboxClass:"icheckbox_flat-green",radioClass:"iradio_flat-green"});$("[data-role='select2']").select2();if(0!==$("[data-role='simditor']").size())return new Simditor({textarea:$("[data-role='simditor']")})};$(document).ready(function(){s();v();return $(".layout-sub nav").affix({offset:{top:$(".layout-sub nav").offset().top}})})}).call(this);
